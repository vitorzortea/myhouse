(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},PSD3:function(t,e,n){t.exports=function(){"use strict";const t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e="SweetAlert2:",n=t=>t.charAt(0).toUpperCase()+t.slice(1),r=t=>Array.prototype.slice.call(t),i=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},o=t=>{console.error("".concat(e," ").concat(t))},s=[],a=t=>"function"==typeof t?t():t,u=t=>t&&"function"==typeof t.toPromise,c=t=>u(t)?t.toPromise():Promise.resolve(t),l=t=>t&&Promise.resolve(t)===t,h=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t),d=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e},f=d(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),p=d(["success","warning","info","question","error"]),g=()=>document.body.querySelector(".".concat(f.container)),m=t=>{const e=g();return e?e.querySelector(t):null},y=t=>m(".".concat(t)),v=()=>y(f.popup),b=()=>y(f.icon),w=()=>y(f.title),_=()=>y(f["html-container"]),O=()=>y(f.image),C=()=>y(f["progress-steps"]),S=()=>y(f["validation-message"]),E=()=>m(".".concat(f.actions," .").concat(f.confirm)),T=()=>m(".".concat(f.actions," .").concat(f.deny)),x=()=>m(".".concat(f.loader)),I=()=>m(".".concat(f.actions," .").concat(f.cancel)),A=()=>y(f.actions),k=()=>y(f.footer),P=()=>y(f["timer-progress-bar"]),N=()=>y(f.close),M=()=>{const t=r(v().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,e)=>(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0),e=r(v().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter(t=>Z(t))},j=()=>!D()&&!document.body.classList.contains(f["no-backdrop"]),D=()=>document.body.classList.contains(f["toast-shown"]),R={previousBodyPadding:null},L=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html");r(n.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),r(n.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},V=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},F=(t,e,n)=>{if(((t,e)=>{r(t.classList).forEach(n=>{Object.values(f).includes(n)||Object.values(p).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)})})(t,e),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return i("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));H(t,e.customClass[n])}},U=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return G(t,f[e]);case"checkbox":return t.querySelector(".".concat(f.checkbox," input"));case"radio":return t.querySelector(".".concat(f.radio," input:checked"))||t.querySelector(".".concat(f.radio," input:first-child"));case"range":return t.querySelector(".".concat(f.range," input"));default:return G(t,f.input)}},B=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},q=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(e=>{t.forEach?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},H=(t,e)=>{q(t,e,!0)},z=(t,e)=>{q(t,e,!1)},G=(t,e)=>{for(let n=0;n<t.childNodes.length;n++)if(V(t.childNodes[n],e))return t.childNodes[n]},K=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},$=(t,e="flex")=>{t.style.display=e},W=t=>{t.style.display="none"},Q=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},Y=(t,e,n)=>{e?$(t,n):W(t)},Z=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),X=t=>!!(t.scrollHeight>t.clientHeight),J=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},tt=(t,e=!1)=>{const n=P();Z(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},et=()=>"undefined"==typeof window||"undefined"==typeof document,nt='\n <div aria-labelledby="'.concat(f.title,'" aria-describedby="').concat(f["html-container"],'" class="').concat(f.popup,'" tabindex="-1">\n   <button type="button" class="').concat(f.close,'"></button>\n   <ul class="').concat(f["progress-steps"],'"></ul>\n   <div class="').concat(f.icon,'"></div>\n   <img class="').concat(f.image,'" />\n   <h2 class="').concat(f.title,'" id="').concat(f.title,'"></h2>\n   <div class="').concat(f["html-container"],'" id="').concat(f["html-container"],'"></div>\n   <input class="').concat(f.input,'" />\n   <input type="file" class="').concat(f.file,'" />\n   <div class="').concat(f.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(f.select,'"></select>\n   <div class="').concat(f.radio,'"></div>\n   <label for="').concat(f.checkbox,'" class="').concat(f.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(f.label,'"></span>\n   </label>\n   <textarea class="').concat(f.textarea,'"></textarea>\n   <div class="').concat(f["validation-message"],'" id="').concat(f["validation-message"],'"></div>\n   <div class="').concat(f.actions,'">\n     <div class="').concat(f.loader,'"></div>\n     <button type="button" class="').concat(f.confirm,'"></button>\n     <button type="button" class="').concat(f.deny,'"></button>\n     <button type="button" class="').concat(f.cancel,'"></button>\n   </div>\n   <div class="').concat(f.footer,'"></div>\n   <div class="').concat(f["timer-progress-bar-container"],'">\n     <div class="').concat(f["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),rt=()=>{Re.isVisible()&&Re.resetValidationMessage()},it=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?ot(t,e):t&&L(e,t)},ot=(t,e)=>{t.jquery?st(e,t):L(e,t.toString())},st=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},at=(()=>{if(et())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})();function ut(t,e,r){Y(t,r["show".concat(n(e),"Button")],"inline-block"),L(t,r["".concat(e,"ButtonText")]),t.setAttribute("aria-label",r["".concat(e,"ButtonAriaLabel")]),t.className=f[e],F(t,r,"".concat(e,"Button")),H(t,r["".concat(e,"ButtonClass")])}var ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const lt=["input","file","range","select","radio","checkbox","textarea"],ht=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},dt=(t,e,n)=>{if(n.inputLabel){t.id=f.input;const r=document.createElement("label"),i=f["input-label"];r.setAttribute("for",t.id),r.className=i,H(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ft=t=>{const e=f[t]?f[t]:f.input;return G(v(),e)},pt={};pt.text=pt.email=pt.password=pt.number=pt.tel=pt.url=(t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:l(e.inputValue)||i('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),dt(t,t,e),ht(t,e),t.type=e.input,t),pt.file=(t,e)=>(dt(t,t,e),ht(t,e),t),pt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,dt(n,t,e),t},pt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");L(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return dt(t,t,e),t},pt.radio=t=>(t.textContent="",t),pt.checkbox=(t,e)=>{const n=U(v(),"checkbox");n.value=1,n.id=f.checkbox,n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return L(r,e.inputPlaceholder),t},pt.textarea=(t,e)=>{if(t.value=e.inputValue,ht(t,e),dt(t,t,e),"MutationObserver"in window){const e=parseInt(window.getComputedStyle(v()).width);new MutationObserver(()=>{const n=t.offsetWidth+(r=t,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;v().style.width=n>e?"".concat(n,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};const gt=(t,e)=>{const n=_();F(n,e,"htmlContainer"),e.html?(it(e.html,n),$(n,"block")):e.text?(n.textContent=e.text,$(n,"block")):W(n),((t,e)=>{const n=v(),r=ct.innerParams.get(t),i=!r||e.input!==r.input;lt.forEach(t=>{const r=f[t],o=G(n,r);((t,e)=>{const n=U(v(),t);if(n){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}})(n);for(const t in e)n.setAttribute(t,e[t])}})(t,e.inputAttributes),o.className=r,i&&W(o)}),e.input&&(i&&(t=>{if(!pt[t.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=ft(t.input),n=pt[t.input](e,t);$(n),setTimeout(()=>{B(n)})})(e),(t=>{const e=ft(t.input);t.customClass&&H(e,t.customClass.input)})(e))})(t,e)},mt=(t,e)=>{for(const n in p)e.icon!==n&&z(t,p[n]);H(t,p[e.icon]),bt(t,e),yt(),F(t,e,"icon")},yt=()=>{const t=v(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},vt=(t,e)=>{t.textContent="",L(t,e.iconHtml?wt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':wt({question:"?",warning:"!",info:"i"}[e.icon]))},bt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Q(t,n,"backgroundColor",e.iconColor);Q(t,".swal2-success-ring","borderColor",e.iconColor)}},wt=t=>'<div class="'.concat(f["icon-content"],'">').concat(t,"</div>"),_t=(t,e)=>{((t,e)=>{const n=g(),r=v();e.toast?(K(n,"width",e.width),r.style.width="100%",r.insertBefore(x(),b())):K(r,"width",e.width),K(r,"padding",e.padding),e.background&&(r.style.background=e.background),W(S()),((t,e)=>{t.className="".concat(f.popup," ").concat(Z(t)?e.showClass.popup:""),e.toast?(H([document.documentElement,document.body],f["toast-shown"]),H(t,f.toast)):H(t,f.modal),F(t,e,"popup"),"string"==typeof e.customClass&&H(t,e.customClass),e.icon&&H(t,f["icon-".concat(e.icon)])})(r,e)})(0,e),((t,e)=>{const n=g();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||H([document.documentElement,document.body],f["no-backdrop"])}(n,e.backdrop),function(t,e){e in f?H(t,f[e]):(i('The "position" parameter is not valid, defaulting to "center"'),H(t,f.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){const n="grow-".concat(e);n in f&&H(t,f[n])}}(n,e.grow),F(n,e,"container"))})(0,e),((t,e)=>{const n=C();if(!e.progressSteps||0===e.progressSteps.length)return W(n);$(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((t,r)=>{const i=(t=>{const e=document.createElement("li");return H(e,f["progress-step"]),L(e,t),e})(t);if(n.appendChild(i),r===e.currentProgressStep&&H(i,f["active-progress-step"]),r!==e.progressSteps.length-1){const t=(t=>{const e=document.createElement("li");return H(e,f["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e})(e);n.appendChild(t)}})})(0,e),((t,e)=>{const n=ct.innerParams.get(t),r=b();n&&e.icon===n.icon?(vt(r,e),mt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(p).indexOf(e.icon)?(o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),W(r)):($(r),vt(r,e),mt(r,e),H(r,e.showClass.icon)):W(r)})(t,e),((t,e)=>{const n=O();if(!e.imageUrl)return W(n);$(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),K(n,"width",e.imageWidth),K(n,"height",e.imageHeight),n.className=f.image,F(n,e,"image")})(0,e),((t,e)=>{const n=w();Y(n,e.title||e.titleText,"block"),e.title&&it(e.title,n),e.titleText&&(n.innerText=e.titleText),F(n,e,"title")})(0,e),((t,e)=>{const n=N();L(n,e.closeButtonHtml),F(n,e,"closeButton"),Y(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),gt(t,e),((t,e)=>{const n=A(),r=x(),i=E(),o=T(),s=I();e.showConfirmButton||e.showDenyButton||e.showCancelButton||W(n),F(n,e,"actions"),ut(i,"confirm",e),ut(o,"deny",e),ut(s,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return z([t,e,n],f.styled);H([t,e,n],f.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,H(t,f["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,H(e,f["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,H(n,f["default-outline"]))}(i,o,s,e),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r)),L(r,e.loaderHtml),F(r,e,"loader")})(0,e),((t,e)=>{const n=k();Y(n,e.footer),e.footer&&it(e.footer,n),F(n,e,"footer")})(0,e),"function"==typeof e.didRender&&e.didRender(v())},Ot=()=>E()&&E().click(),Ct=t=>{let e=v();e||Re.fire(),e=v();const n=x();D()?W(b()):St(e,t),$(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},St=(t,e)=>{const n=A(),r=x();!e&&Z(E())&&(e=E()),$(n),e&&(W(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),H([t,n],f.loading)},Et={},Tt=()=>{if(Et.timeout)return(()=>{const t=P(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")})(),Et.timeout.stop()},xt=()=>{if(Et.timeout){const t=Et.timeout.start();return tt(t),t}};let It=!1;const At={},kt=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in At){const n=e.getAttribute(t);if(n)return void At[t].fire({template:n})}},Pt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Nt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mt={},jt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Dt=t=>Object.prototype.hasOwnProperty.call(Pt,t),Rt=t=>Mt[t],Lt=t=>{Dt(t)||i('Unknown parameter "'.concat(t,'"'))},Vt=t=>{jt.includes(t)&&i('The parameter "'.concat(t,'" is incompatible with toasts'))},Ft=t=>{var e,n,r;Rt(t)&&(e=t,n=Rt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),s.includes(r)||(s.push(r),i(r)))};var Ut=Object.freeze({isValidParameter:Dt,isUpdatableParameter:t=>-1!==Nt.indexOf(t),isDeprecatedParameter:Rt,argsToParams:t=>{const e={};return"object"!=typeof t[0]||h(t[0])?["title","html","icon"].forEach((n,r)=>{const i=t[r];"string"==typeof i||h(i)?e[n]=i:void 0!==i&&o("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))}):Object.assign(e,t[0]),e},isVisible:()=>Z(v()),clickConfirm:Ot,clickDeny:()=>T()&&T().click(),clickCancel:()=>I()&&I().click(),getContainer:g,getPopup:v,getTitle:w,getHtmlContainer:_,getImage:O,getIcon:b,getInputLabel:()=>y(f["input-label"]),getCloseButton:N,getActions:A,getConfirmButton:E,getDenyButton:T,getCancelButton:I,getLoader:x,getFooter:k,getTimerProgressBar:P,getFocusableElements:M,getValidationMessage:S,isLoading:()=>v().hasAttribute("data-loading"),fire:function(...t){return new this(...t)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:Ct,enableLoading:Ct,getTimerLeft:()=>Et.timeout&&Et.timeout.getTimerLeft(),stopTimer:Tt,resumeTimer:xt,toggleTimer:()=>{const t=Et.timeout;return t&&(t.running?Tt():xt())},increaseTimer:t=>{if(Et.timeout){const e=Et.timeout.increase(t);return tt(e,!0),e}},isTimerRunning:()=>Et.timeout&&Et.timeout.isRunning(),bindClickHandler:function(t="data-swal-template"){At[t]=this,It||(document.body.addEventListener("click",kt),It=!0)}});function Bt(){const t=ct.innerParams.get(this);if(!t)return;const e=ct.domCache.get(this);W(e.loader),D()?t.icon&&$(b()):qt(e),z([e.popup,e.actions],f.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const qt=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?$(e[0],"inline-block"):!Z(E())&&!Z(T())&&!Z(I())&&W(t.actions)},Ht=t=>{const e=t.target,n=g();return!(zt(t)||Gt(t)||e!==n&&(X(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||X(_())&&_().contains(e)))},zt=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Gt=t=>t.touches&&t.touches.length>1;var Kt={swalPromiseResolve:new WeakMap};function $t(t,e,n,i){D()?Xt(t,i):((t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;Et.restoreFocusTimeout=setTimeout(()=>{Et.previousActiveElement&&Et.previousActiveElement.focus?(Et.previousActiveElement.focus(),Et.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(n,r)}))(n).then(()=>Xt(t,i)),Et.keydownTarget.removeEventListener("keydown",Et.keydownHandler,{capture:Et.keydownListenerCapture}),Et.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),j()&&(null!==R.previousBodyPadding&&(document.body.style.paddingRight="".concat(R.previousBodyPadding,"px"),R.previousBodyPadding=null),(()=>{if(V(document.body,f.iosfix)){const t=parseInt(document.body.style.top,10);z(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),r(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),z([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function Wt(t){const e=v();if(!e)return;t=Qt(t);const n=ct.innerParams.get(this);if(!n||V(e,n.hideClass.popup))return;const r=Kt.swalPromiseResolve.get(this);z(e,n.showClass.popup),H(e,n.hideClass.popup);const i=g();z(i,n.showClass.backdrop),H(i,n.hideClass.backdrop),Yt(this,e,n),r(t)}const Qt=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Yt=(t,e,n)=>{const r=g(),i=at&&J(e);"function"==typeof n.willClose&&n.willClose(e),i?Zt(t,e,r,n.returnFocus,n.didClose):$t(t,r,n.returnFocus,n.didClose)},Zt=(t,e,n,r,i)=>{Et.swalCloseEventFinishedCallback=$t.bind(null,t,n,r,i),e.addEventListener(at,function(t){t.target===e&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback)})},Xt=(t,e)=>{setTimeout(()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()})};function Jt(t,e,n){const r=ct.domCache.get(t);e.forEach(t=>{r[t].disabled=n})}function te(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}class ee{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var ne={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function re(t){(function(t){t.inputValidator||Object.keys(ne).forEach(e=>{t.input===e&&(t.inputValidator=ne[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&i("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(i('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),(t=>{const e=(()=>{const t=g();return!!t&&(t.remove(),z([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0)})();if(et())return void o("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=f.container,e&&H(n,f["no-transition"]),L(n,nt);const r="string"==typeof(i=t.target)?document.querySelector(i):i;var i;r.appendChild(n),(t=>{const e=v();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&H(g(),f.rtl)})(r),(()=>{const t=v(),e=G(t,f.input),n=G(t,f.file),r=t.querySelector(".".concat(f.range," input")),i=t.querySelector(".".concat(f.range," output")),o=G(t,f.select),s=t.querySelector(".".concat(f.checkbox," input")),a=G(t,f.textarea);e.oninput=rt,n.onchange=rt,o.onchange=rt,s.onchange=rt,a.oninput=rt,r.oninput=()=>{rt(),i.value=r.value},r.onchange=()=>{rt(),r.nextSibling.value=r.value}})()})(t)}const ie=["swal-title","swal-html","swal-footer"],oe=(t,e)=>{r(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&i(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},se=t=>{const e=v();if(t.target!==e)return;const n=g();e.removeEventListener(at,se),n.style.overflowY="auto"},ae=(t,e)=>{at&&J(e)?(t.style.overflowY="hidden",e.addEventListener(at,se)):t.style.overflowY="auto"},ue=(t,e,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!V(document.body,f.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),H(document.body,f.iosfix),(()=>{const t=g();let e;t.ontouchstart=t=>{e=Ht(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const t=44;v().scrollHeight>window.innerHeight-t&&(g().style.paddingBottom="".concat(t,"px"))}})()}})(),e&&"hidden"!==n&&(null===R.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(R.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(R.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=f["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})(),"px"))),setTimeout(()=>{t.scrollTop=0})},ce=(t,e,n)=>{H(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),$(e,"grid"),setTimeout(()=>{H(e,n.showClass.popup),e.style.removeProperty("opacity")},10),H([document.documentElement,document.body],f.shown),n.heightAuto&&n.backdrop&&!n.toast&&H([document.documentElement,document.body],f["height-auto"])},le={select:(t,e,n)=>{const r=G(t,f.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,L(i,e),i.selected=de(r,n.inputValue),t.appendChild(i)};e.forEach(t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach(e=>i(t,e[1],e[0]))}else i(r,n,e)}),r.focus()},radio:(t,e,n)=>{const r=G(t,f.radio);e.forEach(t=>{const e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=f.radio,o.value=e,de(e,n.inputValue)&&(o.checked=!0);const a=document.createElement("span");L(a,i),a.className=f.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},he=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((t,n)=>{let r=t;"object"==typeof r&&(r=he(r)),e.push([n,r])}):Object.keys(t).forEach(n=>{let r=t[n];"object"==typeof r&&(r=he(r)),e.push([n,r])}),e},de=(t,e)=>e&&e.toString()===t.toString(),fe=(t,e,n)=>{const r=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return(t=>t.checked?1:0)(n);case"radio":return(t=>t.checked?t.value:null)(n);case"file":return(t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null)(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,e);e.inputValidator?pe(t,e,r,n):t.getInput().checkValidity()?"deny"===n?ge(t,e,r):ye(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},pe=(t,e,n,r)=>{t.disableInput(),Promise.resolve().then(()=>c(e.inputValidator(n,e.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===r?ge(t,e,n):ye(t,e,n)})},ge=(t,e,n)=>{e.showLoaderOnDeny&&Ct(T()),e.preDeny?Promise.resolve().then(()=>c(e.preDeny(n,e.validationMessage))).then(e=>{!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},me=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},ye=(t,e,n)=>{e.showLoaderOnConfirm&&Ct(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(()=>c(e.preConfirm(n,e.validationMessage))).then(e=>{Z(S())||!1===e?t.hideLoading():me(t,void 0===e?n:e)})):me(t,n)},ve=(t,e,n)=>{const r=M();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();v().focus()},be=["ArrowRight","ArrowDown"],we=["ArrowLeft","ArrowUp"],_e=(t,e,n)=>{if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Ot(),e.preventDefault()}},Oe=(t,e)=>{const n=t.target,r=M();let i=-1;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}ve(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},Ce=t=>{if(![E(),T(),I()].includes(document.activeElement))return;const e=be.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()},Se=(e,n,r)=>{a(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))};let Ee=!1;const Te=(t,e)=>{const o=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const o=e.content;return(t=>{const e=ie.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);r(t.children).forEach(t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&i("Unrecognized element <".concat(n,">"))})})(o),Object.assign((t=>{const e={};return r(t.querySelectorAll("swal-param")).forEach(t=>{oe(t,["name","value"]);const n=t.getAttribute("name");let r=t.getAttribute("value");"boolean"==typeof Pt[n]&&"false"===r&&(r=!1),"object"==typeof Pt[n]&&(r=JSON.parse(r)),e[n]=r}),e})(o),(t=>{const e={};return r(t.querySelectorAll("swal-button")).forEach(t=>{oe(t,["type","color","aria-label"]);const r=t.getAttribute("type");e["".concat(r,"ButtonText")]=t.innerHTML,e["show".concat(n(r),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(r,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(r,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e})(o),(t=>{const e={},n=t.querySelector("swal-image");return n&&(oe(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e})(o),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(oe(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(o),(t=>{const e={},n=t.querySelector("swal-input");n&&(oe(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},r(i).forEach(t=>{oe(t,["value"]);const n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e})(o),((t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(oe(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n})(o,ie))})(t),s=Object.assign({},Pt,e,o,t);return s.showClass=Object.assign({},Pt.showClass,s.showClass),s.hideClass=Object.assign({},Pt.hideClass,s.hideClass),s},xe=(e,n,i)=>new Promise(s=>{const h=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Kt.swalPromiseResolve.set(e,s),n.confirmButton.onclick=()=>((t,e)=>{t.disableButtons(),e.input?fe(t,e,"confirm"):ye(t,e,!0)})(e,i),n.denyButton.onclick=()=>((t,e)=>{t.disableButtons(),e.returnInputValueOnDeny?fe(t,e,"deny"):ge(t,e,!1)})(e,i),n.cancelButton.onclick=()=>((e,n)=>{e.disableButtons(),n(t.cancel)})(e,h),n.closeButton.onclick=()=>h(t.close),((e,n,r)=>{ct.innerParams.get(e).toast?((e,n,r)=>{n.popup.onclick=()=>{const n=ct.innerParams.get(e);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(t.close)}})(e,n,r):((t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Ee=!0)}}})(n),(t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Ee=!0)}}})(n),((e,n,r)=>{n.container.onclick=i=>{const o=ct.innerParams.get(e);Ee?Ee=!1:i.target===n.container&&a(o.allowOutsideClick)&&r(t.backdrop)}})(e,n,r))})(e,n,h),((t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=e=>((t,e,n)=>{const r=ct.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?_e(t,e,r):"Tab"===e.key?Oe(e,r):[...be,...we].includes(e.key)?Ce(e.key):"Escape"===e.key&&Se(e,r,n))})(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:v(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(e,Et,i,h),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=v(),r=t=>le[e.input](n,he(t),e);u(e.inputOptions)||l(e.inputOptions)?(Ct(E()),c(e.inputOptions).then(e=>{t.hideLoading(),r(e)})):"object"==typeof e.inputOptions?r(e.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))})(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(u(e.inputValue)||l(e.inputValue))&&(Ct(E()),((t,e)=>{const n=t.getInput();W(n),c(e.inputValue).then(r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),$(n),n.focus(),t.hideLoading()}).catch(e=>{o("Error in inputValue promise: ".concat(e)),n.value="",$(n),n.focus(),t.hideLoading()})})(t,e))})(e,i),(t=>{const e=g(),n=v();"function"==typeof t.willOpen&&t.willOpen(n);const i=window.getComputedStyle(document.body).overflowY;ce(e,n,t),setTimeout(()=>{ae(e,n)},10),j()&&(ue(e,t.scrollbarPadding,i),r(document.body.children).forEach(t=>{t===g()||t.contains(g())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),D()||Et.previousActiveElement||(Et.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout(()=>t.didOpen(n)),z(e,f["no-transition"])})(i),Ie(Et,i,h),Ae(n,i),setTimeout(()=>{n.container.scrollTop=0})}),Ie=(t,e,n)=>{const r=P();W(r),e.timer&&(t.timeout=new ee(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&($(r),setTimeout(()=>{t.timeout&&t.timeout.running&&tt(e.timer)})))},Ae=(t,e)=>{if(!e.toast)return a(e.allowEnterKey)?void(ke(t,e)||ve(0,-1,1)):Pe()},ke=(t,e)=>e.focusDeny&&Z(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Z(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Z(t.confirmButton)||(t.confirmButton.focus(),0)),Pe=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Ne=t=>{for(const e in t)t[e]=new WeakMap};var Me=Object.freeze({hideLoading:Bt,disableLoading:Bt,getInput:function(t){const e=ct.innerParams.get(t||this),n=ct.domCache.get(t||this);return n?U(n.popup,e.input):null},close:Wt,closePopup:Wt,closeModal:Wt,closeToast:Wt,enableButtons:function(){Jt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Jt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return te(this.getInput(),!1)},disableInput:function(){return te(this.getInput(),!0)},showValidationMessage:function(t){const e=ct.domCache.get(this),n=ct.innerParams.get(this);L(e.validationMessage,t),e.validationMessage.className=f["validation-message"],n.customClass&&n.customClass.validationMessage&&H(e.validationMessage,n.customClass.validationMessage),$(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",f["validation-message"]),B(r),H(r,f.inputerror))},resetValidationMessage:function(){const t=ct.domCache.get(this);t.validationMessage&&W(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),z(e,f.inputerror))},getProgressSteps:function(){return ct.domCache.get(this).progressSteps},_main:function(t,e={}){(t=>{!t.backdrop&&t.allowOutsideClick&&i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Lt(e),t.toast&&Vt(e),Ft(e)})(Object.assign({},e,t)),Et.currentInstance&&Et.currentInstance._destroy(),Et.currentInstance=this;const n=Te(t,e);re(n),Object.freeze(n),Et.timeout&&(Et.timeout.stop(),delete Et.timeout),clearTimeout(Et.restoreFocusTimeout);const r=(t=>{const e={popup:v(),container:g(),actions:A(),confirmButton:E(),denyButton:T(),cancelButton:I(),loader:x(),closeButton:N(),validationMessage:S(),progressSteps:C()};return ct.domCache.set(t,e),e})(this);return _t(this,n),ct.innerParams.set(this,n),xe(this,r,n)},update:function(t){const e=v(),n=ct.innerParams.get(this);if(!e||V(e,n.hideClass.popup))return i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r={};Object.keys(t).forEach(e=>{Re.isUpdatableParameter(e)?r[e]=t[e]:i('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const o=Object.assign({},n,r);_t(this,o),ct.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){const t=ct.domCache.get(this),e=ct.innerParams.get(this);e&&(t.popup&&Et.swalCloseEventFinishedCallback&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback),Et.deferDisposalTimer&&(clearTimeout(Et.deferDisposalTimer),delete Et.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),delete this.params,delete Et.keydownHandler,delete Et.keydownTarget,Ne(ct),Ne(Kt))}});let je;class De{constructor(...t){if("undefined"==typeof window)return;je=this;const e=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0,configurable:!0}});const n=this._main(this.params);ct.promise.set(this,n)}then(t){return ct.promise.get(this).then(t)}finally(t){return ct.promise.get(this).finally(t)}}Object.assign(De.prototype,Me),Object.assign(De,Ut),Object.keys(Me).forEach(t=>{De[t]=function(...e){if(je)return je[t](...e)}}),De.DismissReason=t,De.version="11.0.18";const Re=De;return Re.default=Re,Re}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9;pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end" "gap gap gap";grid-template-rows:auto auto auto .625em;height:100%;padding:.625em .625em 0;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container::after{content:"";grid-column:1/4;grid-row:4;height:.625em}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return mu}),n.d(e,"c",function(){return hu}),n.d(e,"d",function(){return cu}),n.d(e,"e",function(){return lu}),n.d(e,"f",function(){return cc}),n.d(e,"g",function(){return Ju}),n.d(e,"h",function(){return ha}),n.d(e,"i",function(){return xu}),n.d(e,"j",function(){return Vs}),n.d(e,"k",function(){return bu}),n.d(e,"l",function(){return qs}),n.d(e,"m",function(){return Sr}),n.d(e,"n",function(){return Ka}),n.d(e,"o",function(){return so}),n.d(e,"p",function(){return wn}),n.d(e,"q",function(){return ln}),n.d(e,"r",function(){return Co}),n.d(e,"s",function(){return oa}),n.d(e,"t",function(){return sa}),n.d(e,"u",function(){return vu}),n.d(e,"v",function(){return Oa}),n.d(e,"w",function(){return ec}),n.d(e,"x",function(){return _a}),n.d(e,"y",function(){return Wu}),n.d(e,"z",function(){return ku}),n.d(e,"A",function(){return _n}),n.d(e,"B",function(){return gu}),n.d(e,"C",function(){return pu}),n.d(e,"D",function(){return zs}),n.d(e,"E",function(){return Hs}),n.d(e,"F",function(){return Ir}),n.d(e,"G",function(){return Ks}),n.d(e,"H",function(){return br}),n.d(e,"I",function(){return Cn}),n.d(e,"J",function(){return ic}),n.d(e,"K",function(){return ya}),n.d(e,"L",function(){return Lu}),n.d(e,"M",function(){return dn}),n.d(e,"N",function(){return Ws}),n.d(e,"O",function(){return $s}),n.d(e,"P",function(){return Sa}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return Qu}),n.d(e,"S",function(){return Ku}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Gu}),n.d(e,"V",function(){return ac}),n.d(e,"W",function(){return Uu}),n.d(e,"X",function(){return yu}),n.d(e,"Y",function(){return uo}),n.d(e,"Z",function(){return Ss}),n.d(e,"ab",function(){return yr}),n.d(e,"bb",function(){return tr}),n.d(e,"cb",function(){return Hn}),n.d(e,"db",function(){return Gn}),n.d(e,"eb",function(){return Qn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Kn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return ws}),n.d(e,"jb",function(){return sc}),n.d(e,"kb",function(){return _s}),n.d(e,"lb",function(){return Os}),n.d(e,"mb",function(){return zn}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return Mo}),n.d(e,"pb",function(){return Zo}),n.d(e,"qb",function(){return Yo}),n.d(e,"rb",function(){return bs}),n.d(e,"sb",function(){return Pt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return qn}),n.d(e,"vb",function(){return Eo}),n.d(e,"wb",function(){return Et}),n.d(e,"xb",function(){return Ds}),n.d(e,"yb",function(){return li}),n.d(e,"zb",function(){return Vo}),n.d(e,"Ab",function(){return ss}),n.d(e,"Bb",function(){return ou}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return C}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return Bo}),n.d(e,"Jb",function(){return Ko}),n.d(e,"Kb",function(){return Wo}),n.d(e,"Lb",function(){return $o}),n.d(e,"Mb",function(){return Go}),n.d(e,"Nb",function(){return zo}),n.d(e,"Ob",function(){return Qo}),n.d(e,"Pb",function(){return sn}),n.d(e,"Qb",function(){return gs}),n.d(e,"Rb",function(){return Mn}),n.d(e,"Sb",function(){return an}),n.d(e,"Tb",function(){return uu}),n.d(e,"Ub",function(){return Xo}),n.d(e,"Vb",function(){return su}),n.d(e,"Wb",function(){return es}),n.d(e,"Xb",function(){return Ba}),n.d(e,"Yb",function(){return qa}),n.d(e,"Zb",function(){return Ha}),n.d(e,"ac",function(){return qo}),n.d(e,"bc",function(){return ns}),n.d(e,"cc",function(){return Fa}),n.d(e,"dc",function(){return iu}),n.d(e,"ec",function(){return Yt}),n.d(e,"fc",function(){return wr}),n.d(e,"gc",function(){return ot}),n.d(e,"hc",function(){return Uo}),n.d(e,"ic",function(){return hs}),n.d(e,"jc",function(){return ds}),n.d(e,"kc",function(){return fs}),n.d(e,"lc",function(){return ps});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,I)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(P))?t[A]:null}const I=g({"\u0275prov":g}),A=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),P=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let M;function j(t){const e=M;return M=t,e}function D(t,e,n){const r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function R(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,H=F||q||U||B,z={},G=[],K=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),X=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Ct(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class St{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Et(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),xt}function xt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new St(u&&u.currentValue,e,s===z),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Et.ngInherit=!0;let kt=void 0;function Pt(t){kt=t}function Nt(t){return!!t.listen}const Mt={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function jt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return jt(e[t])}function Rt(t,e){return jt(e[t.index])}function Lt(t,e){return t.data[e]}function Vt(t,e){return t[e]}function Ft(t,e){const n=e[t];return ft(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Bt(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Gt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Kt={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $t(){return Kt.bindingsEnabled}function Wt(){return Kt.lFrame.lView}function Qt(){return Kt.lFrame.tView}function Yt(t){Kt.lFrame.contextLView=t}function Zt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Kt.lFrame.currentTNode}function Jt(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function te(){return Kt.lFrame.isParent}function ee(){Kt.lFrame.isParent=!1}function ne(){return Kt.isInCheckNoChangesMode}function re(t){Kt.isInCheckNoChangesMode=t}function ie(){const t=Kt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oe(){return Kt.lFrame.bindingIndex}function se(){return Kt.lFrame.bindingIndex++}function ae(t){const e=Kt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ue(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){Kt.lFrame.currentDirectiveIndex=t}function le(){return Kt.lFrame.currentQueryIndex}function he(t){Kt.lFrame.currentQueryIndex=t}function de(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=de(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Kt.lFrame=ge();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=ge(),n=t[1];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ge(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ve=ye;function be(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function we(){return Kt.lFrame.selectedIndex}function _e(t){Kt.lFrame.selectedIndex=t}function Oe(){const t=Kt.lFrame;return Lt(t.tView,t.selectedIndex)}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){xe(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ie(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ie(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ae=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Me(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function Me(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Re(t){return t!==Ae}function Le(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Fe=!0;function Ue(t){const e=Fe;return Fe=t,e}let Be=0;function qe(t,e){const n=ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=Ge(t,e),o=t.injectorIndex;if(Re(i)){const t=Le(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ge(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function Ke(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Be++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function $e(t,e,n){if(n&N.Optional)return t;Ct(e,"NodeInjector")}function We(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=j(void 0);try{return i?i.get(e,r,n&N.Optional):D(e,r,n&N.Optional)}finally{j(o)}}return $e(r,e,n)}function Qe(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof o){if(!fe(e,t,r))return r&N.Host?$e(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Ct(n)}finally{ve()}}else if("number"==typeof o){let i=null,s=ze(t,e),a=Ae,u=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(a=-1===s?Ge(t,e):e[s+8],a!==Ae&&nn(r,!1)?(i=e[1],s=Le(a),e=Ve(a,e)):s=-1);-1!==s;){const t=e[1];if(en(o,s,t.data)){const t=Xe(s,e,n,i,r,u);if(t!==Ye)return t}a=e[s+8],a!==Ae&&nn(r,e[1].data[s+8]===u)&&en(o,s,e)?(i=t,s=Le(a),e=Ve(a,e)):s=-1}}}return We(e,n,r,i)}const Ye={};function Ze(){return new rn(Zt(),Wt())}function Xe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Je(a,s,n,null==r?mt(a)&&Fe:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?tn(e,s,u,a):Ye}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Ue(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?j(s.injectImpl):null;fe(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&j(u),Ue(a),s.resolving=!1,ve()}}return i}function en(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function nn(t,e){return!(t&N.Self||t&N.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function on(t){const e=t;if(O(t))return()=>{const t=on(_(e));return t?t():null};let n=bt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function sn(t){return R(()=>{const e=t.prototype.constructor,n=e[Z]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const un="__parameters__";function cn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const hn=new ln("AnalyzeForEntryComponents"),dn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const wn=cn("Inject",t=>({token:t})),_n=cn("Optional"),On=cn("Self"),Cn=cn("SkipSelf"),Sn=cn("Host"),En={},Tn=/\n/gm,xn="__source",In=g({provide:String,useValue:g});let An,kn=void 0;function Pn(t){const e=kn;return kn=t,e}function Nn(t,e=N.Default){if(void 0===kn)throw new Error("inject() must be called from an injection context");return null===kn?D(t,void 0,e):kn.get(t,e&N.Optional?null:void 0,e)}function Mn(t,e=N.Default){return(M||Nn)(_(t),e)}function jn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof _n||"Optional"===i.ngMetadataName||i===_n?n|=N.Optional:i instanceof Cn||"SkipSelf"===i.ngMetadataName||i===Cn?n|=N.SkipSelf:i instanceof On||"Self"===i.ngMetadataName||i===On?n|=N.Self:i instanceof Sn||"Host"===i.ngMetadataName||i===Sn?n|=N.Host:t=i instanceof wn||i===wn?i.token:i}e.push(Mn(t,n))}else e.push(Mn(r))}return e}function Dn(t){var e;return(null===(e=function(){if(void 0===An&&(An=null,H.trustedTypes))try{An=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return An}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Ln extends Rn{getTypeName(){return"HTML"}}class Vn extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Un extends Rn{getTypeName(){return"URL"}}class Bn extends Rn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Rn&&t.getTypeName()||null}function Gn(t){return new Ln(t)}function Kn(t){return new Vn(t)}function $n(t){return new Fn(t)}function Wn(t){return new Un(t)}function Qn(t){return new Bn(t)}class Yn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Xn)||t.match(Jn)?t:"unsafe:"+t}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=er("rp,rt"),sr=nr(or,ir),ar=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ur=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ur,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!lr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ur[o]&&(s=tr(s)),cr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>tr(t.trim())).join(", ")),this.buf.push(" ",e,'="',gr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ar.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function yr(t,e){let n=null;try{mr=mr||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Yn(e):e}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==o);return(new dr).sanitizeChildren(vr(n)||n)}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var br=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(br.URL,t)||"":Hn(t,"URL")?qn(t):tr(_t(t))}function _r(t){return t.ngDebugContext}function Or(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(Or(t)):null}_findOriginalError(t){let e=Or(t);for(;e&&Or(e);)e=Or(e);return e}}function Er(t,e){t.__ngContext__=e}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function xr(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ar(t,e){return(void 0)(t,e)}function kr(t){const e=t[3];return pt(e)?e[3]:e}function Pr(t){return Mr(t[13])}function Nr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function jr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=jt(r);0===t&&null!==n?null==i?Br(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Hr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==jt(n)&&jr(e,t,r,o,i);for(let s=dt;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Gt(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=mn(t,dt+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Vr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):jt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ur(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Br(t,e,n)}function Hr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function zr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Rt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(o,i,n[a],s,!1);else qr(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Kr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return pt(n)?Kr(-1,n):jt(n)}}if(32&n)return Ar(e,t)()||jt(t[e.index]);{const n=t[16],r=n[6],i=kr(n),o=r.projection[e.projection];return null!=o?Gr(i,o):Gr(t,e.next)}}return null}function Kr(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function $r(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(jt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,r,i,o,!1),jr(e,t,i,a,o);else if(32&u){const s=Ar(n,r);let u;for(;u=s();)jr(e,t,i,u,o);jr(e,t,i,a,o)}else 16&u?Qr(t,e,r,n,i,o):jr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){$r(n,r,t.firstChild,e,i,o,!1)}function Qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)jr(e,t,i,a[u],o);else $r(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;s=!0}continue}const l=oi(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;s=!0}}}}else{if(!s&&!ii(r)&&!ii(u))return!1;if(s&&ii(u))continue;s=!1,r=u|1&r}}return ii(r)||s}function ii(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function si(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){return t?":not("+e.trim()+")":e}function ui(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ii(s)||(e+=ai(o,i),i=""),r=s,o=o||!ii(r);n++}return""!==i&&(e+=ai(o,i)),e}const ci={};function li(t){hi(Qt(),Wt(),we()+t,ne())}function hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}_e(n)}function di(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function pi(t){return 2|t}function gi(t){return(131068&t)>>2}function mi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];he(i),n.contentQueries(2,e[o],o)}}}function bi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function wi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=te(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Kt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Jt(o,!0),o}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Oi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&Xi(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Xi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Ci(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const o=ne();try{zt(e),Kt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Te(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Gt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Nr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&Ci(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,o=n[++t],s=n[++t];ue(o,i),s(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Xi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Gt(e[3],-1))}finally{be()}}function Si(t,e,n,r){const i=e[10],o=!ne(),s=Bt(e);try{o&&!s&&i.begin&&i.begin(),s&&Oi(t,e,r),Ci(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=we();try{_e(-1),2&r&&e.length>ht&&hi(t,e,ht,ne()),n(r,i)}finally{_e(o)}}function Ti(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function xi(t,e,n){$t()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qe(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Bi(e,n,r);const u=tn(e,t,a,n);Er(u,e),null!==s&&qi(0,a-i,u,r,0,s),o&&(Ft(n.index,e)[8]=u)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Kt.lFrame.currentDirectiveIndex;try{_e(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ri(r,i)}}finally{_e(-1),ce(s)}}(t,e,n))}function Ii(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ci);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Pi(t,e,n,r){const i=to(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&eo(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,o,s,a){const u=Rt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ro(t,n,c,r,i),mt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(u,r,i):Me(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ji(t,e,n,r){let i=!1;if($t()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];si(n,s.selectors,!1)&&(i||(i=[]),Ke(qe(n,e),t,s.type),vt(s)?(Li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=_i(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Vi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Hi(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Di(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new ke(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Di(t,e,0,r,_i(t,n,i.hostVars,ci),i)}function Bi(t,e,n){const r=Rt(e,t),i=Ai(n),o=t[10],s=Wi(t,bi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function qi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Ft(e,t);if(qt(n)){const t=n[1];80&n[2]?Ci(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Pr(t);null!==n;n=Nr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ci(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);qt(r)&&r[5]>0&&Ki(r)}}function $i(t,e){const n=Ft(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Oi(r,n,n[8])}function Wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ci(t,e,t.template,n)}catch(i){throw no(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Si(i,r,i.template,n)}}(t[8])}function Xi(t,e,n){he(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function to(t){return t[7]||(t[7]=[])}function eo(t){return t.cleanup||(t.cleanup=[])}function no(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function ro(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function io(t,e,n){const r=Dt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function oo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const so=new ln("INJECTOR",-1);class ao{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const uo=new ln("Set Injector scope."),co={},lo={},ho=[];let fo=void 0;function po(){return void 0===fo&&(fo=new ao),fo}function go(t,e=null,n=null,r){return new mo(t,n,e||po(),r)}class mo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(so,bo(void 0,this));const o=this.records.get(uo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=N.Default){this.assertNotDestroyed();const r=Pn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&E(t);e=n&&this.injectableDefInScope(n)?bo(yo(t),co):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?po():this.parent).get(t,e=n&N.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[xn]&&i.unshift(e[xn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Pn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||ho))}}this.injectorDefTypes.add(o),this.records.set(o,bo(r.factory,co));const a=r.providers;if(null!=a&&!s){const e=t;pn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=_o(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return wo(t)?bo(void 0,t.useValue):bo(vo(t),co)}(t);if(_o(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=bo(void 0,co,!0),e.factory=()=>jn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===co&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function yo(t){const e=E(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof ln)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vo(t,e,n){let r=void 0;if(_o(t)){const e=_(t);return bt(e)||yo(e)}if(wo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...jn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Mn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||yo(e);r=()=>new e(...jn(t.deps))}var i;return r}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wo(t){return null!==t&&"object"==typeof t&&In in t}function _o(t){return"function"==typeof t}const Oo=function(t,e,n){return function(t,e=null,n=null,r){const i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Co=(()=>{class t{static create(t,e){return Array.isArray(t)?Oo(t,e,""):Oo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new ao,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>Mn(so)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){Ce(Ut(t)[1],Zt())}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=To(t.inputs),e.declaredInputs=To(t.declaredInputs),e.outputs=To(t.outputs);const n=i.hostBindings;n&&Ao(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&xo(t,o),s&&Io(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function To(t){return t===z?{}:t===G?[]:t}function xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ao(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ko=null;function Po(){if(!ko){const t=H.Symbol;if(t&&t.iterator)ko=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ko=n)}}}return ko}class No{constructor(t){this.wrapped=t}static wrap(t){return new No(t)}static unwrap(t){return No.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof No}}function Mo(t){return!!jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Do(t,e,n){return t[e]=n}function Ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){const i=Ro(t,e,n);return Ro(t,e+1,r)||i}function Vo(t,e,n,r){const i=Wt();return Ro(i,se(),e)&&(Qt(),function(t,e,n,r,i,o){const s=Rt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Oe(),i,t,e,n,r)),Vo}function Fo(t,e,n,r){return Ro(t,se(),n)?e+_t(n)+r:ci}function Uo(t,e,n,r,i,o,s,a){const u=Wt(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=wi(e,t,4,s||null,Ht(c,a));ji(e,n,l,Ht(c,u)),Ce(e,l);const h=l.tViews=ki(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Jt(h,!1);const d=u[11].createComment("");zr(c,u,d,h),Er(d,u),Wi(u,u[l]=zi(d,u,d,h)),yt(h)&&xi(c,u,h),null!=s&&Ii(u,h,a)}function Bo(t,e=N.Default){const n=Wt();return null===n?Mn(t,e):Qe(Zt(),n,_(t),e)}function qo(t,e,n){const r=Wt();return Ro(r,se(),e)&&Mi(Qt(),Oe(),r,t,e,r[11],n,!1),qo}function Ho(t,e,n,r,i){const o=i?"class":"style";ro(t,n,e.inputs[o],o,r)}function zo(t,e,n,r){const i=Wt(),o=Qt(),s=ht+t,a=i[11],u=i[s]=Dr(a,e,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=wi(e,t,2,i,Ht(a,o));return ji(e,n,u,Ht(a,s)),null!==u.attrs&&oo(u,u.attrs,!1),null!==u.mergedAttrs&&oo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Jt(c,!0);const l=c.mergedAttrs;null!==l&&Pe(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const d=c.styles;null!==d&&Yr(a,u,d),64!=(64&c.flags)&&zr(o,i,u,c),0===Kt.lFrame.elementDepthCount&&Er(u,i),Kt.lFrame.elementDepthCount++,yt(c)&&(xi(o,i,c),Ti(o,c,i)),null!==r&&Ii(i,c)}function Go(){let t=Zt();te()?ee():(t=t.parent,Jt(t,!1));const e=t;Kt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(Ce(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ho(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ho(n,e,Wt(),e.stylesWithoutHost,!1)}function Ko(t,e,n,r){zo(t,e,n,r),Go()}function $o(t,e,n){const r=Wt(),i=Qt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ht(o,r),a=wi(e,t,8,"ng-container",s);return null!==s&&oo(a,s,!0),ji(e,n,a,Ht(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Jt(s,!0);const a=r[o]=r[11].createComment("");zr(i,r,a,s),Er(a,r),yt(s)&&(xi(i,r,s),Ti(i,s,r)),null!=n&&Ii(r,s)}function Wo(){let t=Zt();const e=Qt();te()?ee():(t=t.parent,Jt(t,!1)),e.firstCreatePass&&(Ce(e,t),gt(t)&&e.queries.elementEnd(t))}function Qo(){return Wt()}function Yo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Xo(t,e,n=!1,r){const i=Wt(),o=Qt(),s=Zt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&eo(t),l=to(e);let h=!0;if(3&r.type){const d=Rt(r,e),f=a?a(d):z,p=f.target||d,g=l.length,m=a?t=>a(jt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ts(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=ts(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=ts(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Xo}function Jo(t,e,n){try{return!1!==e(n)}catch(r){return no(t,r),!1}}function ts(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Qi(s);let a=Jo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Jo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(Kt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Kt.lFrame.contextLView))[8]}(t)}function ns(t,e,n,r,i){const o=Wt(),s=Fo(o,e,n,r);return s!==ci&&Mi(Qt(),Oe(),o,t,s,o[11],i,!1),ns}const rs=[];function is(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?fi(o):gi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];os(t[a],e)&&(u=!0,t[a+1]=r?yi(n):pi(n)),a=r?fi(n):gi(n)}u&&(t[n+1]=r?pi(o):yi(o))}function os(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}function ss(t,e){return function(t,e,n,r){const i=Wt(),o=Qt(),s=ae(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[we()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Kt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=us(n=as(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=as(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==gi(r))return t[fi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=as(null,t,e,n[1],r),n=us(n,e.attrs,r),function(t,e,n,r){t[fi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=us(r,t[o].hostAttrs,true);return us(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=fi(s),u=gi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=fi(t[a+1]);t[r+1]=di(e,a),0!==e&&(t[e+1]=mi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=di(a,0),0!==a&&(t[a+1]=mi(t[a+1],r)),a=r;else t[r+1]=di(u,0),0===a?a=r:t[u+1]=mi(t[u+1],r),u=r;l&&(t[r+1]=pi(t[r+1])),is(t,c,r,!0),is(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r),s=di(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ci&&Ro(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ls(1==(1&c)?cs(u,e,n,i,gi(c),s):void 0)||(ls(o)||function(t){return 2==(2&t)}(c)&&(o=cs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Dt(we(),n),i,o))}(o,o.data[we()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(qn(t))),t}(e),true,s)}(t,e),ss}function as(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=us(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function us(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,s,!!n||e[++o]))}return void 0===t?null:t}function cs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ci&&(l=c?rs:void 0);let h=c?vn(l,r):u===r?l:void 0;if(o&&!ls(h)&&(h=vn(e,r)),ls(h)&&(a=h,s))return a;const d=t[i+1];i=s?fi(d):gi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function ls(t){return void 0!==t}function hs(t,e=""){const n=Wt(),r=Qt(),i=t+ht,o=r.firstCreatePass?wi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zr(r,n,s,o),Jt(o,!1)}function ds(t){return fs("",t,""),ds}function fs(t,e,n){const r=Wt(),i=Fo(r,t,e,n);return i!==ci&&io(r,we(),i),fs}function ps(t,e,n,r,i){const o=Wt(),s=function(t,e,n,r,i,o){const s=Lo(t,oe(),n,i);return ae(2),s?e+_t(n)+r+_t(i)+o:ci}(o,t,e,n,r,i);return s!==ci&&io(o,we(),s),ps}function gs(t,e,n){const r=Wt();return Ro(r,se(),e)&&Mi(Qt(),Oe(),r,t,e,r[11],n,!0),gs}const ms=void 0;var ys=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let vs={};function bs(t,e,n){"string"!=typeof e&&(n=e,e=t[Ss.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),vs[e]=t,n&&(vs[e][Ss.ExtraData]=n)}function ws(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Cs(e);if(n)return n;const r=e.split("-")[0];if(n=Cs(r),n)return n;if("en"===r)return ys;throw new Error(`Missing locale data for the locale "${t}".`)}function _s(t){return ws(t)[Ss.CurrencyCode]||null}function Os(t){return ws(t)[Ss.PluralCase]}function Cs(t){return t in vs||(vs[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),vs[t]}var Ss=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Es="en-US";let Ts=Es;function xs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ts=t.toLowerCase().replace(/_/g,"-"))}function Is(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)Is(t[o],e,n,r,i);else{const o=Qt(),s=Wt();let a=_o(t)?t:_(t.provide),u=vo(t);const c=Zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(_o(t)||!t.multi){const r=new ke(u,i,Bo),f=Ps(a,e,i?l:l+d,h);-1===f?(Ke(qe(c,s),o,a),As(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Ps(a,e,l+d,h),p=Ps(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ke(qe(c,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,Bo);return o.multi=[],o.index=e,o.componentProviders=0,ks(o,i,r&&!n),o}(i?Ms:Ns,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),As(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else As(o,t,f>-1?f:p,ks(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function As(t,e,n,r){const i=_o(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ks(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ps(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ns(t,e,n,r){return js(this.multi,[])}function Ms(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),js(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],js(i,o);return o}function js(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ds(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=vt(t);Is(n,r.data,r.blueprint,i,!0),Is(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Rs{}class Ls{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Vs=(()=>{class t{}return t.NULL=new Ls,t})();function Fs(...t){}function Us(t,e){return new qs(Rt(t,e))}const Bs=function(){return Us(Zt(),Wt())};let qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Bs,t})();class Hs{}let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Gs(),t})();const Gs=function(){const t=Wt(),e=Ft(Zt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Ks=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class $s{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new $s("11.0.9");class Qs{constructor(){}supports(t){return Mo(t)}create(t){return new Zs(t)}}const Ys=(t,e)=>e;class Zs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ys}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ea(n,r,i)?e:n,s=ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Mo(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||jo(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||jo(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Cn,new _n]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Qs])}),t})(),sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Cn,new _n]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new na])}),t})();function aa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(jt(o)),pt(o))for(let t=dt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&aa(e[1],e,n,r)}const s=n.type;if(8&s)aa(t,e,n.child,r);else if(32&s){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=kr(t);aa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return aa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),mn(e,n))}this._attachedToViewContainer=!1}Vr(this._lView[1],this._lView)}onDestroy(t){Pi(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){re(!0);try{Yi(t,e,n)}finally{re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ca extends ua{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){re(!0);try{Zi(t)}finally{re(!1)}}(this._view)}get context(){return null}}const la=da;let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t.__ChangeDetectorRef__=!0,t})();function da(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Ft(t.index,e);return new ua(n,n)}return 47&t.type?new ua(e[16],e):null}(Zt(),Wt(),t)}const fa=[new na],pa=new oa([new Qs]),ga=new sa(fa),ma=function(){return wa(Zt(),Wt())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=ma,t})();const va=ya,ba=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Oi(e,n,t),new ua(n)}};function wa(t,e){return 4&t.type?new ba(e,t,Us(t,e)):null}class _a{}class Oa{}const Ca=function(){return Aa(Zt(),Wt())};let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t})();const Ea=Sa,Ta=class extends Ea{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ge(this._hostTNode,this._hostLView);if(Re(t)){const e=Ve(t,this._hostLView),n=Le(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(_a,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ta(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-dt?(e[4]=n[i],gn(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Kr(i,o),a=n[11],u=Hr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),gn(Ia(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(mn(Ia(this._lContainer),e),Vr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=mn(Ia(this._lContainer),e)?new ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xa(t){return t[8]}function Ia(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=jt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Ur(n,Hr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),Wi(e,n)}return new Ta(n,t,e)}const ka={};class Pa extends Vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new ja(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ma=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class ja extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ui).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ka,i);return o!==ka||r===ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Hs,Mt),s=i.get(Ks,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:Ji,playerHandler:null,flags:0},d=ki(0,null,null,1,0,null,null,null,null,null),f=bi(null,d,h,l,null,null,o,a,s,i);let p,g;pe(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=wi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(oo(a,u,!0),null!==t&&(Pe(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=bi(n,Ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ke(qe(a,n),s,e.type),Li(s,a),Fi(a,n.length,1)),Wi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Pe(a,c,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Lt(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,_i(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);Er(i,e);const o=Rt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Zt();e.contentQueries(1,s,t.directiveStart)}const a=Zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),Di(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ri(e,s)),s}(t,this.componentDef,f,h,[So]),Oi(d,f,null)}finally{be()}return new Da(this.componentType,p,Us(g,f),f,g)}}class Da extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ca(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ra=new Map;class La extends _a{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pa(this);const n=lt(t),r=t[Y]||null;r&&xs(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=go(t,e,[{provide:_a,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Co.THROW_IF_NOT_FOUND,n=N.Default){return t===Co||t===_a||t===so?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends Oa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ra.get(i),n),Ra.set(i,n));const o=xr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new La(this.moduleType,t)}}function Fa(t,e,n){const r=ie()+t,i=Wt();return i[r]===ci?Do(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ua(t,e){const n=t[e];return n===ci?void 0:n}function Ba(t,e){const n=Qt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new wt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=j(Bo);try{const t=Ue(!1),e=o();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{j(s)}}function qa(t,e,n){const r=t+ht,i=Wt(),o=Vt(i,r);return Ga(i,za(i,r)?function(t,e,n,r,i,o){const s=e+n;return Ro(t,s,i)?Do(t,s+1,o?r.call(o,i):r(i)):Ua(t,s+1)}(i,ie(),e,o.transform,n,o):o.transform(n))}function Ha(t,e,n,r){const i=t+ht,o=Wt(),s=Vt(o,i);return Ga(o,za(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Lo(t,a,i,o)?Do(t,a+2,s?r.call(s,i,o):r(i,o)):Ua(t,a+2)}(o,ie(),e,s.transform,n,r,s):s.transform(n,r))}function za(t,e){return t[1].data[e].pure}function Ga(t,e){return No.isWrapped(e)&&(e=No.unwrap(e),t[oe()]=ci),e}const Ka=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function $a(){return this._results[Po()]()}class Wa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ka,this.length=0;const t=Po(),e=Wa.prototype;e[t]||(e[t]=$a)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=fn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Qa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Qa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ya{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ya(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==au(t,e).matches&&this.queries[e].setDirty()}}class Za{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Xa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Xa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ja{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ja(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,tu(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===ya?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===qs||r===Sa||r===ya&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function tu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function eu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Us(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===qs?Us(e,t):n===ya?wa(e,t):n===Sa?Aa(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function nu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:eu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ru(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=nu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=dt;t<s.length;t++){const e=s[t];e[17]===e[3]&&ru(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ru(n[1],n,i,r)}}}}}return r}function iu(t){const e=Wt(),n=Qt(),r=le();he(r+1);const i=au(n,r);if(t.dirty&&Bt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ru(n,e,r,[]):nu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function ou(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Xa),t.queries.track(new Ja(e,n))}(t,new Za(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Wa;Pi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ya),e[19].queries.push(new Qa(n))}(t,e)}(Qt(),Wt(),e,n,r,0,Zt(),t)}function su(){return t=Wt(),e=le(),t[19].queries[e].queryList;var t,e}function au(t,e){return t.queries.getByIndex(e)}function uu(t=N.Default){const e=da(!0);if(null!=e||t&N.Optional)return e;Ct("ChangeDetectorRef")}const cu=new ln("Application Initializer");let lu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Fs,this.reject=Fs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Mn(cu,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const hu=new ln("AppId"),du={provide:hu,useFactory:function(){return`${fu()}${fu()}${fu()}`},deps:[]};function fu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pu=new ln("Platform Initializer"),gu=new ln("Platform ID"),mu=new ln("appBootstrapListener");let yu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const vu=new ln("LocaleId"),bu=new ln("DefaultCurrencyCode");class wu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const _u=function(t){return new Va(t)},Ou=_u,Cu=function(t){return Promise.resolve(_u(t))},Su=function(t){const e=_u(t),n=xr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new ja(n)),t},[]);return new wu(e,n)},Eu=Su,Tu=function(t){return Promise.resolve(Su(t))};let xu=(()=>{class t{constructor(){this.compileModuleSync=Ou,this.compileModuleAsync=Cu,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=Tu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Iu=(()=>Promise.resolve(0))();function Au(t){"undefined"==typeof Zone?Iu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mu(t),Nu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return ju(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Du(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return ju(t),e.invoke(r,i,o,s,a)}finally{Du(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Mu(t),Nu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Pu,Fs,Fs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Pu={};function Nu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Du(t){t._nesting--,Nu(t)}class Ru{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Lu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ku.assertNotInAngularZone(),Au(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Au(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Mn(ku))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t{constructor(){this._applications=new Map,qu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return qu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class Fu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Uu(t){qu=t}let Bu,qu=new Fu,Hu=!0,zu=!1;function Gu(){return zu=!0,Hu}function Ku(){if(zu)throw new Error("Cannot enable prod mode after platform setup.");Hu=!1}const $u=new ln("AllowMultipleToken");class Wu{constructor(t,e){this.name=t,this.token=e}}function Qu(t,e,n=[]){const r="Platform: "+e,i=new ln(r);return(e=[])=>{let o=Yu();if(!o||o.injector.get($u,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(Bu&&!Bu.destroyed&&!Bu.injector.get($u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bu=t.get(Zu);const e=t.get(pu,null);e&&e.forEach(t=>t())}(Co.create({providers:t,name:r}))}return function(t){const e=Yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Yu(){return Bu&&!Bu.destroyed?Bu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ru:("zone.js"===t?void 0:t)||new ku({enableLongStackTrace:Gu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ku,useValue:n}];return n.run(()=>{const e=Co.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{tc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(lu);return t.runInitializers(),t.donePromise.then(()=>(xs(i.injector.get(vu,Es)||Es),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Xu({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Mn(Co))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){return Array.isArray(e)?e.reduce(Xu,t):Object.assign(Object.assign({},t),e)}let Ju=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ku.assertNotInAngularZone(),Au(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(_a),i=n.create(Co.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Lu,null),a=s&&i.injector.get(Vu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),tc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Gu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;tc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Mn(ku),Mn(yu),Mn(Co),Mn(Sr),Mn(Vs),Mn(lu))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function tc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ec{}class nc{}const rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ic=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||rc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>oc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>oc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Mn(xu),Mn(nc,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function oc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const sc=function(t){return null},ac=Qu(null,"core",[{provide:gu,useValue:"unknown"},{provide:Zu,deps:[Co]},{provide:Vu,deps:[]},{provide:yu,deps:[]}]),uc=[{provide:Ju,useClass:Ju,deps:[ku,yu,Co,Sr,Vs,lu]},{provide:Ma,deps:[ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:lu,useClass:lu,deps:[[new _n,cu]]},{provide:xu,useClass:xu,deps:[]},du,{provide:oa,useFactory:function(){return pa},deps:[]},{provide:sa,useFactory:function(){return ga},deps:[]},{provide:vu,useFactory:function(t){return xs(t=t||"undefined"!=typeof $localize&&$localize.locale||Es),t},deps:[[new wn(vu),new _n,new Cn]]},{provide:bu,useValue:"USD"}];let cc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(Mn(Ju))},providers:uc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return g});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.3",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.19",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDBLQNRcQIPt0tb_EhlgxGcKZqhWwgKeKQ",authDomain:"myhome-e2107.firebaseapp.com",projectId:"myhome-e2107",storageBucket:"myhome-e2107.appspot.com",messagingSenderId:"418425448140",appId:"1:418425448140:web:1d0ae5ff01093996770469"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Rb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Eb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Rb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Rb)(a).location;return new w(Object(r.Rb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.Rb)(y),Object(r.Rb)(u))}function S(t){return t.replace(/\/index.html$/,"")}const E={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),I=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),A=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),P=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function N(t,e){return V(Object(r.ib)(t)[r.Z.DateFormat],e)}function M(t,e){return V(Object(r.ib)(t)[r.Z.TimeFormat],e)}function j(t,e){return V(Object(r.ib)(t)[r.Z.DateTimeFormat],e)}function D(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===P.CurrencyDecimal)return n[r.Z.NumberSymbols][P.Decimal];if(e===P.CurrencyGroup)return n[r.Z.NumberSymbols][P.Group]}return i}const R=r.lb;function L(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function V(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,B={},q=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var H=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),z=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),G=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function K(t,e,n,r){let i=function(t){if(it(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(U))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!it(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=$(n,e)||e;let o,s=[];for(;e;){if(o=q.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=rt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(rt(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(nt[t])return nt[t];let e;switch(t){case"G":case"GG":case"GGG":e=Z(G.Eras,A.Abbreviated);break;case"GGGG":e=Z(G.Eras,A.Wide);break;case"GGGGG":e=Z(G.Eras,A.Narrow);break;case"y":e=Y(z.FullYear,1,0,!1,!0);break;case"yy":e=Y(z.FullYear,2,0,!0,!0);break;case"yyy":e=Y(z.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(z.FullYear,4,0,!1,!0);break;case"Y":e=et(1);break;case"YY":e=et(2,!0);break;case"YYY":e=et(3);break;case"YYYY":e=et(4);break;case"M":case"L":e=Y(z.Month,1,1);break;case"MM":case"LL":e=Y(z.Month,2,1);break;case"MMM":e=Z(G.Months,A.Abbreviated);break;case"MMMM":e=Z(G.Months,A.Wide);break;case"MMMMM":e=Z(G.Months,A.Narrow);break;case"LLL":e=Z(G.Months,A.Abbreviated,I.Standalone);break;case"LLLL":e=Z(G.Months,A.Wide,I.Standalone);break;case"LLLLL":e=Z(G.Months,A.Narrow,I.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=Y(z.Date,1);break;case"dd":e=Y(z.Date,2);break;case"E":case"EE":case"EEE":e=Z(G.Days,A.Abbreviated);break;case"EEEE":e=Z(G.Days,A.Wide);break;case"EEEEE":e=Z(G.Days,A.Narrow);break;case"EEEEEE":e=Z(G.Days,A.Short);break;case"a":case"aa":case"aaa":e=Z(G.DayPeriods,A.Abbreviated);break;case"aaaa":e=Z(G.DayPeriods,A.Wide);break;case"aaaaa":e=Z(G.DayPeriods,A.Narrow);break;case"b":case"bb":case"bbb":e=Z(G.DayPeriods,A.Abbreviated,I.Standalone,!0);break;case"bbbb":e=Z(G.DayPeriods,A.Wide,I.Standalone,!0);break;case"bbbbb":e=Z(G.DayPeriods,A.Narrow,I.Standalone,!0);break;case"B":case"BB":case"BBB":e=Z(G.DayPeriods,A.Abbreviated,I.Format,!0);break;case"BBBB":e=Z(G.DayPeriods,A.Wide,I.Format,!0);break;case"BBBBB":e=Z(G.DayPeriods,A.Narrow,I.Format,!0);break;case"h":e=Y(z.Hours,1,-12);break;case"hh":e=Y(z.Hours,2,-12);break;case"H":e=Y(z.Hours,1);break;case"HH":e=Y(z.Hours,2);break;case"m":e=Y(z.Minutes,1);break;case"mm":e=Y(z.Minutes,2);break;case"s":e=Y(z.Seconds,1);break;case"ss":e=Y(z.Seconds,2);break;case"S":e=Y(z.FractionalSeconds,1);break;case"SS":e=Y(z.FractionalSeconds,2);break;case"SSS":e=Y(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(H.Short);break;case"ZZZZZ":e=X(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(H.Long);break;default:return null}return nt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $(t,e){const n=function(t){return Object(r.ib)(t)[r.Z.LocaleId]}(t);if(B[n]=B[n]||{},B[n][e])return B[n][e];let i="";switch(e){case"shortDate":i=N(t,k.Short);break;case"mediumDate":i=N(t,k.Medium);break;case"longDate":i=N(t,k.Long);break;case"fullDate":i=N(t,k.Full);break;case"shortTime":i=M(t,k.Short);break;case"mediumTime":i=M(t,k.Medium);break;case"longTime":i=M(t,k.Long);break;case"fullTime":i=M(t,k.Full);break;case"short":const e=$(t,"shortTime"),n=$(t,"shortDate");i=W(j(t,k.Short),[e,n]);break;case"medium":const r=$(t,"mediumTime"),o=$(t,"mediumDate");i=W(j(t,k.Medium),[r,o]);break;case"long":const s=$(t,"longTime"),a=$(t,"longDate");i=W(j(t,k.Long),[s,a]);break;case"full":const u=$(t,"fullTime"),c=$(t,"fullDate");i=W(j(t,k.Full),[u,c])}return i&&(B[n][e]=i),i}function W(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Q(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Y(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case z.FullYear:return e.getFullYear();case z.Month:return e.getMonth();case z.Date:return e.getDate();case z.Hours:return e.getHours();case z.Minutes:return e.getMinutes();case z.Seconds:return e.getSeconds();case z.FractionalSeconds:return e.getMilliseconds();case z.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===z.Hours)0===a&&-12===n&&(a=12);else if(t===z.FractionalSeconds)return u=e,Q(a,3).substr(0,u);var u;const c=D(s,P.MinusSign);return Q(a,e,c,r,i)}}function Z(t,e,n=I.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case G.Months:return function(t,e,n){const i=Object(r.ib)(t),o=V([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return V(o,n)}(e,o,i)[t.getMonth()];case G.Days:return function(t,e,n){const i=Object(r.ib)(t),o=V([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return V(o,n)}(e,o,i)[t.getDay()];case G.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=Object(r.ib)(t);return L(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.ib)(t);L(i);const o=V([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return V(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.ib)(t),o=V([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return V(o,n)}(e,o,i)[a<12?0:1];case G.Eras:return function(t,e){return V(Object(r.ib)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,o=D(n,P.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case H.Short:return(i>=0?"+":"")+Q(s,2,o)+Q(Math.abs(i%60),2,o);case H.ShortGMT:return"GMT"+(i>=0?"+":"")+Q(s,1,o);case H.Long:return"GMT"+(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);case H.Extended:return 0===r?"Z":(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function J(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=J(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Q(i,t,D(r,P.MinusSign))}}function et(t,e=!1){return function(n,r){return Q(J(n).getFullYear(),t,D(r,P.MinusSign),e)}}const nt={};function rt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function it(t){return t instanceof Date&&!isNaN(t.valueOf())}const ot=/^(\d+)?\.((\d+)(-(\d+))?)?$/,st=".",at="0";function ut(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ct{}let lt=(()=>{class t extends ct{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(R(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ht(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ft(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ft(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ft{constructor(t,e){this.record=t,this.view=e}}let pt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function mt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function yt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}let vt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return K(e,n,i||this.locale,r)}catch(o){throw yt(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.u))},t.\u0275pipe=r.Hb({name:"date",type:t,pure:!0}),t})(),bt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",o,s){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.ib)(t)[r.Z.Currencies]}(n)[t]||E[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(a,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,i,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(st)?i.split(st):[i.substring(0,i.lastIndexOf(at)+1),i.substring(i.lastIndexOf(at)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===at?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Z.NumberFormats][e]}(e,T.Currency),D(e,P.MinusSign));return s.minFrac=function(t){let e;const n=E[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(st))>-1&&(s=s.replace(st,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===at;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===at;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(ot);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=ut(e)),null!=n&&(h=ut(n)),null!=r?d=ut(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(D(n,r)),m.length&&(a+=D(n,i)+m.join("")),g&&(a+=D(n,P.Exponential)+"+"+g)}else a=D(n,P.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,s,e,P.CurrencyGroup,P.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),s,a,n,o)}catch(u){throw yt(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.u),r.Ib(r.k))},t.\u0275pipe=r.Hb({name:"currency",type:t,pure:!0}),t})(),wt=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:ct,useClass:lt}]}),t})();function _t(t){return"server"===t}let Ot=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new Ct(Object(r.Rb)(a),window)}),t})();class Ct{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=St(this.window.history)||St(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function St(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Et extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Et,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=xt||(xt=document.querySelector("base"),xt)?xt.getAttribute("href"):null;return null==e?null:(n=e,Tt||(Tt=document.createElement("a")),Tt.setAttribute("href",n),"/"===Tt.pathname.charAt(0)?Tt.pathname:"/"+Tt.pathname);var n}resetBaseElement(){xt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Tt,xt=null;const It=new r.q("TRANSITION_ID"),At=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[It,a,r.r],multi:!0}];class kt{static init(){Object(r.W)(new kt)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Pt=new r.q("EventManagerPlugins");let Nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pt),r.Rb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let jt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Dt=(()=>{class t extends jt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g;function Vt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Vt(t,i,n):(i=i.replace(Lt,t),n.push(i))}return n}function Ft(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Bt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new qt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new Ht(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Vt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Nt),r.Rb(Dt),r.Rb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Bt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ft(n)):this.eventManager.addEventListener(t,e,Ft(n))}}class qt extends Bt{constructor(t,e,n,r){super(t),this.component=n;const i=Vt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Lt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Lt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ht extends Bt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Vt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zt=(()=>{class t extends Mt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Gt=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Qt=(()=>{class t extends Mt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&$t.hasOwnProperty(e)&&(e=$t[e]))}return Kt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Gt.forEach(r=>{r!=n&&(0,Wt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Et.makeCurrent(),kt.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],Zt=Object(r.R)(r.V,"browser",Yt),Xt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Pt,useClass:zt,multi:!0,deps:[a,r.z,r.B]},{provide:Pt,useClass:Qt,multi:!0,deps:[a]},[],{provide:Ut,useClass:Ut,deps:[Nt,Dt,r.c]},{provide:r.E,useExisting:Ut},{provide:jt,useExisting:Dt},{provide:Dt,useClass:Dt,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Nt,useClass:Nt,deps:[Pt,r.z]},[]];let Jt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:It,useExisting:r.c},At]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:Xt,imports:[wt,r.f]}),t})();"undefined"!=typeof window&&window;var te=n("Cfvw"),ee=n("LRne"),ne=n("XNiG"),re=n("9ppp");class ie extends ne.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new re.a;return this._value}next(t){super.next(this._value=t)}}var oe=n("z+Ro"),se=n("DH7j"),ae=n("7o/Q");class ue extends ae.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ce extends ae.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var le=n("SeVD"),he=n("HDdC");function de(t,e,n,r,i=new ce(t,n,r)){if(!i.closed)return e instanceof he.a?e.subscribe(i):Object(le.a)(e)(i)}var fe=n("yCtX");const pe={};class ge{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new me(t,this.resultSelector))}}class me extends ue{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(pe),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(de(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===pe?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ye=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ve=n("bHdf");function be(...t){return Object(ve.a)(1)(Object(ee.a)(...t))}var we=n("EY2u");function _e(t){return new he.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(te.a)(n):Object(we.b)()).subscribe(e)})}var Oe=n("lJxs"),Ce=n("zx2A");function Se(t,e){return"function"==typeof e?n=>n.pipe(Se((n,r)=>Object(te.a)(t(n,r)).pipe(Object(Oe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ee(t))}class Ee{constructor(t){this.project=t}call(t,e){return e.subscribe(new Te(t,this.project))}}class Te extends Ce.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ce.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ce.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const xe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ie(t){return e=>0===t?Object(we.b)():e.lift(new Ae(t))}class Ae{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new ke(t,this.total))}}class ke extends ae.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Pe(...t){const e=t[t.length-1];return Object(oe.a)(e)?(t.pop(),n=>be(t,n,e)):e=>be(t,e)}function Ne(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Me(t,e,n))}}class Me{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new je(t,this.accumulator,this.seed,this.hasSeed))}}class je extends ae.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function De(t,e){return function(n){return n.lift(new Re(t,e))}}class Re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Le(t,this.predicate,this.thisArg))}}class Le extends ae.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ve(t){return function(e){const n=new Fe(t),r=e.lift(n);return n.caught=r}}class Fe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ue(t,this.selector,this.caught))}}class Ue extends Ce.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ce.a(this);this.add(r);const i=Object(Ce.c)(n,r);i!==r&&this.add(i)}}}var Be=n("5+tZ");function qe(t,e){return Object(Be.a)(t,e,1)}function He(t){return function(e){return 0===t?Object(we.b)():e.lift(new ze(t))}}class ze{constructor(t){if(this.total=t,this.total<0)throw new xe}call(t,e){return e.subscribe(new Ge(t,this.total))}}class Ge extends ae.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ke(t=Qe){return e=>e.lift(new $e(t))}class $e{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new We(t,this.errorFactory))}}class We extends ae.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Tb){t=Tb}this.destination.error(t)}}}function Qe(){return new ye}function Ye(t=null){return e=>e.lift(new Ze(t))}class Ze{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Xe(t,this.defaultValue))}}class Xe extends ae.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Je=n("SpAZ");function tn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?De((e,n)=>t(e,n,r)):Je.a,Ie(1),n?Ye(e):Ke(()=>new ye))}var en=n("vkgz"),nn=n("quSY");class rn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new on(t,this.callback))}}class on extends ae.a{constructor(t,e){super(t),this.add(new nn.a(e))}}class sn{constructor(t,e){this.id=t,this.url=e}}class an extends sn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends sn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cn extends sn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ln extends sn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hn extends sn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends sn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends sn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pn extends sn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn extends sn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Cn="primary";class Sn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function En(t){return new Sn(t)}function Tn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function xn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function In(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!An(t[i],e[i]))return!1;return!0}function An(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function kn(t){return Array.prototype.concat.apply([],t)}function Pn(t){return t.length>0?t[t.length-1]:null}function Nn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Mn(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(te.a)(Promise.resolve(t)):Object(ee.a)(t)}function jn(t,e,n){return n?function(t,e){return In(t,e)}(t.queryParams,e.queryParams)&&Dn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>An(t[n],e[n]))}(t.queryParams,e.queryParams)&&Rn(t.root,e.root)}function Dn(t,e){if(!Bn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Dn(t.children[n],e.children[n]))return!1}return!0}function Rn(t,e){return Ln(t,e,e.segments)}function Ln(t,e,n){if(t.segments.length>n.length)return!!Bn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Bn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Rn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Bn(t.segments,r)&&!!t.children.primary&&Ln(t.children.primary,e,i)}}class Vn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class Fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class Un{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return Xn(this)}}function Bn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class qn{}class Hn{parse(t){const e=new rr(t);return new Vn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Kn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Wn(e)}=${Wn(t)}`).join("&"):`${Wn(e)}=${Wn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const zn=new Hn;function Gn(t){return t.segments.map(t=>Xn(t)).join("/")}function Kn(t,e){if(!t.hasChildren())return Gn(t);if(e){const e=t.children.primary?Kn(t.children.primary,!1):"",n=[];return Nn(t.children,(t,e)=>{e!==Cn&&n.push(`${e}:${Kn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Nn(t.children,(t,r)=>{r===Cn&&(n=n.concat(e(t,r)))}),Nn(t.children,(t,r)=>{r!==Cn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Cn?[Kn(t.children.primary,!1)]:[`${n}:${Kn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Gn(t)}/${e[0]}`:`${Gn(t)}/(${e.join("//")})`}}function $n(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wn(t){return $n(t).replace(/%3B/gi,";")}function Qn(t){return $n(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yn(t){return decodeURIComponent(t)}function Zn(t){return Yn(t.replace(/\+/g,"%20"))}function Xn(t){return`${Qn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Qn(t)}=${Qn(e[t])}`).join("")}`;var e}const Jn=/^[^\/()?;=#]+/;function tr(t){const e=t.match(Jn);return e?e[0]:""}const er=/^[^=?&#]+/,nr=/^[^?&#]+/;class rr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Fn(t,e)),n}parseSegment(){const t=tr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Un(Yn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=tr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=tr(this.remaining);t&&(n=t,this.capture(n))}t[Yn(e)]=Yn(n)}parseQueryParam(t){const e=function(t){const e=t.match(er);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(nr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Zn(e),i=Zn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=tr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Cn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Fn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ir{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=or(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=or(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return sr(t,this._root).map(t=>t.value)}}function or(t,e){if(t===e.value)return e;for(const n of e.children){const e=or(t,n);if(e)return e}return null}function sr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=sr(t,n);if(r.length)return r.unshift(e),r}return[]}class ar{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ur(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class cr extends ir{constructor(t,e){super(t),this.snapshot=e,gr(this,t)}toString(){return this.snapshot.toString()}}function lr(t,e){const n=function(t,e){const n=new fr([],{},{},"",{},Cn,e,null,t.root,-1,{});return new pr("",new ar(n,[]))}(t,e),r=new ie([new Un("",{})]),i=new ie({}),o=new ie({}),s=new ie({}),a=new ie(""),u=new hr(r,i,s,a,o,Cn,e,n.root);return u.snapshot=n.root,new cr(new ar(u,[]),n)}class hr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Oe.a)(t=>En(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Oe.a)(t=>En(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class fr{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends ir{constructor(t,e){super(e),this.url=t,gr(this,e)}toString(){return mr(this._root)}}function gr(t,e){e.value._routerState=t,e.children.forEach(e=>gr(t,e))}function mr(t){const e=t.children.length>0?` { ${t.children.map(mr).join(", ")} } `:"";return`${t.value}${e}`}function yr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),In(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),In(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function vr(t,e){return In(t.params,e.params)&&function(t,e){return Bn(t,e)&&t.every((t,n)=>In(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||vr(t.parent,e.parent))}function br(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return br(t,e,r);return br(t,e)})}(t,e,n);return new ar(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return wr(e,t),t}{const n=new hr(new ie((r=e.value).url),new ie(r.params),new ie(r.queryParams),new ie(r.fragment),new ie(r.data),r.outlet,r.component,r),i=e.children.map(e=>br(t,e));return new ar(n,i)}}var r}function wr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)wr(t.children[n],e.children[n])}function _r(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Or(t){return"object"==typeof t&&null!=t&&t.outlets}function Cr(t,e,n,r,i){let o={};return r&&Nn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Vn(n.root===t?e:Sr(n.root,t,e),o,i)}function Sr(t,e,n){const r={};return Nn(t.children,(t,i)=>{r[i]=t===e?n:Sr(t,e,n)}),new Fn(t.segments,r)}class Er{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&_r(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Or);if(r&&r!==Pn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function xr(t,e,n){if(t||(t=new Fn([],{})),0===t.segments.length&&t.hasChildren())return Ir(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Or(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Nr(a,u,e))return o;r+=2}else{if(!Nr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Fn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Fn(t.segments.slice(r.pathIndex),t.children),Ir(e,0,i)}return r.match&&0===i.length?new Fn(t.segments,{}):r.match&&!t.hasChildren()?Ar(t,e,n):r.match?Ir(t,0,i):Ar(t,e,n)}function Ir(t,e,n){if(0===n.length)return new Fn(t.segments,{});{const r=function(t){return Or(t[0])?t[0].outlets:{[Cn]:t}}(n),i={};return Nn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=xr(t.children[r],e,n))}),Nn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Fn(t.segments,i)}}function Ar(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Or(o)){const t=kr(o.outlets);return new Fn(r,t)}if(0===i&&_r(n[0])){r.push(new Un(t.segments[e].path,n[0])),i++;continue}const s=Or(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&_r(a)?(r.push(new Un(s,Pr(a))),i+=2):(r.push(new Un(s,{})),i++)}return new Fn(r,{})}function kr(t){const e={};return Nn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ar(new Fn([],{}),0,t))}),e}function Pr(t){const e={};return Nn(t,(t,n)=>e[n]=""+t),e}function Nr(t,e,n){return t==n.path&&In(e,n.parameters)}class Mr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),yr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ur(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Nn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ur(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=ur(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new _n(t.value.snapshot))}),t.children.length&&this.forwardEvent(new bn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(yr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),jr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function jr(t){yr(t.value),t.children.forEach(jr)}class Dr{constructor(t,e){this.routes=t,this.module=e}}function Rr(t){return"function"==typeof t}function Lr(t){return t instanceof Vn}const Vr=Symbol("INITIAL_VALUE");function Fr(){return Se(t=>function(...t){let e=void 0,n=void 0;return Object(oe.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(se.a)(t[0])&&(t=t[0]),Object(fe.a)(t,n).lift(new ge(e))}(t.map(t=>t.pipe(Ie(1),Pe(Vr)))).pipe(Ne((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Vr)return t;if(r===Vr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Lr(r))return r}return t},t)},Vr),De(t=>t!==Vr),Object(Oe.a)(t=>Lr(t)?t:!0===t),Ie(1)))}let Ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Mi]},encapsulation:2}),t})();function Br(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];qr(r,Hr(e,r))}}function qr(t,e){t.children&&Br(t.children,e)}function Hr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function zr(t){const e=t.children&&t.children.map(zr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Cn&&(n.component=Ur),n}function Gr(t){return t.outlet||Cn}function Kr(t,e){const n=t.filter(t=>Gr(t)===e);return n.push(...t.filter(t=>Gr(t)!==e)),n}const $r={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},$r):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xn)(n,t,e);if(!i)return Object.assign({},$r);const o={};Nn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Qr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Yr(t,e,n)&&Gr(n)!==Cn)}(t,n,r)){const i=new Fn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Gr(o)!==Cn){const n=new Fn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Gr(o)]=n}return i}(t,e,r,new Fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yr(t,e,n))}(t,n,r)){const o=new Fn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Yr(t,n,a)&&!i[Gr(a)]){const n=new Fn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Gr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Fn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Yr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Zr(t,e,n,r){return!!(Gr(t)===r||r!==Cn&&Yr(e,n,t))&&("**"===t.path||Wr(e,t,n).matched)}function Xr(t,e,n){return 0===e.length&&!t.children[n]}class Jr{constructor(t){this.segmentGroup=t||null}}class ti{constructor(t){this.urlTree=t}}function ei(t){return new he.a(e=>e.error(new Jr(t)))}function ni(t){return new he.a(e=>e.error(new ti(t)))}function ri(t){return new he.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ii{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=Qr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Cn).pipe(Object(Oe.a)(t=>this.createUrlTree(oi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ve(t=>{if(t instanceof ti)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Jr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Cn).pipe(Object(Oe.a)(e=>this.createUrlTree(oi(e),t.queryParams,t.fragment))).pipe(Ve(t=>{if(t instanceof Jr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Fn([],{[Cn]:t}):t;return new Vn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Oe.a)(t=>new Fn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(te.a)(r).pipe(qe(r=>{const i=n.children[r],o=Kr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Oe.a)(t=>({segment:t,outlet:r})))}),Ne((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?De((e,n)=>t(e,n,r)):Je.a,He(1),n?Ye(e):Ke(()=>new ye))}())}expandSegment(t,e,n,r,i,o){return Object(te.a)(n).pipe(qe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ve(t=>{if(t instanceof Jr)return Object(ee.a)(null);throw t}))),tn(t=>!!t),Ve((t,n)=>{if(t instanceof ye||"EmptyError"===t.name){if(Xr(e,r,i))return Object(ee.a)(new Fn([],{}));throw new Jr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Zr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ei(e):ei(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ni(i):this.lineralizeSegments(n,i).pipe(Object(Be.a)(n=>{const i=new Fn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Wr(e,r,i);if(!s)return ei(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ni(l):this.lineralizeSegments(r,l).pipe(Object(Be.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Oe.a)(t=>(n._loadedConfig=t,new Fn(r,{})))):Object(ee.a)(new Fn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Wr(e,n,r);if(!o)return ei(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Be.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Qr(e,s,u,o),l=new Fn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Oe.a)(t=>new Fn(s,t)));if(0===o.length&&0===c.length)return Object(ee.a)(new Fn(s,{}));const h=Gr(n)===i;return this.expandSegment(r,l,o,c,h?Cn:i,!0).pipe(Object(Oe.a)(t=>new Fn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ee.a)(new Dr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ee.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Be.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Oe.a)(t=>(e._loadedConfig=t,t))):function(t){return new he.a(e=>e.error(Tn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ee.a)(new Dr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ee.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Rr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Rr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Mn(o)});return Object(ee.a)(i).pipe(Fr(),Object(en.a)(t=>{if(!Lr(t))return;const e=Tn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Oe.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ee.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ri(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Vn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Nn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Nn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Fn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function oi(t){const e={};for(const n of Object.keys(t.children)){const r=oi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Fn(t.segments.concat(e.segments),e.children)}return t}(new Fn(t.segments,e))}class si{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ai{constructor(t,e){this.component=t,this.route=e}}function ui(t,e,n){const r=t._root;return li(r,e?e._root:null,n,[r.value])}function ci(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function li(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ur(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bn(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!vr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new si(r)):(o.data=s.data,o._resolvedData=s._resolvedData),li(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ai(a.outlet.component,s))}else s&&hi(e,a,i),i.canActivateChecks.push(new si(r)),li(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Nn(o,(t,e)=>hi(t,n.getContext(e),i)),i}function hi(t,e,n){const r=ur(t),i=t.value;Nn(r,(t,r)=>{hi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ai(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class di{}function fi(t){return new he.a(e=>e.error(t))}class pi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Qr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Cn);if(null===e)return null;const n=new fr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ar(n,e),i=new pr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=dr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Kr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!gi(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Cn?-1:e.value.outlet===Cn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Xr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Zr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Pn(n).parameters:{};i=new fr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),Gr(t),t.component,t,mi(e),yi(e)+n.length,bi(t))}else{const r=Wr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new fr(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),Gr(t),t.component,t,mi(e),yi(e)+o.length,bi(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Qr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new ar(i,t)]}if(0===a.length&&0===c.length)return[new ar(i,[])];const l=Gr(t)===r,h=this.processSegment(a,u,c,l?Cn:r);return null===h?null:[new ar(i,h)]}}function gi(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vi(t){return t.data||{}}function bi(t){return t.resolve||{}}function wi(t){return Se(e=>{const n=t(e);return n?Object(te.a)(n).pipe(Object(Oe.a)(()=>e)):Object(ee.a)(e)})}class _i extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oi=new r.q("ROUTES");class Ci{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Oe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Dr(kn(r.injector.get(Oi)).map(zr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(te.a)(this.loader.load(t)):Mn(t()).pipe(Object(Be.a)(t=>t instanceof r.v?Object(ee.a)(t):Object(te.a)(this.compiler.compileModuleAsync(t))))}}class Si{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ei,this.attachRef=null}}class Ei{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Si,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ti{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function xi(t){throw t}function Ii(t,e,n){return e.parse("/")}function Ai(t,e){return Object(ee.a)(null)}let ki=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ne.a,this.errorHandler=xi,this.malformedUriErrorHandler=Ii,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ai,afterPreactivation:Ai},this.urlHandlingStrategy=new Ti,this.routeReuseStrategy=new _i,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Vn(new Fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ci(s,a,t=>this.triggerEvent(new mn(t)),t=>this.triggerEvent(new yn(t))),this.routerState=lr(this.currentUrlTree,this.rootComponentType),this.transitions=new ie({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(De(t=>0!==t.id),Object(Oe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Se(t=>{let n=!1,r=!1;return Object(ee.a)(t).pipe(Object(en.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Se(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ee.a)(t).pipe(Se(t=>{const n=this.transitions.getValue();return e.next(new an(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?we.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Se(t=>function(t,e,n,r,i){return new ii(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Oe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(en.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Be.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new pi(t,e,n,r,i,o).recognize();return null===s?fi(new di):Object(ee.a)(s)}catch(Tb){return fi(Tb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Oe.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(en.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new hn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new an(n,this.serializeUrl(r),i,o);e.next(a);const u=lr(r,this.rootComponentType).snapshot;return Object(ee.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),we.a}),wi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(en.a)(t=>{const e=new dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Oe.a)(t=>Object.assign(Object.assign({},t),{guards:ui(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Be.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ee.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(te.a)(t).pipe(Object(Be.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ee.a)(!0);const s=o.map(o=>{const s=ci(o,e,i);let a;if(function(t){return t&&Rr(t.canDeactivate)}(s))a=Mn(s.canDeactivate(t,e,n,r));else{if(!Rr(s))throw new Error("Invalid CanDeactivate guard");a=Mn(s(t,e,n,r))}return a.pipe(tn())});return Object(ee.a)(s).pipe(Fr())}(t.component,t.route,n,e,r)),tn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Be.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(te.a)(e).pipe(qe(e=>be(function(t,e){return null!==t&&e&&e(new vn(t)),Object(ee.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new wn(t)),Object(ee.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>_e(()=>{const i=e.guards.map(i=>{const o=ci(i,e.node,n);let s;if(function(t){return t&&Rr(t.canActivateChild)}(o))s=Mn(o.canActivateChild(r,t));else{if(!Rr(o))throw new Error("Invalid CanActivateChild guard");s=Mn(o(r,t))}return s.pipe(tn())});return Object(ee.a)(i).pipe(Fr())}));return Object(ee.a)(i).pipe(Fr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ee.a)(!0);const i=r.map(r=>_e(()=>{const i=ci(r,e,n);let o;if(function(t){return t&&Rr(t.canActivate)}(i))o=Mn(i.canActivate(e,t));else{if(!Rr(i))throw new Error("Invalid CanActivate guard");o=Mn(i(e,t))}return o.pipe(tn())}));return Object(ee.a)(i).pipe(Fr())}(t,e.route,n))),tn(t=>!0!==t,!0))}(r,o,t,e):Object(ee.a)(n)),Object(Oe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(en.a)(t=>{if(Lr(t.guardsResult)){const e=Tn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new fn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),De(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new cn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),wi(t=>{if(t.guards.canActivateChecks.length)return Object(ee.a)(t).pipe(Object(en.a)(t=>{const e=new pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Se(t=>{let n=!1;return Object(ee.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Be.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ee.a)(t);let o=0;return Object(te.a)(n).pipe(qe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ee.a)({});const o={};return Object(te.a)(i).pipe(Object(Be.a)(i=>function(t,e,n,r){const i=ci(t,e,r);return Mn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(en.a)(t=>{o[i]=t}))),He(1),Object(Be.a)(()=>Object.keys(o).length===i.length?Object(ee.a)(o):we.a))}(t._resolve,t,e,r).pipe(Object(Oe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),dr(t,n).resolve),null)))}(t.route,e,r,i)),Object(en.a)(()=>o++),He(1),Object(Be.a)(e=>o===n.length?Object(ee.a)(t):we.a))})),Object(en.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new cn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(en.a)(t=>{const e=new gn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),wi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Oe.a)(t=>{const e=function(t,e,n){const r=br(t,e._root,n?n._root:void 0);return new cr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(en.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Oe.a)(t=>(new Mr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(en.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new cn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new rn(i))),Ve(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Lr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new cn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ln(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(th){t.reject(th)}}var i;return we.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Br(t),this.config=t.map(zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Cr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Er(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Nn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Er(n,e,r)}(n);if(o.toRoot())return Cr(e.root,new Fn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Tr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Tr(t,t===e.root,0)}const r=_r(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Tr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ir(s.segmentGroup,s.index,o.commands):xr(s.segmentGroup,s.index,o.commands);return Cr(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Lr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Tb){e=this.malformedUriErrorHandler(Tb,this.urlSerializer,t)}return e}isActive(t,e){if(Lr(t))return jn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return jn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M),r.Rb(qn),r.Rb(Ei),r.Rb(O),r.Rb(r.r),r.Rb(r.w),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new ne.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Ni(this.skipLocationChange),replaceUrl:Ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ki),r.Ib(hr),r.Sb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Ub("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Ni(t){return""===t||!!t}let Mi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Cn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ji(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ei),r.Ib(r.P),r.Ib(r.j),r.Sb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ji{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===hr?this.route:t===Ei?this.childContexts:this.parent.get(t,e)}}class Di{}class Ri{preload(t,e){return Object(ee.a)(null)}}let Li=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ci(e,n,e=>t.triggerEvent(new mn(e)),e=>t.triggerEvent(new yn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(De(t=>t instanceof un),qe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(te.a)(n).pipe(Object(ve.a)(),Object(Oe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Be.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ki),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(Di))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Vi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof an?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof un&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof On&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new On(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ki),r.Rb(Ot),r.Rb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Fi=new r.q("ROUTER_CONFIGURATION"),Ui=new r.q("ROUTER_FORROOT_GUARD"),Bi=[O,{provide:qn,useClass:Hn},{provide:ki,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new ki(null,t,e,n,r,i,o,kn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[qn,Ei,O,r.r,r.w,r.i,Oi,Fi,[class{},new r.A],[class{},new r.A]]},Ei,{provide:hr,useFactory:function(t){return t.routerState.root},deps:[ki]},{provide:r.w,useClass:r.J},Li,Ri,class{preload(t,e){return e().pipe(Ve(()=>Object(ee.a)(null)))}},{provide:Fi,useValue:{enableTracing:!1}}];function qi(){return new r.y("Router",ki)}let Hi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Bi,$i(e),{provide:Ui,useFactory:Ki,deps:[[ki,new r.A,new r.I]]},{provide:Fi,useValue:n||{}},{provide:y,useFactory:Gi,deps:[u,[new r.p(b),new r.A],Fi]},{provide:Vi,useFactory:zi,deps:[ki,Ot,Fi]},{provide:Di,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ri},{provide:r.y,multi:!0,useFactory:qi},[Wi,{provide:r.d,multi:!0,useFactory:Qi,deps:[Wi]},{provide:Zi,useFactory:Yi,deps:[Wi]},{provide:r.b,multi:!0,useExisting:Zi}]]}}static forChild(e){return{ngModule:t,providers:[$i(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Rb(Ui,8),r.Rb(ki,8))}}),t})();function zi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Vi(t,e,n)}function Gi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Ki(t){return"guarded"}function $i(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Oi,multi:!0,useValue:t}]}let Wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ne.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ki),r=this.injector.get(Fi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ee.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Fi),n=this.injector.get(Li),i=this.injector.get(Vi),o=this.injector.get(ki),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function Qi(t){return t.appInitializer.bind(t)}function Yi(t){return t.bootstrapListener.bind(t)}const Zi=new r.q("Router Initializer");var Xi=function(t){return t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",t}({});const Ji=new class{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)}addTransformMetadata(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)}addExposeMetadata(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)}addExcludeMetadata(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)}findTransformMetadatas(t,e,n){return this.findMetadatas(this._transformMetadatas,t,e).filter(t=>!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?n===Xi.CLASS_TO_CLASS||n===Xi.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||n===Xi.CLASS_TO_PLAIN))}findExcludeMetadata(t,e){return this.findMetadata(this._excludeMetadatas,t,e)}findExposeMetadata(t,e){return this.findMetadata(this._exposeMetadatas,t,e)}findExposeMetadataByCustomName(t,e){return this.getExposedMetadatas(t).find(t=>t.options&&t.options.name===e)}findTypeMetadata(t,e){return this.findMetadata(this._typeMetadatas,t,e)}getStrategy(t){const e=this._excludeMetadatas.get(t),n=e&&e.get(void 0),r=this._exposeMetadatas.get(t),i=r&&r.get(void 0);return n&&i||!n&&!i?"none":n?"excludeAll":"exposeAll"}getExposedMetadatas(t){return this.getMetadata(this._exposeMetadatas,t)}getExcludedMetadatas(t){return this.getMetadata(this._excludeMetadatas,t)}getExposedProperties(t,e){return this.getExposedMetadatas(t).filter(t=>!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===Xi.CLASS_TO_CLASS||e===Xi.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===Xi.CLASS_TO_PLAIN)).map(t=>t.propertyName)}getExcludedProperties(t,e){return this.getExcludedMetadatas(t).filter(t=>!t.options||!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===Xi.CLASS_TO_CLASS||e===Xi.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===Xi.CLASS_TO_PLAIN)).map(t=>t.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(t,e){const n=t.get(e);let r;n&&(r=Array.from(n.values()).filter(t=>void 0!==t.propertyName));const i=[];for(const o of this.getAncestors(e)){const e=t.get(o);if(e){const t=Array.from(e.values()).filter(t=>void 0!==t.propertyName);i.push(...t)}}return i.concat(r||[])}findMetadata(t,e,n){const r=t.get(e);if(r){const t=r.get(n);if(t)return t}for(const i of this.getAncestors(e)){const e=t.get(i);if(e){const t=e.get(n);if(t)return t}}}findMetadatas(t,e,n){const r=t.get(e);let i;r&&(i=r.get(n));const o=[];for(const s of this.getAncestors(e)){const e=t.get(s);e&&e.has(n)&&o.push(...e.get(n))}return o.slice().reverse().concat((i||[]).slice().reverse())}getAncestors(t){if(!t)return[];if(!this._ancestorsMap.has(t)){const e=[];for(let n=Object.getPrototypeOf(t.prototype.constructor);void 0!==n.prototype;n=Object.getPrototypeOf(n.prototype.constructor))e.push(n);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)}};class to{constructor(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}transform(t,e,n,r,i,o=0){if(Array.isArray(e)||e instanceof Set){const i=r&&this.transformationType===Xi.PLAIN_TO_CLASS?function(t){const e=new t;return e instanceof Set||"push"in e?e:[]}(r):[];return e.forEach((e,r)=>{const s=t?t[r]:void 0;if(this.options.enableCircularCheck&&this.isCircular(e))this.transformationType===Xi.CLASS_TO_CLASS&&(i instanceof Set?i.add(e):i.push(e));else{let t;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(this.transformationType===Xi.PLAIN_TO_CLASS){t=n.options.discriminator.subTypes.find(t=>t.name===e[n.options.discriminator.property]);const r=n.typeFunction({newObject:i,object:e,property:void 0});t=void 0===t?r:t.value,n.options.keepDiscriminatorProperty||delete e[n.options.discriminator.property]}this.transformationType===Xi.CLASS_TO_CLASS&&(t=e.constructor),this.transformationType===Xi.CLASS_TO_PLAIN&&(e[n.options.discriminator.property]=n.options.discriminator.subTypes.find(t=>t.value===e.constructor).name)}else t=n;const r=this.transform(s,e,t,void 0,e instanceof Map,o+1);i instanceof Set?i.add(r):i.push(r)}}),i}if(n!==String||i){if(n!==Number||i){if(n!==Boolean||i){if((n===Date||e instanceof Date)&&!i)return e instanceof Date?new Date(e.valueOf()):null==e?e:new Date(e);if(("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0).Buffer&&(n===Buffer||e instanceof Buffer)&&!i)return null==e?e:Buffer.from(e);if(null===(s=e)||"object"!=typeof s||"function"!=typeof s.then||i){if(i||null===e||"object"!=typeof e||"function"!=typeof e.then){if("object"==typeof e&&null!==e){n||e.constructor===Object||(n=e.constructor),!n&&t&&(n=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(e);const r=this.getKeys(n,e,i);let s=t||{};t||this.transformationType!==Xi.PLAIN_TO_CLASS&&this.transformationType!==Xi.CLASS_TO_CLASS||(s=i?new Map:n?new n:{});for(const a of r){if("__proto__"===a||"constructor"===a)continue;const r=a;let u=a,c=a;if(!this.options.ignoreDecorators&&n)if(this.transformationType===Xi.PLAIN_TO_CLASS){const t=Ji.findExposeMetadataByCustomName(n,a);t&&(c=t.propertyName,u=t.propertyName)}else if(this.transformationType===Xi.CLASS_TO_PLAIN||this.transformationType===Xi.CLASS_TO_CLASS){const t=Ji.findExposeMetadata(n,a);t&&t.options&&t.options.name&&(u=t.options.name)}let l=void 0;l=e instanceof Map?e.get(r):e[r]instanceof Function?e[r]():e[r];let h=void 0,d=l instanceof Map;if(n&&i)h=n;else if(n){const t=Ji.findTypeMetadata(n,c);if(t){const n={newObject:s,object:e,property:c},i=t.typeFunction?t.typeFunction(n):t.reflectedType;t.options&&t.options.discriminator&&t.options.discriminator.property&&t.options.discriminator.subTypes?e[r]instanceof Array?h=t:(this.transformationType===Xi.PLAIN_TO_CLASS&&(h=t.options.discriminator.subTypes.find(e=>{if(l&&l instanceof Object&&t.options.discriminator.property in l)return e.name===l[t.options.discriminator.property]}),h=void 0===h?i:h.value,t.options.keepDiscriminatorProperty||l&&l instanceof Object&&t.options.discriminator.property in l&&delete l[t.options.discriminator.property]),this.transformationType===Xi.CLASS_TO_CLASS&&(h=l.constructor),this.transformationType===Xi.CLASS_TO_PLAIN&&(l[t.options.discriminator.property]=t.options.discriminator.subTypes.find(t=>t.value===l.constructor).name)):h=i,d=d||t.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(t=>t.target===n&&!!t.properties[c]).forEach(t=>h=t.properties[c]);else if(this.options.enableImplicitConversion&&this.transformationType===Xi.PLAIN_TO_CLASS){const t=Reflect.getMetadata("design:type",n.prototype,c);t&&(h=t)}}const f=Array.isArray(e[r])?this.getReflectedType(n,c):void 0,p=t?t[r]:void 0;if(s.constructor.prototype){const t=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if((this.transformationType===Xi.PLAIN_TO_CLASS||this.transformationType===Xi.CLASS_TO_CLASS)&&(t&&!t.set||s[u]instanceof Function))continue}if(this.options.enableCircularCheck&&this.isCircular(l)){if(this.transformationType===Xi.CLASS_TO_CLASS){let t=l;t=this.applyCustomTransformations(t,n,a,e,this.transformationType),(void 0!==t||this.options.exposeUnsetFields)&&(s instanceof Map?s.set(u,t):s[u]=t)}}else{const t=this.transformationType===Xi.PLAIN_TO_CLASS?u:a;let r;this.transformationType===Xi.CLASS_TO_PLAIN?(r=e[t],r=this.applyCustomTransformations(r,n,t,e,this.transformationType),r=e[t]===r?l:r,r=this.transform(p,r,h,f,d,o+1)):void 0===l&&this.options.exposeDefaultValues?r=s[u]:(r=this.transform(p,l,h,f,d,o+1),r=this.applyCustomTransformations(r,n,t,e,this.transformationType)),(void 0!==r||this.options.exposeUnsetFields)&&(s instanceof Map?s.set(u,r):s[u]=r)}}return this.options.enableCircularCheck&&this.recursionStack.delete(e),s}return e}return e}return new Promise((t,r)=>{e.then(e=>t(this.transform(void 0,e,n,void 0,void 0,o+1)),r)})}return null==e?e:Boolean(e)}return null==e?e:Number(e)}return null==e?e:String(e);var s}applyCustomTransformations(t,e,n,r,i){let o=Ji.findTransformMetadatas(e,n,this.transformationType);return void 0!==this.options.version&&(o=o.filter(t=>!t.options||this.checkVersion(t.options.since,t.options.until))),o=o.filter(this.options.groups&&this.options.groups.length?t=>!t.options||this.checkGroups(t.options.groups):t=>!t.options||!t.options.groups||!t.options.groups.length),o.forEach(e=>{t=e.transformFn({value:t,key:n,obj:r,type:i,options:this.options})}),t}isCircular(t){return this.recursionStack.has(t)}getReflectedType(t,e){if(!t)return;const n=Ji.findTypeMetadata(t,e);return n?n.reflectedType:void 0}getKeys(t,e,n){let r=Ji.getStrategy(t);"none"===r&&(r=this.options.strategy||"exposeAll");let i=[];if(("exposeAll"===r||n)&&(i=e instanceof Map?Array.from(e.keys()):Object.keys(e)),n)return i;if(!this.options.ignoreDecorators&&t){let e=Ji.getExposedProperties(t,this.transformationType);this.transformationType===Xi.PLAIN_TO_CLASS&&(e=e.map(e=>{const n=Ji.findExposeMetadata(t,e);return n&&n.options&&n.options.name?n.options.name:e})),i=this.options.excludeExtraneousValues?e:i.concat(e);const n=Ji.getExcludedProperties(t,this.transformationType);n.length>0&&(i=i.filter(t=>!n.includes(t))),void 0!==this.options.version&&(i=i.filter(e=>{const n=Ji.findExposeMetadata(t,e);return!n||!n.options||this.checkVersion(n.options.since,n.options.until)})),i=i.filter(this.options.groups&&this.options.groups.length?e=>{const n=Ji.findExposeMetadata(t,e);return!n||!n.options||this.checkGroups(n.options.groups)}:e=>{const n=Ji.findExposeMetadata(t,e);return!(n&&n.options&&n.options.groups&&n.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(i=i.filter(t=>this.options.excludePrefixes.every(e=>t.substr(0,e.length)!==e))),i=i.filter((t,e,n)=>n.indexOf(t)===e),i}checkVersion(t,e){let n=!0;return n&&t&&(n=this.options.version>=t),n&&e&&(n=this.options.version<e),n}checkGroups(t){return!t||this.options.groups.some(e=>t.includes(e))}}const eo={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},no=new class{classToPlain(t,e){return new to(Xi.CLASS_TO_PLAIN,{...eo,...e}).transform(void 0,t,void 0,void 0,void 0,void 0)}classToPlainFromExist(t,e,n){return new to(Xi.CLASS_TO_PLAIN,{...eo,...n}).transform(e,t,void 0,void 0,void 0,void 0)}plainToClass(t,e,n){return new to(Xi.PLAIN_TO_CLASS,{...eo,...n}).transform(void 0,e,t,void 0,void 0,void 0)}plainToClassFromExist(t,e,n){return new to(Xi.PLAIN_TO_CLASS,{...eo,...n}).transform(t,e,void 0,void 0,void 0,void 0)}classToClass(t,e){return new to(Xi.CLASS_TO_CLASS,{...eo,...e}).transform(void 0,t,void 0,void 0,void 0,void 0)}classToClassFromExist(t,e,n){return new to(Xi.CLASS_TO_CLASS,{...eo,...n}).transform(e,t,void 0,void 0,void 0,void 0)}serialize(t,e){return JSON.stringify(this.classToPlain(t,e))}deserialize(t,e,n){const r=JSON.parse(e);return this.plainToClass(t,r,n)}deserializeArray(t,e,n){const r=JSON.parse(e);return this.plainToClass(t,r,n)}};class ro{constructor(t,e,n){this.type=t,this.firestore=e,this.caminho=n,this.ref=this.firestore.collection(this.caminho)}get(t){return this.ref.doc(t).get().pipe(Object(Oe.a)(t=>this.docToClass(t)))}list(){return this.ref.valueChanges()}createOrUpdate(t){let e=t.id;if(!t)return;let n=null;return n=t instanceof this.type?t.toObject():t,e?this.ref.doc(e).set(n):this.ref.add(n).then(t=>{n.id=t.id,this.ref.doc(t.id).set(n)})}delete(t){return this.ref.doc(t).delete()}docToClass(t){let e=Object.assign({id:t.id},t.data());return no.plainToClass(this.type,e,void 0)}}class io{toObject(){let t=no.classToPlain(this,void 0);return delete t.id,t}}class oo extends io{}var so=n("D0XW");function ao(){return t=>t.lift(new uo)}class uo{call(t,e){return e.subscribe(new co(t))}}class co extends ae.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class lo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ho(t,this.compare,this.keySelector))}}class ho extends ae.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var fo=n("pxpQ"),po=n("spgP"),go=n("Jgta"),mo=n("zIRd"),yo=n("qOnz"),vo=n("q/0M"),bo=function(t,e){return(bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function wo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _o,Oo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Co=Co||{},So=Oo||self;function Eo(){}function To(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Io="closure_uid_"+(1e9*Math.random()>>>0),Ao=0;function ko(t,e,n){return t.call.apply(t.bind,arguments)}function Po(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function No(t,e,n){return(No=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ko:Po).apply(null,arguments)}function Mo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function jo(){return Date.now()}function Do(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ro(){this.j=this.j,this.i=this.i}Ro.prototype.j=!1,Ro.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Io)&&t[Io]||(t[Io]=++Ao)}(this)},Ro.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Lo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Vo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Fo(t){return Array.prototype.concat.apply([],arguments)}function Uo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bo(t){return/^[\s\xa0]*$/.test(t)}var qo,Ho=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zo(t,e){return-1!=t.indexOf(e)}function Go(t,e){return t<e?-1:t>e?1:0}t:{var Ko=So.navigator;if(Ko){var $o=Ko.userAgent;if($o){qo=$o;break t}}qo=""}function Wo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Qo(t){var e={};for(var n in t)e[n]=t[n];return e}var Yo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Yo.length;o++)n=Yo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xo(t){return Xo[" "](t),t}Xo[" "]=Eo;var Jo,ts,es=zo(qo,"Opera"),ns=zo(qo,"Trident")||zo(qo,"MSIE"),rs=zo(qo,"Edge"),is=rs||ns,os=zo(qo,"Gecko")&&!(zo(qo.toLowerCase(),"webkit")&&!zo(qo,"Edge"))&&!(zo(qo,"Trident")||zo(qo,"MSIE"))&&!zo(qo,"Edge"),ss=zo(qo.toLowerCase(),"webkit")&&!zo(qo,"Edge");function as(){var t=So.document;return t?t.documentMode:void 0}t:{var us="",cs=(ts=qo,os?/rv:([^\);]+)(\)|;)/.exec(ts):rs?/Edge\/([\d\.]+)/.exec(ts):ns?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ts):ss?/WebKit\/(\S+)/.exec(ts):es?/(?:Version)[ \/]?(\S+)/.exec(ts):void 0);if(cs&&(us=cs?cs[1]:""),ns){var ls=as();if(null!=ls&&ls>parseFloat(us)){Jo=String(ls);break t}}Jo=us}var hs={};function ds(t){return function(t,e){var n=hs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ho(String(Jo)).split("."),r=Ho(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Go(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Go(0==s[2].length,0==a[2].length)||Go(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var fs=So.document&&ns&&(as()||parseInt(Jo,10))||void 0,ps=!ns||9<=Number(fs),gs=ns&&!ds("9"),ms=function(){if(!So.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{So.addEventListener("test",Eo,e),So.removeEventListener("test",Eo,e)}catch(n){}return t}();function ys(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function vs(t,e){if(ys.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(os){t:{try{Xo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ys.prototype.b=function(){this.defaultPrevented=!0},Do(vs,ys);var bs={2:"touch",3:"pen",4:"mouse"};vs.prototype.b=function(){vs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,gs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ws="closure_listenable_"+(1e6*Math.random()|0),_s=0;function Os(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_s,this.Y=this.Z=!1}function Cs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ss(t){this.src=t,this.a={},this.b=0}function Es(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Lo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Cs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ts(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ss.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ts(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Os(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var xs="closure_lm_"+(1e6*Math.random()|0),Is={};function As(t,e,n,r,i){if(r&&r.once)return Ps(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)As(t,e[o],n,r,i);return null}return n=Fs(n),t&&t[ws]?t.va(e,n,xo(r)?!!r.capture:!!r,i):ks(t,e,n,!1,r,i)}function ks(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xo(i)?!!i.capture:!!i;if(s&&!ps)return null;var a=Ls(t);if(a||(t[xs]=a=new Ss(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Rs,e=ps?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ms||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(js(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ps(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ps(t,e[o],n,r,i);return null}return n=Fs(n),t&&t[ws]?t.wa(e,n,xo(r)?!!r.capture:!!r,i):ks(t,e,n,!0,r,i)}function Ns(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ns(t,e[o],n,r,i);else r=xo(r)?!!r.capture:!!r,n=Fs(n),t&&t[ws]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ts(o=t.a[e],n,r,i))&&(Cs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ls(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ts(e,n,r,i)),(n=-1<t?e[t]:null)&&Ms(n))}function Ms(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ws])Es(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(js(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ls(e))?(Es(n,t),0==n.b&&(n.src=null,e[xs]=null)):Cs(t)}}}function js(t){return t in Is?Is[t]:Is[t]="on"+t}function Ds(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ms(t),n.call(r,e)}function Rs(t,e){if(t.Y)return!0;if(!ps){if(!e)t:{e=["window","event"];for(var n=So,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ds(t,e=new vs(e,this))}return Ds(t,new vs(e,this))}function Ls(t){return(t=t[xs])instanceof Ss?t:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fs(t){return"function"==typeof t?t:(t[Vs]||(t[Vs]=function(e){return t.handleEvent(e)}),t[Vs])}function Us(){Ro.call(this),this.c=new Ss(this),this.J=this,this.C=null}function Bs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ys(e,t);else if(e instanceof ys)e.target=e.target||t;else{var i=e;Zo(e=new ys(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=qs(s,r,!0,e)&&i}if(i=qs(s=e.a=t,r,!0,e)&&i,i=qs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qs(s=e.a=n[o],r,!1,e)&&i}function qs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Es(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Do(Us,Ro),Us.prototype[ws]=!0,(_o=Us.prototype).addEventListener=function(t,e,n,r){As(this,t,e,n,r)},_o.removeEventListener=function(t,e,n,r){Ns(this,t,e,n,r)},_o.G=function(){if(Us.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Cs(n[r]);delete e.a[t],e.b--}}this.C=null},_o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Hs=So.JSON.stringify;function zs(){this.b=this.a=null}var Gs,Ks=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ws},function(t){t.reset()});function $s(){var t=Xs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ws(){this.next=this.b=this.a=null}function Qs(t){So.setTimeout(function(){throw t},0)}function Ys(t,e){Gs||function(){var t=So.Promise.resolve(void 0);Gs=function(){t.then(Js)}}(),Zs||(Gs(),Zs=!0),Xs.add(t,e)}zs.prototype.add=function(t,e){var n=Ks.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ws.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ws.prototype.reset=function(){this.next=this.b=this.a=null};var Zs=!1,Xs=new zs;function Js(){for(var t;t=$s();){try{t.a.call(t.b)}catch(n){Qs(n)}var e=Ks;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Zs=!1}function ta(t,e){Us.call(this),this.b=t||1,this.a=e||So,this.f=No(this.Za,this),this.g=jo()}function ea(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function na(t,e,n){if("function"==typeof t)n&&(t=No(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=No(t.handleEvent,t)}return 2147483647<Number(e)?-1:So.setTimeout(t,e||0)}function ra(t){t.a=na(function(){t.a=null,t.c&&(t.c=!1,ra(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Do(ta,Us),(_o=ta.prototype).aa=!1,_o.M=null,_o.Za=function(){if(this.aa){var t=jo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Bs(this,"tick"),this.aa&&(ea(this),this.start()))}},_o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=jo())},_o.G=function(){ta.X.G.call(this),ea(this),delete this.a};var ia=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ra(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(So.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ro);function oa(t){Ro.call(this),this.b=t,this.a={}}Do(oa,Ro);var sa=[];function aa(t,e,n,r){Array.isArray(n)||(n&&(sa[0]=n.toString()),n=sa);for(var i=0;i<n.length;i++){var o=As(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ua(t){Wo(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ms(t)},t),t.a={}}function ca(){this.a=!0}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Hs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}oa.prototype.G=function(){oa.X.G.call(this),ua(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ca.prototype.info=function(){};var ha={},da=null;function fa(){return da=da||new Us}function pa(t){ys.call(this,ha.Fa,t)}function ga(t){var e=fa();Bs(e,new pa(e,t))}function ma(t,e){ys.call(this,ha.STAT_EVENT,t),this.stat=e}function ya(t){var e=fa();Bs(e,new ma(e,t))}function va(t){ys.call(this,ha.Ga,t)}function ba(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return So.setTimeout(function(){t()},e)}ha.Fa="serverreachability",Do(pa,ys),ha.STAT_EVENT="statevent",Do(ma,ys),ha.Ga="timingevent",Do(va,ys);var wa={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},_a={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Oa(){}function Ca(){}Oa.prototype.a=null;var Sa,Ea={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ta(){ys.call(this,"d")}function xa(){ys.call(this,"c")}function Ia(){}function Aa(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new oa(this),this.P=ka,this.R=new ta(t=is?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Do(Ta,ys),Do(xa,ys),Do(Ia,Oa),Sa=new Ia;var ka=45e3,Pa={},Na={};function Ma(t,e,n){t.H=1,t.i=eu(Qa(e)),t.j=n,t.I=!0,ja(t,null)}function ja(t,e){t.u=jo(),La(t),t.l=Qa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pu(n.b,"t",r),t.D=0,t.a=uc(t.g,t.g.C?e:null),0<t.O&&(t.F=new ia(No(t.Ca,t,t.a),t.O)),aa(t.J,t.a,"readystatechange",t.Xa),e=t.B?Qo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ga(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Da(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ra(t,n);if(i==Na){4==e&&(t.h=4,ya(14),r=!1),la(t.c,t.f,null,"[Incomplete Response]");break}if(i==Pa){t.h=4,ya(15),la(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}la(t.c,t.f,i,null),qa(t,i)}4==e&&0==n.length&&(t.h=1,ya(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tc(e),e.F=!0,ya(11))):(la(t.c,t.f,n,"[Invalid Chunked Response]"),Ba(t),Ua(t))}function Ra(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Na:(n=Number(e.substring(n,r)),isNaN(n)?Pa:(r+=1)+n>e.length?Na:(e=e.substr(r,n),t.D=r+n,e))}function La(t){t.T=jo()+t.P,Va(t,t.P)}function Va(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ba(No(t.Va,t),e)}function Fa(t){t.o&&(So.clearTimeout(t.o),t.o=null)}function Ua(t){0==t.g.v||t.A||rc(t.g,t)}function Ba(t){Fa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ea(t.R),ua(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function qa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||_u(n.b,t)))if(n.I=t.N,!t.C&&_u(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Gv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nc(n),Gu(n)}Ju(n),ya(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ba(No(n.Sa,n),6e3));if(1>=wu(n.b)&&n.ea){try{n.ea()}catch(Gv){}n.ea=void 0}}else oc(n,11)}else if((t.C||n.a==t)&&nc(n),!Bo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(zo(l,"spdy")||zo(l,"quic")||zo(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ou(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,tu(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=jo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=ac(u,u.C?u.ga:null,u.fa),f.C){Cu(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(Fa(p),La(p)),u.a=f}else Xu(u);0<n.g.length&&Wu(n)}else"stop"!=i[0]&&"close"!=i[0]||oc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?oc(n,7):zu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ga(4)}catch(Gv){}}function Ha(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(To(t)||"string"==typeof t)Vo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(To(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(To(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function za(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof za)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ga(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ka(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ka(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ka(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_o=Aa.prototype).setTimeout=function(t){this.P=t},_o.Xa=function(t){t=t.target;var e=this.F;e&&3==Uu(t)?e.f():this.Ca(t)},_o.Ca=function(t){try{if(t==this.a)t:{var e=Uu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!is&&!this.a.$())){this.A||4!=e||7==n||ga(8==n||0>=r?3:2),Fa(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ya(12),Ba(this),Ua(this);break t}la(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,qa(this,u)}this.I?(Da(this,e,o),is&&this.b&&3==e&&(aa(this.J,this.R,"tick",this.Wa),this.R.start())):(la(this.c,this.f,o,null),qa(this,o)),4==e&&Ba(this),this.b&&!this.A&&(4==e?rc(this.g,this):(this.b=!1,La(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ya(12)):(this.h=0,ya(13)),Ba(this),Ua(this)}}}catch(c){}},_o.Wa=function(){if(this.a){var t=Uu(this.a),e=this.a.$();this.D<e.length&&(Fa(this),Da(this,t,e),this.b&&4!=t&&La(this))}},_o.cancel=function(){this.A=!0,Ba(this)},_o.Va=function(){this.o=null;var t=jo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ga(3),ya(17)),Ba(this),this.h=2,Ua(this)):Va(this,this.T-t)},(_o=za.prototype).K=function(){Ga(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_o.L=function(){return Ga(this),this.a.concat()},_o.get=function(t,e){return Ka(this.b,t)?this.b[t]:e},_o.set=function(t,e){Ka(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $a=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wa){this.a=void 0!==e?e:t.a,Ya(this,t.f),this.j=t.j,Za(this,t.c),Xa(this,t.h),this.g=t.g,e=t.b;var n=new lu;n.c=e.c,e.a&&(n.a=new za(e.a),n.b=e.b),Ja(this,n),this.i=t.i}else t&&(n=String(t).match($a))?(this.a=!!e,Ya(this,n[1]||"",!0),this.j=nu(n[2]||""),Za(this,n[3]||"",!0),Xa(this,n[4]),this.g=nu(n[5]||"",!0),Ja(this,n[6]||"",!0),this.i=nu(n[7]||"")):(this.a=!!e,this.b=new lu(null,this.a))}function Qa(t){return new Wa(t)}function Ya(t,e,n){t.f=n?nu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Za(t,e,n){t.c=n?nu(e,!0):e}function Xa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ja(t,e,n){e instanceof lu?(t.b=e,function(t,e){e&&!t.f&&(hu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(du(this,e),pu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ru(e,uu)),t.b=new lu(e,t.a))}function tu(t,e,n){t.b.set(e,n)}function eu(t){return tu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^jo()).toString(36)),t}function nu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ru(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ru(e,ou,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ru(e,ou,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ru(n,"/"==n.charAt(0)?au:su,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ru(n,cu)),t.join("")};var ou=/[#\/\?@]/g,su=/[#\?:]/g,au=/[#\?]/g,uu=/[#\?@]/g,cu=/#/g;function lu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function hu(t){t.a||(t.a=new za,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function du(t,e){hu(t),e=gu(t,e),Ka(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ka((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ga(t)))}function fu(t,e){return hu(t),e=gu(t,e),Ka(t.a.b,e)}function pu(t,e,n){du(t,e),0<n.length&&(t.c=null,t.a.set(gu(t,e),Uo(n)),t.b+=n.length)}function gu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_o=lu.prototype).add=function(t,e){hu(this),this.c=null,t=gu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_o.forEach=function(t,e){hu(this),this.a.forEach(function(n,r){Vo(n,function(n){t.call(e,n,r,this)},this)},this)},_o.L=function(){hu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_o.K=function(t){hu(this);var e=[];if("string"==typeof t)fu(this,t)&&(e=Fo(e,this.a.get(gu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Fo(e,t[n])}return e},_o.set=function(t,e){return hu(this),this.c=null,fu(this,t=gu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var mu=function(){return function(t,e){this.b=t,this.a=e}}();function yu(t){this.g=t||vu,t=So.PerformanceNavigationTiming?0<(t=So.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(So.ia&&So.ia.ya&&So.ia.ya()&&So.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var vu=10;function bu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wu(t){return t.b?1:t.a?t.a.size:0}function _u(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ou(t,e){t.a?t.a.add(e):t.b=e}function Cu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Su(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=wo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Uo(t.c)}function Eu(){}function Tu(){this.a=new Eu}function xu(t,e,n){var r=n||"";try{Ha(t,function(t,n){var i=t;xo(t)&&(i=Hs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Tb){throw e.push(r+"type="+encodeURIComponent("_badmap")),Tb}}function Iu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}yu.prototype.cancel=function(){var t,e;if(this.c=Su(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=wo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Eu.prototype.stringify=function(t){return So.JSON.stringify(t,void 0)},Eu.prototype.parse=function(t){return So.JSON.parse(t,void 0)};var Au=So.JSON.parse;function ku(t){Us.call(this),this.headers=new za,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pu,this.D=this.F=!1}Do(ku,Us);var Pu="",Nu=/^https?$/i,Mu=["POST","PUT"];function ju(t){return"content-type"==t.toLowerCase()}function Du(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ru(t),Vu(t)}function Ru(t){t.u||(t.u=!0,Bs(t,"complete"),Bs(t,"error"))}function Lu(t){if(t.b&&void 0!==Co&&(!t.s[1]||4!=Uu(t)||2!=t.W()))if(t.l&&4==Uu(t))na(t.za,0,t);else if(Bs(t,"readystatechange"),4==Uu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match($a)[1]||null;if(!o&&So.self&&So.self.location){var s=So.self.location.protocol;o=s.substr(0,s.length-1)}i=!Nu.test(o?o.toLowerCase():"")}e=i}if(e)Bs(t,"complete"),Bs(t,"success");else{t.h=6;try{var a=2<Uu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ru(t)}}finally{Vu(t)}}}function Vu(t,e){if(t.a){Fu(t);var n=t.a,r=t.s[0]?Eo:null;t.a=null,t.s=null,e||Bs(t,"ready");try{n.onreadystatechange=r}catch(Tb){}}}function Fu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(So.clearTimeout(t.m),t.m=null)}function Uu(t){return t.a?t.a.readyState:0}function Bu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Wo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):tu(t,e,n))}function qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hu(t){this.pa=0,this.g=[],this.c=new ca,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=qu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=qu("baseRetryDelayMs",5e3,t),this.Ra=qu("retryDelaySeedMs",1e4,t),this.Ma=qu("forwardChannelMaxRetries",2,t),this.ma=qu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yu(t&&t.concurrentRequestLimit),this.ka=new Tu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function zu(t){if(Ku(t),3==t.v){var e=t.R++,n=Qa(t.B);tu(n,"SID",t.J),tu(n,"RID",e),tu(n,"TYPE","terminate"),Yu(t,n),(e=new Aa(t,t.c,e,void 0)).H=2,e.i=eu(Qa(n)),n=!1,So.navigator&&So.navigator.sendBeacon&&(n=So.navigator.sendBeacon(e.i.toString(),"")),!n&&So.Image&&((new Image).src=e.i,n=!0),n||(e.a=uc(e.g,null),e.a.ba(e.i)),e.u=jo(),La(e)}sc(t)}function Gu(t){t.a&&(tc(t),t.a.cancel(),t.a=null)}function Ku(t){Gu(t),t.j&&(So.clearTimeout(t.j),t.j=null),nc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&So.clearTimeout(t.h),t.h=null)}function $u(t,e){t.g.push(new mu(t.Oa++,e)),3==t.v&&Wu(t)}function Wu(t){bu(t.b)||t.h||(t.h=!0,Ys(t.Ba,t),t.u=0)}function Qu(t,e){var n;n=e?e.f:t.R++;var r=Qa(t.B);tu(r,"SID",t.J),tu(r,"RID",n),tu(r,"AID",t.P),Yu(t,r),t.i&&t.l&&Bu(r,t.i,t.l),n=new Aa(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Zu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ou(t.b,n),Ma(n,r,e)}function Yu(t,e){t.f&&Ha({},function(t,n){tu(e,n,t)})}function Zu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?No(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{xu(l,s,"req"+c+"_")}catch(Uc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Xu(t){t.a||t.j||(t.T=1,Ys(t.Aa,t),t.o=0)}function Ju(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ba(No(t.Aa,t),ic(t,t.o)),t.o++,0))}function tc(t){null!=t.s&&(So.clearTimeout(t.s),t.s=null)}function ec(t){t.a=new Aa(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qa(t.la);tu(e,"RID","rpc"),tu(e,"SID",t.J),tu(e,"CI",t.H?"0":"1"),tu(e,"AID",t.P),Yu(t,e),tu(e,"TYPE","xmlhttp"),t.i&&t.l&&Bu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=eu(Qa(e)),n.j=null,n.I=!0,ja(n,t)}function nc(t){null!=t.m&&(So.clearTimeout(t.m),t.m=null)}function rc(t,e){var n=null;if(t.a==e){nc(t),tc(t),t.a=null;var r=2}else{if(!_u(t.b,e))return;n=e.s,Cu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=jo()-e.u;var i=t.u;Bs(r=fa(),new va(r,n,e,i)),Wu(t)}else Xu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ba(No(t.Ba,t,e),ic(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ju(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:oc(t,5);break;case 4:oc(t,10);break;case 3:oc(t,6);break;default:oc(t,2)}}function ic(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function oc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=No(t.Ya,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),So.location&&"http"==So.location.protocol||Ya(n,"https"),eu(n)),function(t,e){var n=new ca;if(So.Image){var r=new Image;r.onload=Mo(Iu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mo(Iu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mo(Iu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mo(Iu,n,r,"TestLoadImage: timeout",!1,e),So.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ya(2);t.v=0,t.f&&t.f.ra(e),sc(t),Ku(t)}function sc(t){t.v=0,t.I=-1,t.f&&(0==Su(t.b).length&&0==t.g.length||(t.b.c.length=0,Uo(t.g),t.g.length=0),t.f.qa())}function ac(t,e,n){var r=function(t){return t instanceof Wa?Qa(t):new Wa(t,void 0)}(n);if(""!=r.c)e&&Za(r,e+"."+r.c),Xa(r,r.h);else{var i=So.location;r=function(t,e,n,r){var i=new Wa(null,void 0);return t&&Ya(i,t),e&&Za(i,e),n&&Xa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Wo(t.V,function(t,e){tu(r,e,t)}),n=t.na,(e=t.A)&&n&&tu(r,e,n),tu(r,"VER",t.ha),Yu(t,r),r}function uc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ku(t.Na)).F=t.C,e}function cc(){}function lc(){if(ns&&!(10<=Number(fs)))throw Error("Environmental error: no available transport.")}function hc(t,e){Us.call(this),this.a=new Hu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pc(this)}function dc(t){Ta.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function fc(){xa.call(this),this.status=1}function pc(t){this.a=t}(_o=ku.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Sa),this.a.onreadystatechange=No(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Du(this,o)}t=n||"";var i=new za(this.headers);r&&Ha(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ju,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=So.FormData&&t instanceof So.FormData,!(0<=Lo(Mu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fu(this),0<this.o&&((this.D=function(t){return ns&&ds(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=No(this.xa,this)):this.m=na(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Du(this,o)}},_o.xa=function(){void 0!==Co&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Bs(this,"timeout"),this.abort(8))},_o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Bs(this,"complete"),Bs(this,"abort"),Vu(this))},_o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Vu(this,!0)),ku.X.G.call(this)},_o.za=function(){this.j||(this.A||this.l||this.g?Lu(this):this.Ua())},_o.Ua=function(){Lu(this)},_o.W=function(){try{return 2<Uu(this)?this.a.status:-1}catch(ts){return-1}},_o.$=function(){try{return this.a?this.a.responseText:""}catch(ts){return""}},_o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Au(e)}},_o.ua=function(){return this.h},_o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_o=Hu.prototype).ha=8,_o.v=1,_o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Aa(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Zo(r=Qo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Zu(this,n,e),tu(i=Qa(this.B),"RID",t),tu(i,"CVER",22),this.A&&tu(i,"X-HTTP-Session-Id",this.A),Yu(this,i),this.i&&r&&Bu(i,this.i,r),Ou(this.b,n),this.Ia&&tu(i,"TYPE","init"),this.da?(tu(i,"$req",e),tu(i,"SID","null"),n.U=!0,Ma(n,i,null)):Ma(n,i,e),this.v=2}}else 3==this.v&&(t?Qu(this,t):0==this.g.length||bu(this.b)||Qu(this))},_o.Aa=function(){if(this.j=null,ec(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ba(No(this.Ta,this),t)}},_o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ya(10),Gu(this),ec(this))},_o.Sa=function(){null!=this.m&&(this.m=null,Gu(this),Ju(this),ya(19))},_o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ya(2)):(this.c.info("Failed to ping google.com"),ya(1))},(_o=cc.prototype).ta=function(){},_o.sa=function(){},_o.ra=function(){},_o.qa=function(){},_o.Ja=function(){},lc.prototype.a=function(t,e){return new hc(t,e)},Do(hc,Us),hc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ya(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ac(t,null,t.fa),Wu(t)},hc.prototype.close=function(){zu(this.a)},hc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$u(this.a,e)}else this.l?((e={}).__data__=Hs(t),$u(this.a,e)):$u(this.a,t)},hc.prototype.G=function(){this.a.f=null,delete this.f,zu(this.a),delete this.a,hc.X.G.call(this)},Do(dc,Ta),Do(fc,xa),Do(pc,cc),pc.prototype.ta=function(){Bs(this.a,"a")},pc.prototype.sa=function(t){Bs(this.a,new dc(t))},pc.prototype.ra=function(t){Bs(this.a,new fc(t))},pc.prototype.qa=function(){Bs(this.a,"b")},lc.prototype.createWebChannel=lc.prototype.a,hc.prototype.send=hc.prototype.h,hc.prototype.open=hc.prototype.g,hc.prototype.close=hc.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,_a.COMPLETE="complete",Ca.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",Us.prototype.listen=Us.prototype.va,ku.prototype.listenOnce=ku.prototype.wa,ku.prototype.getLastError=ku.prototype.Qa,ku.prototype.getLastErrorCode=ku.prototype.ua,ku.prototype.getStatus=ku.prototype.W,ku.prototype.getResponseJson=ku.prototype.Pa,ku.prototype.getResponseText=ku.prototype.$,ku.prototype.send=ku.prototype.ba;var gc=wa,mc=_a,yc=ha,vc=Ca,bc=ku,wc=n("mrSG"),_c=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();_c.o=-1;var Oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(wc.c)(e,t),e}(Error),Sc=new vo.b("@firebase/firestore");function Ec(){return Sc.logLevel}function Tc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sc.logLevel<=vo.a.DEBUG){var r=e.map(Ac);Sc.debug.apply(Sc,Object(wc.f)(["Firestore (8.3.3): "+t],r))}}function xc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sc.logLevel<=vo.a.ERROR){var r=e.map(Ac);Sc.error.apply(Sc,Object(wc.f)(["Firestore (8.3.3): "+t],r))}}function Ic(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sc.logLevel<=vo.a.WARN){var r=e.map(Ac);Sc.warn.apply(Sc,Object(wc.f)(["Firestore (8.3.3): "+t],r))}}function Ac(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Tb){return t}}function kc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.3) INTERNAL ASSERTION FAILED: "+t;throw xc(e),new Error(e)}function Pc(t,e){t||kc()}function Nc(t,e){return t}function Mc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Mc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Dc(t,e){return t<e?-1:t>e?1:0}function Rc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Lc(t){return t+"\0"}var Vc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Dc(this.nanoseconds,t.nanoseconds):Dc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Uc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Hc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&kc(),void 0===n?n=t.length-e:n>t.length-e&&kc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Hc),Gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Cc(Oc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cc(Oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Cc(Oc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Hc),$c=function(){function t(t){this.fields=t,t.sort(Kc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Rc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Wc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Dc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Wc.EMPTY_BYTE_STRING=new Wc("");var Qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(t){if(Pc(!!t),"string"==typeof t){var e=0,n=Qc.exec(t);if(Pc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zc(t.seconds),nanos:Zc(t.nanos)}}function Zc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xc(t){return"string"==typeof t?Wc.fromBase64String(t):Wc.fromUint8Array(t)}function Jc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tl(t){var e=t.mapValue.fields.__previous_value__;return Jc(e)?tl(e):e}function el(t){var e=Yc(t.mapValue.fields.__local_write_time__.timestampValue);return new Vc(e.seconds,e.nanos)}function nl(t){return null==t}function rl(t){return 0===t&&1/t==-1/0}function il(t){return"number"==typeof t&&Number.isInteger(t)&&!rl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ol=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(zc.fromString(e))},t.fromName=function(e){return new t(zc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return zc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new zc(e.slice()))},t}();function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jc(t)?4:10:kc()}function al(t,e){var n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return el(t).isEqual(el(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yc(t.timestampValue),r=Yc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xc(t.bytesValue).isEqual(Xc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zc(t.geoPointValue.latitude)===Zc(e.geoPointValue.latitude)&&Zc(t.geoPointValue.longitude)===Zc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zc(t.integerValue)===Zc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zc(t.doubleValue),r=Zc(e.doubleValue);return n===r?rl(n)===rl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rc(t.arrayValue.values||[],e.arrayValue.values||[],al);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Uc(n)!==Uc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!al(n[i],r[i])))return!1;return!0}(t,e);default:return kc()}}function ul(t,e){return void 0!==(t.values||[]).find(function(t){return al(t,e)})}function cl(t,e){var n=sl(t),r=sl(e);if(n!==r)return Dc(n,r);switch(n){case 0:return 0;case 1:return Dc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zc(t.integerValue||t.doubleValue),r=Zc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ll(t.timestampValue,e.timestampValue);case 4:return ll(el(t),el(e));case 5:return Dc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xc(t),r=Xc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Dc(n[i],r[i]);if(0!==o)return o}return Dc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Dc(Zc(t.latitude),Zc(e.latitude));return 0!==n?n:Dc(Zc(t.longitude),Zc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=cl(n[i],r[i]);if(o)return o}return Dc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Dc(r[s],o[s]);if(0!==a)return a;var u=cl(n[r[s]],i[o[s]]);if(0!==u)return u}return Dc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw kc()}}function ll(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Dc(t,e);var n=Yc(t),r=Yc(e),i=Dc(n.seconds,r.seconds);return 0!==i?i:Dc(n.nanos,r.nanos)}function hl(t){return dl(t)}function dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Yc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xc(t.bytesValue).toBase64():"referenceValue"in t?ol.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=dl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+dl(t.fields[o])}return e+"}"}(t.mapValue):kc();var e}function fl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function pl(t){return!!t&&"integerValue"in t}function gl(t){return!!t&&"arrayValue"in t}function ml(t){return!!t&&"nullValue"in t}function yl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vl(t){return!!t&&"mapValue"in t}var bl=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Kc.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return al(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===sl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=vl(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Kc.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!vl(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function wl(t){var e=[];return Bc(t.fields||{},function(t,n){var r=new Kc([t]);if(vl(n)){var i=wl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new $c(e)}var _l=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Fc.min(),bl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,bl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,bl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=bl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=bl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ol=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Cl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ol(t,e,n,r,i,o,s)}function Sl(t){var e=Nc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+hl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ll(e.startAt)),e.endAt&&(n+="|ub:",n+=Ll(e.endAt)),e.h=n}return e.h}function El(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Fl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!al(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bl(t.startAt,e.startAt)&&Bl(t.endAt,e.endAt)}function Tl(t){return ol.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var xl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(wc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Il(t,n,r):"array-contains"===n?new Nl(t,r):"in"===n?new Ml(t,r):"not-in"===n?new jl(t,r):"array-contains-any"===n?new Dl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Al(t,n):new kl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(cl(e,this.value)):null!==e&&sl(this.value)===sl(e)&&this.m(cl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return kc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Il=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ol.fromName(r.referenceValue),i}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=ol.comparator(t.key,this.key);return this.m(e)},e}(xl),Al=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Pl(0,n),r}return Object(wc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(xl),kl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Pl(0,n),r}return Object(wc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(xl);function Pl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ol.fromName(t.referenceValue)})}var Nl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return gl(e)&&ul(e.arrayValue,this.value)},e}(xl),Ml=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ul(this.value.arrayValue,e)},e}(xl),jl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ul(this.value.arrayValue,e)},e}(xl),Dl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(wc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!gl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ul(e.value.arrayValue,t)})},e}(xl),Rl=function(t,e){this.position=t,this.before=e};function Ll(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return hl(t)}).join(",")}var Vl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Fl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ul(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ol.comparator(ol.fromName(s.referenceValue),n.key):cl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!al(t.position[n],e.position[n]))return!1;return!0}var ql=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Hl(t,e,n,r,i,o,s,a){return new ql(t,e,n,r,i,o,s,a)}function zl(t){return new ql(t)}function Gl(t){return!nl(t.limit)&&"F"===t.limitType}function Kl(t){return!nl(t.limit)&&"L"===t.limitType}function $l(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ql(t){return null!==t.collectionGroup}function Yl(t){var e=Nc(t);if(null===e.p){e.p=[];var n=Wl(e),r=$l(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Vl(n)),e.p.push(new Vl(Kc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Vl(Kc.keyField(),u))}}}return e.p}function Zl(t){var e=Nc(t);if(!e.T)if("F"===e.limitType)e.T=Cl(e.path,e.collectionGroup,Yl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yl(e);r<i.length;r++){var o=i[r];n.push(new Vl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Rl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Rl(e.startAt.position,!e.startAt.before):null;e.T=Cl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Xl(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return El(Zl(t),Zl(e))&&t.limitType===e.limitType}function th(t){return Sl(Zl(t))+"|lt:"+t.limitType}function eh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+hl(e.value);var e}).join(", ")+"]"),nl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ll(t.startAt)),t.endAt&&(e+=", endAt: "+Ll(t.endAt)),"Target("+e+")"}(Zl(t))+"; limitType="+t.limitType+")"}function nh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ol.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ul(t.startAt,Yl(t),e)||t.endAt&&Ul(t.endAt,Yl(t),e))}(t,e)}function rh(t){return function(e,n){for(var r=!1,i=0,o=Yl(t);i<o.length;i++){var s=o[i],a=ih(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ih(t,e,n){var r=t.field.isKeyField()?ol.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?cl(r,i):kc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kc()}}function oh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function sh(t){return{integerValue:""+t}}function ah(t,e){return il(e)?sh(e):oh(t,e)}var uh=function(){this._=void 0};function ch(t,e,n){return t instanceof dh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof fh?ph(t,e):t instanceof gh?mh(t,e):function(t,e){var n=hh(t,e),r=vh(n)+vh(t.A);return pl(n)&&pl(t.A)?sh(r):oh(t.R,r)}(t,e)}function lh(t,e,n){return t instanceof fh?ph(t,e):t instanceof gh?mh(t,e):n}function hh(t,e){return t instanceof yh?pl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e}(uh),fh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wc.c)(e,t),e}(uh);function ph(t,e){for(var n=bh(e),r=function(t){n.some(function(e){return al(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wc.c)(e,t),e}(uh);function mh(t,e){for(var n=bh(e),r=function(t){n=n.filter(function(e){return!al(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(wc.c)(e,t),e}(uh);function vh(t){return Zc(t.integerValue||t.doubleValue)}function bh(t){return gl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var wh=function(t,e){this.field=t,this.transform=e},_h=function(t,e){this.version=t,this.transformResults=e},Oh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ch(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Sh=function(){};function Eh(t,e,n){t instanceof kh?function(t,e,n){var r=t.value.clone(),i=Mh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ph?function(t,e,n){if(Ch(t.precondition,e)){var r=Mh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Nh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Th(t,e,n){t instanceof kh?function(t,e,n){if(Ch(t.precondition,e)){var r=t.value.clone(),i=jh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ah(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Ph?function(t,e,n){if(Ch(t.precondition,e)){var r=jh(t.fieldTransforms,n,e),i=e.data;i.setAll(Nh(t)),i.setAll(r),e.convertToFoundDocument(Ah(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Ch(t.precondition,e)&&e.convertToNoDocument(Fc.min())}(t,e)}function xh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=hh(o.transform,s||null);null!=a&&(null==n&&(n=bl.empty()),n.set(o.field,a))}return n||null}function Ih(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof fh&&e instanceof fh||t instanceof gh&&e instanceof gh?Rc(t.elements,e.elements,al):t instanceof yh&&e instanceof yh?al(t.A,e.A):t instanceof dh&&e instanceof dh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ah(t){return t.isFoundDocument()?t.version:Fc.min()}var kh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(wc.c)(e,t),e}(Sh),Ph=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(wc.c)(e,t),e}(Sh);function Nh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Mh(t,e,n){var r=new Map;Pc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,lh(s,a,n[i]))}return r}function jh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ch(a,u,e))}return r}var Dh,Rh,Lh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(wc.c)(e,t),e}(Sh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(wc.c)(e,t),e}(Sh),Fh=function(t){this.count=t};function Uh(t){switch(t){case Oc.OK:return kc();case Oc.CANCELLED:case Oc.UNKNOWN:case Oc.DEADLINE_EXCEEDED:case Oc.RESOURCE_EXHAUSTED:case Oc.INTERNAL:case Oc.UNAVAILABLE:case Oc.UNAUTHENTICATED:return!1;case Oc.INVALID_ARGUMENT:case Oc.NOT_FOUND:case Oc.ALREADY_EXISTS:case Oc.PERMISSION_DENIED:case Oc.FAILED_PRECONDITION:case Oc.ABORTED:case Oc.OUT_OF_RANGE:case Oc.UNIMPLEMENTED:case Oc.DATA_LOSS:return!0;default:return kc()}}function Bh(t){if(void 0===t)return xc("GRPC error has no .code"),Oc.UNKNOWN;switch(t){case Dh.OK:return Oc.OK;case Dh.CANCELLED:return Oc.CANCELLED;case Dh.UNKNOWN:return Oc.UNKNOWN;case Dh.DEADLINE_EXCEEDED:return Oc.DEADLINE_EXCEEDED;case Dh.RESOURCE_EXHAUSTED:return Oc.RESOURCE_EXHAUSTED;case Dh.INTERNAL:return Oc.INTERNAL;case Dh.UNAVAILABLE:return Oc.UNAVAILABLE;case Dh.UNAUTHENTICATED:return Oc.UNAUTHENTICATED;case Dh.INVALID_ARGUMENT:return Oc.INVALID_ARGUMENT;case Dh.NOT_FOUND:return Oc.NOT_FOUND;case Dh.ALREADY_EXISTS:return Oc.ALREADY_EXISTS;case Dh.PERMISSION_DENIED:return Oc.PERMISSION_DENIED;case Dh.FAILED_PRECONDITION:return Oc.FAILED_PRECONDITION;case Dh.ABORTED:return Oc.ABORTED;case Dh.OUT_OF_RANGE:return Oc.OUT_OF_RANGE;case Dh.UNIMPLEMENTED:return Oc.UNIMPLEMENTED;case Dh.DATA_LOSS:return Oc.DATA_LOSS;default:return kc()}}(Rh=Dh||(Dh={}))[Rh.OK=0]="OK",Rh[Rh.CANCELLED=1]="CANCELLED",Rh[Rh.UNKNOWN=2]="UNKNOWN",Rh[Rh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rh[Rh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rh[Rh.NOT_FOUND=5]="NOT_FOUND",Rh[Rh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rh[Rh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rh[Rh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rh[Rh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rh[Rh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rh[Rh.ABORTED=10]="ABORTED",Rh[Rh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rh[Rh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rh[Rh.INTERNAL=13]="INTERNAL",Rh[Rh.UNAVAILABLE=14]="UNAVAILABLE",Rh[Rh.DATA_LOSS=15]="DATA_LOSS";var qh=function(){function t(t,e){this.comparator=t,this.root=e||zh.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zh.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Hh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Hh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!0)},t}(),Hh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),zh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw kc();if(this.right.isRed())throw kc();var t=this.left.check();if(t!==this.right.check())throw kc();return t+(this.isRed()?0:1)},t}();zh.EMPTY=null,zh.RED=!0,zh.BLACK=!1,zh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw kc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw kc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw kc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw kc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw kc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new zh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Gh=function(){function t(t){this.comparator=t,this.data=new qh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Kh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Kh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Kh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),$h=new qh(ol.comparator);function Wh(){return $h}var Qh=new qh(ol.comparator);function Yh(){return Qh}var Zh=new qh(ol.comparator);function Xh(){return Zh}var Jh=new Gh(ol.comparator);function td(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Jh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ed=new Gh(Dc);function nd(){return ed}var rd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,id.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Fc.min(),r,nd(),Wh(),td())},t}(),id=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Wc.EMPTY_BYTE_STRING,n,td(),td(),td())},t}(),od=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},sd=function(t,e){this.targetId=t,this.V=e},ad=function(t,e,n,r){void 0===n&&(n=Wc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ud=function(){function t(){this.S=0,this.D=hd(),this.C=Wc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=td(),e=td(),n=td();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:kc()}}),new id(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=hd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),cd=function(){function t(t){this.W=t,this.G=new Map,this.H=Wh(),this.J=ld(),this.Y=new Gh(Dc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:kc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Tl(i))if(0===n){var o=new ol(i.path);this.tt(e,o,_l.newNoDocument(o,Fc.min()))}else Pc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Tl(o.target)){var s=new ol(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,_l.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=td();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new rd(t,n,this.Y,this.H,r);return this.H=Wh(),this.J=ld(),this.Y=new Gh(Dc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ud,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Gh(Dc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Tc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ud),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ld(){return new qh(ol.comparator)}function hd(){return new qh(ol.comparator)}var dd={asc:"ASCENDING",desc:"DESCENDING"},fd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pd=function(t,e){this.databaseId=t,this.I=e};function gd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function md(t,e){return t.I?e.toBase64():e.toUint8Array()}function yd(t,e){return gd(t,e.toTimestamp())}function vd(t){return Pc(!!t),Fc.fromTimestamp(function(t){var e=Yc(t);return new Vc(e.seconds,e.nanos)}(t))}function bd(t,e){return function(t){return new zc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function wd(t){var e=zc.fromString(t);return Pc(zd(e)),e}function _d(t,e){return bd(t.databaseId,e.path)}function Od(t,e){var n=wd(e);if(n.get(1)!==t.databaseId.projectId)throw new Cc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ol(Td(n))}function Cd(t,e){return bd(t.databaseId,e)}function Sd(t){var e=wd(t);return 4===e.length?zc.emptyPath():Td(e)}function Ed(t){return new zc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Td(t){return Pc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xd(t,e,n){return{name:_d(t,e),fields:n.toProto().mapValue.fields}}function Id(t,e,n){var r=Od(t,e.name),i=vd(e.updateTime),o=new bl({mapValue:{fields:e.fields}}),s=_l.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ad(t,e){var n;if(e instanceof kh)n={update:xd(t,e.key,e.value)};else if(e instanceof Lh)n={delete:_d(t,e.key)};else if(e instanceof Ph)n={update:xd(t,e.key,e.data),updateMask:Hd(e.fieldMask)};else{if(!(e instanceof Vh))return kc();n={verify:_d(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof dh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw kc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:yd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:kc()}(t,e.precondition)),n}function kd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Oh.updateTime(vd(t.updateTime)):void 0!==t.exists?Oh.exists(t.exists):Oh.none()}(e.currentDocument):Oh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Pc("REQUEST_TIME"===e.setToServerValue),n=new dh):"appendMissingElements"in e?n=new fh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new gh(e.removeAllFromArray.values||[]):"increment"in e?n=new yh(t,e.increment):kc();var r=Kc.fromServerFormat(e.fieldPath);return new wh(r,n)}(t,e)}):[];if(e.update){var i=Od(t,e.update.name),o=new bl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new $c((t.fieldPaths||[]).map(function(t){return Kc.fromServerFormat(t)}))}(e.updateMask);return new Ph(i,o,s,n,r)}return new kh(i,o,n,r)}if(e.delete){var a=Od(t,e.delete);return new Lh(a,n)}if(e.verify){var u=Od(t,e.verify);return new Vh(u,n)}return kc()}function Pd(t,e){return{documents:[Cd(t,e.path)]}}function Nd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Cd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Cd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(yl(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NAN"}};if(ml(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yl(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NAN"}};if(ml(t.value))return{unaryFilter:{field:Fd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fd(t.field),op:Vd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Fd(t.field),direction:Ld(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||nl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Dd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Dd(e.endAt)),n}function Md(t){var e=Sd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=jd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Vl(Ud(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return nl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rd(n.startAt));var l=null;return n.endAt&&(l=Rd(n.endAt)),Hl(e,i,a,s,u,"F",c,l)}function jd(t){return t?void 0!==t.unaryFilter?[qd(t)]:void 0!==t.fieldFilter?[Bd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return jd(t)}).reduce(function(t,e){return t.concat(e)}):kc():[]}function Dd(t){return{before:t.before,values:t.position}}function Rd(t){return new Rl(t.values||[],!!t.before)}function Ld(t){return dd[t]}function Vd(t){return fd[t]}function Fd(t){return{fieldPath:t.canonicalString()}}function Ud(t){return Kc.fromServerFormat(t.fieldPath)}function Bd(t){return xl.create(Ud(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return kc()}}(t.fieldFilter.op),t.fieldFilter.value)}function qd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ud(t.unaryFilter.field);return xl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ud(t.unaryFilter.field);return xl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ud(t.unaryFilter.field);return xl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ud(t.unaryFilter.field);return xl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return kc()}}function Hd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function zd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Gd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=$d(e)),e=Kd(t.get(n),e);return $d(e)}function Kd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $d(t){return t+"\x01\x01"}function Wd(t){var e=t.length;if(Pc(e>=2),2===e)return Pc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),zc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&kc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:kc()}o=s+2}return new zc(r)}var Qd=function(t,e){this.seconds=t,this.nanoseconds=e},Yd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Yd.store="owner",Yd.key="owner";var Zd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zd.store="mutationQueues",Zd.keyPath="userId";var Xd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xd.store="mutations",Xd.keyPath="batchId",Xd.userMutationsIndex="userMutationsIndex",Xd.userMutationsKeyPath=["userId","batchId"];var Jd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gd(e)]},t.key=function(t,e,n){return[t,Gd(e),n]},t}();Jd.store="documentMutations",Jd.PLACEHOLDER=new Jd;var tf=function(t,e){this.path=t,this.readTime=e},ef=function(t,e){this.path=t,this.version=e},nf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};nf.store="remoteDocuments",nf.readTimeIndex="readTimeIndex",nf.readTimeIndexPath="readTime",nf.collectionReadTimeIndex="collectionReadTimeIndex",nf.collectionReadTimeIndexPath=["parentPath","readTime"];var rf=function(t){this.byteSize=t};rf.store="remoteDocumentGlobal",rf.key="remoteDocumentGlobalKey";var of=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};of.store="targets",of.keyPath="targetId",of.queryTargetsIndexName="queryTargetsIndex",of.queryTargetsKeyPath=["canonicalId","targetId"];var sf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sf.store="targetDocuments",sf.keyPath=["targetId","path"],sf.documentTargetsIndex="documentTargetsIndex",sf.documentTargetsKeyPath=["path","targetId"];var af=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};af.key="targetGlobalKey",af.store="targetGlobal";var uf=function(t,e){this.collectionId=t,this.parent=e};uf.store="collectionParents",uf.keyPath=["collectionId","parent"];var cf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};cf.store="clientMetadata",cf.keyPath="clientId";var lf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};lf.store="bundles",lf.keyPath="bundleId";var hf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hf.store="namedQueries",hf.keyPath="name";var df=Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],Object(wc.f)(Object(wc.f)([],[Zd.store,Xd.store,Jd.store,nf.store,of.store,Yd.store,af.store,sf.store]),[cf.store])),[rf.store])),[uf.store])),[lf.store,hf.store]),ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),gf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},mf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&kc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),yf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new gf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new wf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ef(e.target.error);n.ft.reject(new wf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new wf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Tc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Of(e)},t}(),vf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(yo.h)())&&xc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tc("SimpleDb","Removing database:",t),Cf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(yo.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n=this;return Object(wc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Tc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new wf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cc(Oc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wf(t,n))},i.onupgradeneeded=function(t){Tc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Tc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(wc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(wc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=yf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),mf.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Tc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Cf(this.Pt.delete())},t}(),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,Oc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(wc.c)(e,t),e}(Cc);function _f(t){return"IndexedDbTransactionError"===t.name}var Of=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Cf(n)},t.prototype.add=function(t){return Tc("SimpleDb","ADD",this.store.name,t,t),Cf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Cf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Tc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Tc("SimpleDb","DELETE",this.store.name,t),Cf(this.store.delete(t))},t.prototype.count=function(){return Tc("SimpleDb","COUNT",this.store.name),Cf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Tc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new mf(function(n,r){e.onerror=function(t){var e=Ef(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new mf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new bf(i),s=e(i.primaryKey,i.value,o);if(s instanceof mf){var a=s.catch(function(t){return o.done(),mf.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return mf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Cf(t){return new mf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ef(t.target.error);n(e)}})}var Sf=!1;function Ef(t){var e=vf._t(Object(yo.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sf||(Sf=!0,setTimeout(function(){throw r},0)),r}}return t}var Tf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(wc.c)(e,t),e}(pf);function xf(t,e){var n=Nc(t);return vf.It(n.Mt,e)}var If=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Eh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Th(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Th(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},td())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rc(this.mutations,t.mutations,function(t,e){return Ih(t,e)})&&Rc(this.baseMutations,t.baseMutations,function(t,e){return Ih(t,e)})},t}(),Af=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Pc(e.mutations.length===r.length);for(var i=Xh(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),kf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Fc.min()),void 0===o&&(o=Fc.min()),void 0===s&&(s=Wc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Pf=function(t){this.Lt=t};function Nf(t,e){if(e.document)return Id(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ol.fromSegments(e.noDocument.path),r=Lf(e.noDocument.readTime),i=_l.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ol.fromSegments(e.unknownDocument.path);return r=Lf(e.unknownDocument.version),_l.newUnknownDocument(o,r)}return kc()}function Mf(t,e,n){var r=jf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:_d(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:gd(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new nf(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Rf(e.version);return s=e.hasCommittedMutations,new nf(null,new tf(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Rf(e.version);return new nf(new ef(c,l),null,null,!0,r,i)}return kc()}function jf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Df(t){var e=new Vc(t[0],t[1]);return Fc.fromTimestamp(e)}function Rf(t){var e=t.toTimestamp();return new Qd(e.seconds,e.nanoseconds)}function Lf(t){var e=new Vc(t.seconds,t.nanoseconds);return Fc.fromTimestamp(e)}function Vf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return kd(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return kd(t.Lt,e)}),o=Vc.fromMillis(e.localWriteTimeMs);return new If(e.batchId,o,n,i)}function Ff(t){var e,n,r=Lf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Lf(t.lastLimboFreeSnapshotVersion):Fc.min();return void 0!==t.query.documents?(Pc(1===(n=t.query).documents.length),e=Zl(zl(Sd(n.documents[0])))):e=function(t){return Zl(Md(t))}(t.query),new kf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Wc.fromBase64String(t.resumeToken))}function Uf(t,e){var n,r=Rf(e.snapshotVersion),i=Rf(e.lastLimboFreeSnapshotVersion);n=Tl(e.target)?Pd(t.Lt,e.target):Nd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new of(e.targetId,Sl(e.target),r,o,e.sequenceNumber,i,n)}function Bf(t){var e=Md({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xl(e,e.limit,"L"):e}var qf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Hf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Lf(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Hf(t).put({bundleId:(n=e).id,createTime:Rf(vd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return zf(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Bf(e.bundledQuery),readTime:Lf(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return zf(t).put(function(t){return{name:t.name,readTime:Rf(vd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Hf(t){return xf(t,lf.store)}function zf(t){return xf(t,hf.store)}var Gf=function(){function t(){this.Bt=new Kf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),mf.resolve()},t.prototype.getCollectionParents=function(t,e){return mf.resolve(this.Bt.getEntries(e))},t}(),Kf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Gh(zc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Gh(zc.comparator)).toArray()},t}(),$f=function(){function t(){this.qt=new Kf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Gd(i)};return Wf(t).put(o)}return mf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Lc(e),""],!1,!0);return Wf(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wd(o.parent))}return n})},t}();function Wf(t){return xf(t,uf.store)}var Qf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Zf(t,e,n){var r=t.store(Xd.store),i=t.store(Jd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Pc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Jd.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return mf.waitFor(o).next(function(){return c})}function Xf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw kc();e=t.noDocument}return JSON.stringify(e).length}Yf.DEFAULT_COLLECTION_PERCENTILE=10,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yf.DEFAULT=new Yf(41943040,Yf.DEFAULT_COLLECTION_PERCENTILE,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yf.DISABLED=new Yf(-1,0,0);var Jf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Pc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ep(t).Ot({index:Xd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=np(t),s=ep(t);return s.add({}).next(function(a){Pc("number"==typeof a);for(var u=new If(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ad(t.Lt,e)}),i=n.mutations.map(function(e){return Ad(t.Lt,e)});return new Xd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Gh(function(t,e){return Dc(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Jd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Jd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),mf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ep(t).get(e).next(function(t){return t?(Pc(t.userId===n.userId),Vf(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?mf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ep(t).Ot({index:Xd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Pc(e.batchId>=r),o=Vf(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ep(t).Ot({index:Xd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ep(t).Nt(Xd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Vf(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Jd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return np(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=Wd(r[1]);if(a===n.userId&&e.path.isEqual(c))return ep(t).get(u).next(function(t){if(!t)throw kc();Pc(t.userId===n.userId),o.push(Vf(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(Dc),i=[];return e.forEach(function(e){var o=Jd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=np(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=Wd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),mf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Gh(Dc);return np(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=Wd(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ep(t).get(e).next(function(t){if(null===t)throw kc();Pc(t.userId===n.userId),r.push(Vf(n.R,t))}))}),mf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Zf(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),mf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return mf.resolve();var r=IDBKeyRange.lowerBound(Jd.prefixForUser(e.userId)),i=[];return np(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Wd(t[1]);i.push(o)}else r.done()}).next(function(){Pc(0===i.length)})})},t.prototype.containsKey=function(t,e){return tp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return rp(t).get(this.userId).next(function(t){return t||new Zd(e.userId,-1,"")})},t}();function tp(t,e,n){var r=Jd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return np(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ep(t){return xf(t,Xd.store)}function np(t){return xf(t,Jd.store)}function rp(t){return xf(t,Zd.store)}var ip=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),op=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new ip(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Fc.fromTimestamp(new Vc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return sp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Pc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return sp(t).Ot(function(s,a){var u=Ff(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return mf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return sp(t).Ot(function(t,n){var r=Ff(n);e(r)})},t.prototype.Xt=function(t){return ap(t).get(af.key).next(function(t){return Pc(null!==t),t})},t.prototype.Zt=function(t,e){return ap(t).put(af.key,e)},t.prototype.te=function(t,e){return sp(t).put(Uf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Sl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sp(t).Ot({range:r,index:of.queryTargetsIndexName},function(t,n,r){var o=Ff(n);El(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=up(t);return e.forEach(function(e){var s=Gd(e.path);i.push(o.put(new sf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),mf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=up(t);return mf.forEach(e,function(e){var o=Gd(e.path);return mf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=up(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=up(t),i=td();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Wd(t[1]),o=new ol(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Gd(e.path),r=IDBKeyRange.bound([n],[Lc(n)],!1,!0),i=0;return up(t).Ot({index:sf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return sp(t).get(e).next(function(t){return t?Ff(t):null})},t}();function sp(t){return xf(t,of.store)}function ap(t){return xf(t,af.store)}function up(t){return xf(t,sf.store)}function cp(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){if(t.code!==Oc.FAILED_PRECONDITION||t.message!==ff)throw t;return Tc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function lp(t,e){var n=t[1],r=e[1],i=Dc(t[0],e[0]);return 0===i?Dc(n,r):i}var hp=function(){function t(t){this.ne=t,this.buffer=new Gh(lp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();lp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),dp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Tc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(wc.b)(e,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return _f(e=n.sent())?(Tc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),fp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return mf.resolve(_c.o);var r=new hp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tc("LruGarbageCollector","Garbage collection skipped; disabled"),mf.resolve(Qf)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Tc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qf):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Tc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Ec()<=vo.a.DEBUG&&Tc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),mf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),pp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new fp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return gp(t,n)},t.prototype.removeReference=function(t,e,n){return gp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return gp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return rp(t).$t(function(r){return tp(t,r,e).next(function(t){return t&&(n=!0),mf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),up(t).delete([0,Gd(s.path)])})});i.push(u)}}).next(function(){return mf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return gp(t,e)},t.prototype.we=function(t,e){var n,r=up(t),i=_c.o;return r.Ot({index:sf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==_c.o&&e(new ol(Wd(n)),i),i=s,n=o):i=_c.o}).next(function(){i!==_c.o&&e(new ol(Wd(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function gp(t,e){return up(t).put(function(t,e){return new sf(0,Gd(t.path),e)}(e,t.currentSequenceNumber))}var mp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Bc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return qc(this.inner)},t}(),yp=function(){function t(){this.changes=new mp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Fc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:_l.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?mf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),vp=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return _p(t).put(Op(e),n)},t.prototype.removeEntry=function(t,e){var n=_p(t),r=Op(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return _p(t).get(Op(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return _p(t).get(Op(e)).next(function(t){return{document:n.ye(e,t),size:Xf(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Wh();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Wh(),i=new qh(ol.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Xf(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return mf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return _p(t).Ot({range:r},function(t,e,r){for(var s=ol.fromSegments(t);o&&ol.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Wh(),o=e.path.length+1,s={};if(n.isEqual(Fc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=jf(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=nf.collectionReadTimeIndex}return _p(t).Ot(s,function(t,n,s){if(t.length===o){var a=Nf(r.R,n);e.path.isPrefixOf(a.key.path)?nh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new bp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return wp(t).get(rf.key).next(function(t){return Pc(!!t),t})},t.prototype.me=function(t,e){return wp(t).put(rf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Nf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Fc.min()))return n}return _l.newInvalidDocument(t)},t}(),bp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new mp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(wc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Gh(function(t,e){return Dc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Mf(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Xf(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Mf(e.Ie.R,_l.newNoDocument(o,Fc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),mf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(yp);function wp(t){return xf(t,rf.store)}function _p(t){return xf(t,nf.store)}function Op(t){return t.path.toArray()}var Cp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Pc(n<r&&n>=0&&r<=11);var o=new yf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Yd.store)}(t),function(t){t.createObjectStore(Zd.store,{keyPath:Zd.keyPath}),t.createObjectStore(Xd.store,{keyPath:Xd.keyPath,autoIncrement:!0}).createIndex(Xd.userMutationsIndex,Xd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jd.store)}(t),Sp(t),function(t){t.createObjectStore(nf.store)}(t));var s=mf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(sf.store),t.deleteObjectStore(of.store),t.deleteObjectStore(af.store)}(t),Sp(t)),s=s.next(function(){return function(t){var e=t.store(af.store),n=new af(0,0,Fc.min().toTimestamp(),0);return e.put(af.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Xd.store).Nt().next(function(n){t.deleteObjectStore(Xd.store),t.createObjectStore(Xd.store,{keyPath:Xd.keyPath,autoIncrement:!0}).createIndex(Xd.userMutationsIndex,Xd.userMutationsKeyPath,{unique:!0});var r=e.store(Xd.store),i=n.map(function(t){return r.put(t)});return mf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(cf.store,{keyPath:cf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(rf.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(nf.store);e.createIndex(nf.readTimeIndex,nf.readTimeIndexPath,{unique:!1}),e.createIndex(nf.collectionReadTimeIndex,nf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(lf.store,{keyPath:lf.keyPath})}(t),function(t){t.createObjectStore(hf.store,{keyPath:hf.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(nf.store).Ot(function(t,n){e+=Xf(n)}).next(function(){var n=new rf(e);return t.store(rf.store).put(rf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Zd.store),r=t.store(Xd.store);return n.Nt().next(function(n){return mf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Xd.userMutationsIndex,i).next(function(r){return mf.forEach(r,function(r){Pc(r.userId===n.userId);var i=Vf(e.R,r);return Zf(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(sf.store),n=t.store(nf.store);return t.store(af.store).get(af.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new zc(n),s=function(t){return[0,Gd(t)]}(o);r.push(e.get(s).next(function(n){return n?mf.resolve():function(n){return e.put(new sf(0,Gd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return mf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(uf.store,{keyPath:uf.keyPath});var n=e.store(uf.store),r=new Kf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Gd(i)})}};return e.store(nf.store).Ot({kt:!0},function(t,e){var n=new zc(t);return i(n.popLast())}).next(function(){return e.store(Jd.store).Ot({kt:!0},function(t,e){var n=Wd(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(of.store);return n.Ot(function(t,r){var i=Ff(r),o=Uf(e.R,i);return n.put(o)})},t}();function Sp(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath}).createIndex(sf.documentTargetsIndex,sf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(of.store,{keyPath:of.keyPath}).createIndex(of.queryTargetsIndexName,of.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(af.store)}var Ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Cc(Oc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pp(this,i),this.Le=n+"main",this.R=new Pf(u),this.Be=new vf(this.Le,11,new Cp(this.R)),this.qe=new op(this.referenceDelegate,this.R),this.Ut=new $f,this.Ue=function(t,e){return new vp(t,e)}(this.R,this.Ut),this.Qe=new qf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&xc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cc(Oc.FAILED_PRECONDITION,Ep);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new _c(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(wc.b)(e,void 0,void 0,function(){return Object(wc.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(wc.b)(e,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(wc.b)(e,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ip(e).put(new cf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(_f(e))return Tc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return xp(t).get(Yd.key).next(function(t){return mf.resolve(e.tn(t))})},t.prototype.en=function(t){return Ip(t).delete(this.clientId)},t.prototype.nn=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(wc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=xf(t,cf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return mf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?mf.resolve(!0):xp(t).get(Yd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Cc(Oc.FAILED_PRECONDITION,Ep);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ip(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Tc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(wc.b)(this,void 0,void 0,function(){var t=this;return Object(wc.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Yd.store,cf.store],function(e){var n=new Tf(e,_c.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ip(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Jf.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",df,function(o){return r=new Tf(o,i.Ne?i.Ne.next():_c.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw xc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Cc(Oc.FAILED_PRECONDITION,ff);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return xp(t).get(Yd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cc(Oc.FAILED_PRECONDITION,Ep)})},t.prototype.Ze=function(t){var e=new Yd(this.clientId,this.allowTabSynchronization,Date.now());return xp(t).put(Yd.key,e)},t.yt=function(){return vf.yt()},t.prototype.Xe=function(t){var e=this,n=xp(t);return n.get(Yd.key).next(function(t){return e.tn(t)?(Tc("IndexedDbPersistence","Releasing primary lease."),n.delete(Yd.key)):mf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(xc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Tc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return xc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){xc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xp(t){return xf(t,Yd.store)}function Ip(t){return xf(t,cf.store)}function Ap(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var kp=function(t,e){this.progress=t,this.wn=e},Pp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ol.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ql(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ol(e)).next(function(t){var e=Yh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yh();return this.Ut.getCollectionParents(t,i).next(function(s){return mf.forEach(s,function(s){var a=function(t,e){return new ql(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=_l.newInvalidDocument(c),r=r.insert(c,l)),Th(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){nh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=td(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ph&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Np=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=td(),i=td(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Fc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Gl(e)||Kl(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Ec()<=vo.a.DEBUG&&Tc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),eh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Gh(rh(t));return e.forEach(function(e,r){nh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ec()<=vo.a.DEBUG&&Tc("QueryEngine","Using full collection scan to execute query:",eh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Fc.min())},t}(),jp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new qh(Dc),this.kn=new mp(function(t){return Sl(t)},El),this.On=Fc.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Pp(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Dp(t,e,n,r){return new jp(t,e,n,r)}function Rp(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wc.d)(this,function(s){switch(s.label){case 0:return n=Nc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Pp(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=td(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Lp(t,e){var n=Nc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=mf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Pc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Vp(t){var e=Nc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Fp(t,e){var n=Nc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Pc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Wh();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Up(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Fc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return mf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Up(t,e,n,r,i){var o=td();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Wh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Fc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Tc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Bp(t,e){var n=Nc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function qp(t,e){var n=Nc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?mf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new kf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Hp(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:r=Nc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!_f(s=a.sent()))throw s;return Tc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function zp(t,e,n){var r=Nc(t),i=Fc.min(),o=td();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Nc(t),i=r.kn.get(n);return void 0!==i?mf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Zl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Fc.min(),n?o:td())}).next(function(t){return{documents:t,Bn:o}})})}function Gp(t,e){var n=Nc(t),r=Nc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Kp(t){var e=Nc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Nc(t),i=Wh(),o=jf(n),s=_p(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:nf.readTimeIndex,range:a},function(t,e){var n=Nf(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Df(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function $p(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){return[2,(e=Nc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=_p(t),n=Fc.min();return e.Ot({index:nf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Df(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Wp(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(wc.d)(this,function(p){switch(p.label){case 0:for(i=Nc(t),o=td(),s=Wh(),a=Xh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,qp(i,function(t){return Zl(zl(zc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Up(t,d,s,Fc.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Qp(t,e,n){return void 0===n&&(n=td()),Object(wc.b)(this,void 0,void 0,function(){var r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return[4,qp(t,Zl(Bf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Nc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=vd(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Wc.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Yp=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return mf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:vd(n.createTime)}),mf.resolve()},t.prototype.getNamedQuery=function(t,e){return mf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Bf(t.bundledQuery),readTime:vd(t.readTime)}}(e)),mf.resolve()},t}(),Zp=function(){function t(){this.Wn=new Gh(Xp.Gn),this.zn=new Gh(Xp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Xp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Xp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ol(new zc([])),r=new Xp(n,t),i=new Xp(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ol(new zc([])),n=new Xp(e,t),r=new Xp(e,t+1),i=td();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Xp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Xp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ol.comparator(t.key,e.key)||Dc(t.ns,e.ns)},t.Hn=function(t,e){return Dc(t.ns,e.ns)||ol.comparator(t.key,e.key)},t}(),Jp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Gh(Xp.Gn)}return t.prototype.checkEmpty=function(t){return mf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new If(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Xp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return mf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return mf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return mf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return mf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return mf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Xp(e,0),i=new Xp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),mf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Gh(Dc);return e.forEach(function(t){var e=new Xp(t,0),i=new Xp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),mf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ol.isDocumentKey(i)||(i=i.child(""));var o=new Xp(new ol(i),0),s=new Gh(Dc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),mf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Pc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return mf.forEach(e.mutations,function(i){var o=new Xp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Xp(e,0),r=this.rs.firstAfterOrEqual(n);return mf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return mf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),tg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new qh(ol.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return mf.resolve(n?n.document.clone():_l.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Wh();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():_l.newInvalidDocument(t))}),mf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Wh(),i=new ol(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||nh(e,u)&&(r=r.insert(u.key,u.clone()))}return mf.resolve(r)},t.prototype.fs=function(t,e){return mf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new eg(this)},t.prototype.getSize=function(t){return mf.resolve(this.size)},t}(),eg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(wc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),mf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(yp),ng=function(){function t(t){this.persistence=t,this.ds=new mp(function(t){return Sl(t)},El),this.lastRemoteSnapshotVersion=Fc.min(),this.highestTargetId=0,this.ws=0,this._s=new Zp,this.targetCount=0,this.ys=ip.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),mf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return mf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return mf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),mf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),mf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ip(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,mf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),mf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,mf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),mf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return mf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return mf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),mf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),mf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),mf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return mf.resolve(n)},t.prototype.containsKey=function(t,e){return mf.resolve(this._s.containsKey(e))},t}(),rg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new _c(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ng(this),this.Ut=new Gf,this.Ue=function(t,e){return new tg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Pf(e),this.Qe=new Yp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Jp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Tc("MemoryPersistence","Starting transaction:",t);var i=new ig(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return mf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ig=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(wc.c)(e,t),e}(pf),og=function(){function t(t){this.persistence=t,this.As=new Zp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw kc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),mf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),mf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),mf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mf.forEach(this.vs,function(r){var i=ol.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return mf.or([function(){return mf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),sg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ag(t,e){return"firestore_clients_"+t+"_"+e}function ug(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function cg(t,e){return"firestore_targets_"+t+"_"+e}sg.UNAUTHENTICATED=new sg(null),sg.GOOGLE_CREDENTIALS=new sg("google-credentials-uid"),sg.FIRST_PARTY=new sg("first-party-uid");var lg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(xc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cc(i.error.code,i.error.message)),o?new t(e,i.state,r):(xc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=nd(),s=0;i&&s<r.activeTargetIds.length;++s)i=il(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(xc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),fg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(xc("SharedClientState","Failed to parse online state: "+e),null)},t}(),pg=function(){function t(){this.activeTargetIds=nd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new qh(Dc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=ag(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new pg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(wc.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(ag(this.persistenceKey,r)))&&(o=dg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(cg(this.persistenceKey,t));if(n){var r=hg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(cg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void xc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(wc.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(wc.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=_c.o;if(null!=t)try{var n=JSON.parse(t);Pc("number"==typeof n),e=n}catch(t){xc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==_c.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new lg(this.currentUser,t,e,n),i=ug(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ug(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=cg(this.persistenceKey,t),i=new hg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return dg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return lg.Vs(new sg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return hg.Vs(r,e)},t.prototype.js=function(t){return fg.Vs(t)},t.prototype.ii=function(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Tc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=nd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),mg=function(){function t(){this.li=new pg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new pg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),yg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),vg=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Tc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Tc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),_g=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(wc.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new bc;s.listenOnce(mc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case gc.NO_ERROR:var e=s.getResponseJson();Tc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gc.TIMEOUT:Tc("Connection",'RPC "'+t+'" timed out'),o(new Cc(Oc.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:var n=s.getStatus();if(Tc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Oc).indexOf(e)>=0?e:Oc.UNKNOWN}(r.status);o(new Cc(a,r.message))}else o(new Cc(Oc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Cc(Oc.UNAVAILABLE,"Connection failed."));break;default:kc()}}finally{Tc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lc,i=fa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(yo.m)()||Object(yo.o)()||Object(yo.k)()||Object(yo.l)()||Object(yo.p)()||Object(yo.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Tc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new wg({Ei:function(t){c?Tc("Connection","Not sending because WebChannel is closed:",t):(u||(Tc("Connection","Opening WebChannel transport."),a.open(),u=!0),Tc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,vc.EventType.OPEN,function(){c||Tc("Connection","WebChannel transport opened.")}),h(a,vc.EventType.CLOSE,function(){c||(c=!0,Tc("Connection","WebChannel transport closed"),l.Vi())}),h(a,vc.EventType.ERROR,function(t){c||(c=!0,Ic("Connection","WebChannel transport errored:",t),l.Vi(new Cc(Oc.UNAVAILABLE,"The operation could not be completed")))}),h(a,vc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Pc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Dh[t];if(void 0!==e)return Bh(e)}(i),s=r.message;void 0===o&&(o=Oc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Cc(o,s)),a.close()}else Tc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,yc.STAT_EVENT,function(t){10===t.stat?Tc("Connection","Detected buffering proxy"):11===t.stat&&Tc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Tc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Tc("RestConnection","Received: ",t),t},function(e){throw Ic("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.3",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+bg[t]},t}());function Og(){return"undefined"!=typeof window?window:null}function Cg(){return"undefined"!=typeof document?document:null}function Sg(t){return new pd(t,!0)}var Eg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Tc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Tg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Eg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Oc.RESOURCE_EXHAUSTED?(xc(e.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Oc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Cc(Oc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(wc.b)(t,void 0,void 0,function(){return Object(wc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Tc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Tc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),xg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(wc.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:kc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Pc(void 0===e||"string"==typeof e),Wc.fromBase64String(e||"")):(Pc(void 0===e||e instanceof Uint8Array),Wc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Oc.UNKNOWN:Bh(t.code);return new Cc(e,t.message||"")}(a);n=new ad(r,i,o,s||null)}else if("documentChange"in e){i=Od(t,(r=e.documentChange).document.name),o=vd(r.document.updateTime);var a=new bl({mapValue:{fields:r.document.fields}}),u=(s=_l.newFoundDocument(i,o,a),r.targetIds||[]);n=new od(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Od(t,(r=e.documentDelete).document),o=r.readTime?vd(r.readTime):Fc.min(),a=_l.newNoDocument(i,o),n=new od([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Od(t,(r=e.documentRemove).document),n=new od([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return kc();var c=e.filter;i=new Fh(r=c.count||0),n=new sd(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Fc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fc.min():e.readTime?vd(e.readTime):Fc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ed(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Tl(r)?{documents:Pd(t,r)}:{query:Nd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=md(t,e.resumeToken):e.snapshotVersion.compareTo(Fc.min())>0&&(n.readTime=gd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ed(this.R),e.removeTarget=t,this.cr(e)},e}(Tg),Ig=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Pc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Pc(void 0!==e),t.map(function(t){return function(t,e){var n=vd(t.updateTime?t.updateTime:e);return n.isEqual(Fc.min())&&(n=vd(e)),new _h(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=vd(t.commitTime);return this.listener.Tr(n,e)}return Pc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ed(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ad(e.R,t)})};this.cr(n)},e}(Tg),Ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(wc.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Cc(Oc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Oc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Oc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),kg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(xc(e),this.Vr=!1):Tc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Pg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(wc.b)(o,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return Ug(this)?(Tc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return(e=Nc(t)).$r.add(4),[4,Mg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Ng(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new kg(n,r)};function Ng(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:if(!Ug(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mg(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jg(t,e){var n=Nc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Fg(n)?Vg(n):em(n).er()&&Rg(n,e))}function Dg(t,e){var n=Nc(t),r=em(n);n.Or.delete(e),r.er()&&Lg(n,e),0===n.Or.size&&(r.er()?r.ir():Ug(n)&&n.Br.set("Unknown"))}function Rg(t,e){t.qr.U(e.targetId),em(t).mr(e)}function Lg(t,e){t.qr.U(e),em(t).yr(e)}function Vg(t){t.qr=new cd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),em(t).start(),t.Br.Sr()}function Fg(t){return Ug(t)&&!em(t).tr()&&t.Or.size>0}function Ug(t){return 0===Nc(t).$r.size}function Bg(t){t.qr=void 0}function qg(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){return t.Or.forEach(function(e,n){Rg(t,e)}),[2]})})}function Hg(t,e){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(n){return Bg(t),Fg(t)?(t.Br.Nr(e),Vg(t)):t.Br.set("Unknown"),[2]})})}function zg(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o;return Object(wc.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ad&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(wc.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Tc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof od?t.qr.X(e):e instanceof sd?t.qr.rt(e):t.qr.et(e),n.isEqual(Fc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Wc.EMPTY_BYTE_STRING,n.snapshotVersion)),Lg(t,e);var r=new kf(n.target,e,1,n.sequenceNumber);Rg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Tc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Gg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Gg(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r=this;return Object(wc.d)(this,function(i){switch(i.label){case 0:if(!_f(e))throw e;return t.$r.add(1),[4,Mg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Vp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(wc.b)(r,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return Tc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Ng(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Kg(t,e){return e().catch(function(n){return Gg(t,n,e)})}function $g(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(wc.d)(this,function(s){switch(s.label){case 0:e=Nc(t),n=nm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ug(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Bp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=nm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Gg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wg(e)&&Qg(e),[2]}})})}function Wg(t){return Ug(t)&&!nm(t).tr()&&t.kr.length>0}function Qg(t){nm(t).start()}function Yg(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){return nm(t).Ar(),[2]})})}function Zg(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n,r;return Object(wc.d)(this,function(i){for(e=nm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Xg(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Af.from(r,e,n),[4,Kg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,$g(t)];case 2:return o.sent(),[2]}})})}function Jg(t,e){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(n){switch(n.label){case 0:return e&&nm(t).pr?[4,function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:return Uh(r=e.code)&&r!==Oc.ABORTED?(n=t.kr.shift(),nm(t).sr(),[4,Kg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,$g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wg(t)&&Qg(t),[2]}})})}function tm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n;return Object(wc.d)(this,function(r){switch(r.label){case 0:return n=Nc(t),e?(n.$r.delete(2),[4,Ng(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Mg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function em(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Nc(t);return r.br(),new xg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:qg.bind(null,t),Ri:Hg.bind(null,t),_r:zg.bind(null,t)}),t.Mr.push(function(n){return Object(wc.b)(e,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Fg(t)?Vg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Bg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function nm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Nc(t);return r.br(),new Ig(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Yg.bind(null,t),Ri:Jg.bind(null,t),Ir:Zg.bind(null,t),Tr:Xg.bind(null,t)}),t.Mr.push(function(n){return Object(wc.b)(e,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,$g(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Tc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var rm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cc(Oc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function im(t,e){if(xc("AsyncQueue",e+": "+t),_f(t))return new Cc(Oc.UNAVAILABLE,e+": "+t);throw t}var om=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ol.comparator(e.key,n.key)}:function(t,e){return ol.comparator(t.key,e.key)},this.keyedMap=Yh(),this.sortedSet=new qh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),sm=function(){function t(){this.Kr=new qh(ol.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):kc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),am=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,om.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),um=function(){this.Wr=void 0,this.listeners=[]},cm=function(){this.queries=new mp(function(t){return th(t)},Jl),this.onlineState="Unknown",this.Gr=new Set};function lm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wc.d)(this,function(c){switch(c.label){case 0:if(n=Nc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new um),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=im(a,"Initialization of query '"+eh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&pm(n),[2]}})})}function hm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wc.d)(this,function(a){return n=Nc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function dm(t,e){for(var n=Nc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&pm(n)}function fm(t,e,n){var r=Nc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function pm(t){t.Gr.forEach(function(t){t.next()})}var gm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new am(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=am.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),mm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ym=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Od(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Id(this.R,t.document,!1):_l.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return vd(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ym(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||td()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return[4,Wp(this.localStore,new ym(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Qp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new kp(Object.assign({},this.progress),t))]}})})}}();var vm=function(t){this.key=t},bm=function(t){this.key=t},wm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=td(),this.mutatedKeys=td(),this.lo=rh(t),this.fo=new om(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new sm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Gl(this.query)&&i.size===this.query.limit?i.last():null,c=Kl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=nh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Gl(this.query)||Kl(this.query))for(;s.size>this.query.limit;){var l=Gl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new am(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=td(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new bm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new vm(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=td();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return am.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),_m=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Om=function(t){this.key=t,this.bo=!1},Cm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new mp(function(t){return th(t)},Jl),this.Vo=new Map,this.So=new Set,this.Do=new qh(ol.comparator),this.Co=new Map,this.No=new Zp,this.xo={},this.Fo=new Map,this.ko=ip.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Sm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:return n=Jm(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,qp(n.localStore,Zl(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Em(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&jg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Em(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(wc.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,zp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Vm(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,zp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new wm(e,i.Bn),s=o._o(i.documents),a=id.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Vm(t,n,u.To),c=new _m(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Tm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return n=Nc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Jl(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Dg(n.remoteStore,r.targetId),Rm(n,r.targetId)}).catch(cp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rm(n,r.targetId),[4,Hp(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function xm(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:r=ty(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Nc(t),i=Vc.now(),o=e.reduce(function(t,e){return t.add(e.key)},td());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=xh(c,n.get(c.key));null!=l&&s.push(new Ph(c.key,l,wl(l.toProto().mapValue),Oh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new qh(Dc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Bm(r,i.changes)];case 3:return a.sent(),[4,$g(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=im(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Im(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:n=Nc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Pc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Pc(r.bo):t.removedDocuments.size>0&&(Pc(r.bo),r.bo=!1))}),[4,Bm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,cp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Am(t,e,n){var r=Nc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Nc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&pm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function km(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(wc.d)(this,function(c){switch(c.label){case 0:return(r=Nc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new qh(ol.comparator)).insert(o,_l.newNoDocument(o,Fc.min())),a=td().add(o),u=new rd(Fc.min(),new Map,new Gh(Dc),s,a),[4,Im(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Um(r),[3,4];case 2:return[4,Hp(r.localStore,e,!1).then(function(){return Rm(r,e,n)}).catch(cp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Pm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:n=Nc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Lp(n.localStore,e)];case 2:return i=o.sent(),Dm(n,r,null),jm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Bm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,cp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Nm(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:r=Nc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Nc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Pc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Dm(r,e,n),jm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Bm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,cp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Mm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:Ug((n=Nc(t)).remoteStore)||Tc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Nc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=im(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function jm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Dm(t,e,n){var r=Nc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Lm(t,e)})}function Lm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Dg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Um(t))}function Vm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof vm?(t.No.addReference(o.key,e),Fm(t,o)):o instanceof bm?(Tc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Lm(t,o.key)):kc()}}function Fm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Tc("SyncEngine","New document in limbo: "+n),t.So.add(r),Um(t))}function Um(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ol(zc.fromString(e)),r=t.ko.next();t.Co.set(r,new Om(n)),t.Do=t.Do.insert(n,r),jg(t.remoteStore,new kf(Zl(zl(n.path)),r,2,_c.o))}}function Bm(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:return r=Nc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Np.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(wc.d)(this,function(l){switch(l.label){case 0:n=Nc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return mf.forEach(e,function(e){return mf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return mf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!_f(r=l.sent()))throw r;return Tc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function qm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:return(n=Nc(t)).currentUser.isEqual(e)?[3,3]:(Tc("SyncEngine","User change. New user:",e.toKey()),[4,Rp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Cc(Oc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Bm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Hm(t,e){var n=Nc(t),r=n.Co.get(e);if(r&&r.bo)return td().add(r.key);var i=td(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function zm(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return[4,zp((n=Nc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Vm(n,e.targetId,i.To),i)]}})})}function Gm(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){return[2,Kp((e=Nc(t)).localStore).then(function(t){return Bm(e,t)})]})})}function Km(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o;return Object(wc.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Nc(t),r=Nc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):mf.resolve(null)})})}((i=Nc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,$g(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Dm(i,e,r||null),jm(i,e),function(t,e){Nc(Nc(t)._n).Gt(e)}(i.localStore,e)):kc(),s.label=4;case 4:return[4,Bm(i,o)];case 5:return s.sent(),[3,7];case 6:Tc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function $m(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(wc.d)(this,function(c){switch(c.label){case 0:return Jm(n=Nc(t)),ty(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Wm(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,tm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)jg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Rm(n,e),Hp(n.localStore,e,!0)}),Dg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Wm(n,a)];case 5:return c.sent(),function(t){var e=Nc(t);e.Co.forEach(function(t,n){Dg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new qh(ol.comparator)}(n),n.Oo=!1,[4,tm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Wm(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(wc.d)(this,function(g){switch(g.label){case 0:n=Nc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,qp(n.localStore,Zl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,zm(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Gp(n.localStore,a)];case 8:return p=g.sent(),[4,qp(n.localStore,p)];case 9:return u=g.sent(),[4,Em(n,Qm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Qm(t){return Hl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ym(t){var e=Nc(t);return Nc(Nc(e.localStore).persistence).fn()}function Zm(t,e,n,r){return Object(wc.b)(this,void 0,void 0,function(){var i,o,s;return Object(wc.d)(this,function(a){switch(a.label){case 0:return(i=Nc(t)).Oo?(Tc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Kp(i.localStore)];case 3:return o=a.sent(),s=rd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Bm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Hp(i.localStore,e,!0)];case 6:return a.sent(),Rm(i,e,r),[3,8];case 7:kc(),a.label=8;case 8:return[2]}})})}function Xm(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(wc.d)(this,function(d){switch(d.label){case 0:if(!(r=Jm(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Tc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Gp(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,qp(r.localStore,a)];case 3:return u=d.sent(),[4,Em(r,Qm(a),u.targetId,!1)];case 4:d.sent(),jg(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(wc.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Hp(r.localStore,t,!1).then(function(){Dg(r.remoteStore,t),Rm(r,t)}).catch(cp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Jm(t){var e=Nc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=km.bind(null,e),e.vo._r=dm.bind(null,e.eventManager),e.vo.Mo=fm.bind(null,e.eventManager),e}function ty(t){var e=Nc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,e),e}var ey=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return this.R=Sg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Dp(this.persistence,new Mp,t.initialUser,this.R)},t.prototype.qo=function(t){return new rg(og.bs,this.R)},t.prototype.Bo=function(t){return new mg},t.prototype.terminate=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(wc.c)(e,t),e.prototype.initialize=function(e){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$p(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,ty(this.Ko.syncEngine)];case 4:return n.sent(),[4,$g(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Dp(this.persistence,new Mp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new dp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ap(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yf.withCacheSize(this.cacheSizeBytes):Yf.DEFAULT;return new Tp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Og(),Cg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new mg},e}(ey),ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(wc.c)(e,t),e.prototype.initialize=function(e){return Object(wc.b)(this,void 0,void 0,function(){var n,r=this;return Object(wc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof gg?(this.sharedClientState.syncEngine={ui:Km.bind(null,n),ai:Zm.bind(null,n),hi:Xm.bind(null,n),fn:Ym.bind(null,n),ci:Gm.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(wc.b)(r,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return[4,$m(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Og();if(!gg.yt(e))throw new Cc(Oc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ap(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ny),iy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n=this;return Object(wc.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Am(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qm.bind(null,this.syncEngine),[4,tm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new cm},t.prototype.createDatastore=function(t){var e=Sg(t.databaseInfo.databaseId),n=new _g(t.databaseInfo);return function(t,e,n){return new Ag(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Am(s.syncEngine,t,0)},o=vg.yt()?new vg:new yg,new Pg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Cm(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return e=Nc(t),Tc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Mg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),oy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),sy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new gf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new mm(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n=this;return Object(wc.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cc(Oc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(wc.d)(this,function(u){switch(u.label){case 0:return n=Nc(t),r=Ed(n.R)+"/documents",i={documents:e.map(function(t){return _d(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Pc(!!e.found);var n=Od(t,e.found.name),r=vd(e.found.updateTime),i=new bl({mapValue:{fields:e.found.fields}});return _l.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Pc(!!e.missing),Pc(!!e.readTime);var n=Od(t,e.missing),r=vd(e.readTime);return _l.newNoDocument(n,r)}(t,e):kc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Pc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Lh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e=this;return Object(wc.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ol.fromPath(n);e.mutations.push(new Vh(r,e.precondition(r)))}),[4,function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return n=Nc(t),r=Ed(n.R)+"/documents",i={writes:e.map(function(t){return Ad(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw kc();e=Fc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cc(Oc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oh.updateTime(e):Oh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Fc.min()))throw new Cc(Oc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oh.updateTime(e)}return Oh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),ay=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Eg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(wc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(wc.d)(this,function(r){return t=new sy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!nl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Uh(e)}return!1},t}(),uy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=sg.UNAUTHENTICATED,this.clientId=jc.u(),this.credentialListener=function(){},this.receivedInitialUser=new gf,this.credentials.setChangeListener(function(t){Tc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cc(Oc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new gf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wc.b)(t,void 0,void 0,function(){var t,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=im(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function cy(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(wc.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Tc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(wc.b)(i,void 0,void 0,function(){return Object(wc.d)(this,function(t){switch(t.label){case 0:return[4,Rp(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ly(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,hy(t)];case 1:return n=i.sent(),Tc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(wc.b)(this,void 0,void 0,function(){var n,r;return Object(wc.d)(this,function(i){switch(i.label){case 0:return(n=Nc(t)).asyncQueue.verifyOperationInProgress(),Tc("RemoteStore","RemoteStore received new credentials"),r=Ug(n),n.$r.add(3),[4,Mg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Ng(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function hy(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Tc("FirestoreClient","Using default OfflineComponentProvider"),[4,cy(t,new ey)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function dy(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Tc("FirestoreClient","Using default OnlineComponentProvider"),[4,ly(t,new iy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function fy(t){return hy(t).then(function(t){return t.persistence})}function py(t){return hy(t).then(function(t){return t.localStore})}function gy(t){return dy(t).then(function(t){return t.remoteStore})}function my(t){return dy(t).then(function(t){return t.syncEngine})}function yy(t){return Object(wc.b)(this,void 0,void 0,function(){var e,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:return[4,dy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Sm.bind(null,e.syncEngine),n.onUnlisten=Tm.bind(null,e.syncEngine),n)]}})})}function vy(t,e,n){var r=this;void 0===n&&(n={});var i=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(r,void 0,void 0,function(){var r;return Object(wc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new oy({next:function(o){e.enqueueAndForget(function(){return hm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Cc(Oc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Cc(Oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new gm(zl(n.path),o,{includeMetadataChanges:!0,so:!0});return lm(t,s)},[4,yy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function by(t,e,n){var r=this;void 0===n&&(n={});var i=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(r,void 0,void 0,function(){var r;return Object(wc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new oy({next:function(n){e.enqueueAndForget(function(){return hm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Cc(Oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new gm(n,o,{includeMetadataChanges:!0,so:!0});return lm(t,s)},[4,yy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var wy=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},_y=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Oy=new Map,Cy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Sy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(sg.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ey=function(){function t(t){var e=this;this.oc=null,this.currentUser=sg.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Tc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Pc("string"==typeof n.accessToken),new Cy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Pc(null===t||"string"==typeof t),new sg(t)},t}(),Ty=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=sg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),xy=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ty(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(sg.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Iy(t,e,n){if(!n)throw new Cc(Oc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ay(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ky(t,e,n,r){if(!0===e&&!0===r)throw new Cc(Oc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Py(t){if(!ol.isDocumentKey(t))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ny(t){if(ol.isDocumentKey(t))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function My(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":kc()}function jy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cc(Oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=My(t);throw new Cc(Oc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Dy(t,e){if(e<=0)throw new Cc(Oc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ry=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cc(Oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cc(Oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ky("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ly=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1,t instanceof _y?(this._databaseId=t,this._credentials=new Sy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cc(Oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _y(t.options.projectId)}(t),this._credentials=new Ey(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Cc(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Cc(Oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Sy;switch(t.type){case"gapi":var e=t.client;return Pc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Cc(Oc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Oy.get(this))&&(Tc("ComponentProvider","Removing Datastore"),Oy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vy=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Uy(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Fy=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zl(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Vy(this.firestore,null,new ol(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Fy);function By(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yo.g)(t),Iy("collection","path",e),t instanceof Ly)return Ny(n=zc.fromString.apply(zc,Object(wc.f)([e],r))),new Uy(t,null,n);if(!(t instanceof Vy||t instanceof Uy))throw new Cc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ny(n=zc.fromString.apply(zc,Object(wc.f)([t.path],r)).child(zc.fromString(e))),new Uy(t.firestore,null,n)}function qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(yo.g)(t),1===arguments.length&&(e=jc.u()),Iy("doc","path",e),t instanceof Ly)return Py(n=zc.fromString.apply(zc,Object(wc.f)([e],r))),new Vy(t,null,new ol(n));if(!(t instanceof Vy||t instanceof Uy))throw new Cc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Py(n=t._path.child(zc.fromString.apply(zc,Object(wc.f)([e],r)))),new Vy(t.firestore,t instanceof Uy?t._converter:null,new ol(n))}function Hy(t,e){return t=Object(yo.g)(t),e=Object(yo.g)(e),(t instanceof Vy||t instanceof Uy)&&(e instanceof Vy||e instanceof Uy)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function zy(t,e){return t=Object(yo.g)(t),e=Object(yo.g)(e),t instanceof Fy&&e instanceof Fy&&t.firestore===e.firestore&&Jl(t._query,e._query)&&t._converter===e._converter}var Gy=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Eg(this,"async_queue_retry"),this.Ec=function(){var e=Cg();e&&Tc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Cg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(wc.b)(this,void 0,void 0,function(){var t,e=this;return Object(wc.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!_f(t=n.sent()))throw t;return Tc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,xc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=rm.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&kc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(wc.b)(this,void 0,void 0,function(){var t;return Object(wc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Ky(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new gf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var $y=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Gy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(wc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qy(this),this._firestoreClient.terminate()},e}(Ly);function Wy(t){return t._firestoreClient||Qy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new wy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new uy(t._credentials,t._queue,r)}function Yy(t,e,n){var r=this,i=new gf;return t.asyncQueue.enqueue(function(){return Object(wc.b)(r,void 0,void 0,function(){var r;return Object(wc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cy(t,n)];case 1:return o.sent(),[4,ly(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Oc.FAILED_PRECONDITION||t.code===Oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Zy(t){if(t._initialized||t._terminated)throw new Cc(Oc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Jy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Wc.fromBase64String(e))}catch(e){throw new Cc(Oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Wc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),tv=function(t){this._methodName=t},ev=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cc(Oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cc(Oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Dc(this._lat,t._lat)||Dc(this._long,t._long)},t}(),nv=/^__.*__$/,rv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ph(t,this.data,this.fieldMask,e,this.fieldTransforms):new kh(t,this.data,e,this.fieldTransforms)},t}(),iv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ph(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ov(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kc()}}var sv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Tv(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ov(this.Dc)&&nv.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),av=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Sg(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new sv({Dc:t,methodName:e,Lc:n,path:Kc.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function uv(t){var e=t._freezeSettings(),n=Sg(t._databaseId);return new av(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Ov("Data must be an object, but it was:",s,r);var a,u,c=wv(r,s);if(o.merge)a=new $c(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Cv(e,d[h],n);if(!s.contains(f))throw new Cc(Oc.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");xv(l,f)||l.push(f)}a=new $c(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new rv(new bl(c),a,u)}var lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(tv);function hv(t,e,n){return new sv({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype._toFieldTransform=function(t){return new wh(t.path,new dh)},e.prototype.isEqual=function(t){return t instanceof e},e}(tv),fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(wc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=hv(this,t,!0),n=this.qc.map(function(t){return bv(t,e)}),r=new fh(n);return new wh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(tv),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(wc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=hv(this,t,!0),n=this.qc.map(function(t){return bv(t,e)}),r=new gh(n);return new wh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(tv),gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(wc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new yh(t.R,ah(t.R,this.Uc));return new wh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(tv);function mv(t,e,n,r){var i=t.Bc(1,e,n);Ov("Data must be an object, but it was:",i,r);var o=[],s=bl.empty();Bc(r,function(t,r){var a=Ev(e,t,n);r=Object(yo.g)(r);var u=i.kc(a);if(r instanceof lv)o.push(a);else{var c=bv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new $c(o);return new iv(s,a,i.fieldTransforms)}function yv(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[Cv(e,r,n)],u=[i];if(o.length%2!=0)throw new Cc(Oc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Cv(e,o[c])),u.push(o[c+1]);for(var l=[],h=bl.empty(),d=a.length-1;d>=0;--d)if(!xv(l,a[d])){var f=a[d],p=u[d];p=Object(yo.g)(p);var g=s.kc(f);if(p instanceof lv)l.push(f);else{var m=bv(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new $c(l);return new iv(h,y,s.fieldTransforms)}function vv(t,e,n,r){return void 0===r&&(r=!1),bv(n,t.Bc(r?4:3,e))}function bv(t,e){if(_v(t=Object(yo.g)(t)))return Ov("Unsupported field value:",e,t),wv(t,e);if(t instanceof tv)return function(t,e){if(!ov(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=bv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(yo.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ah(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vc.fromDate(t);return{timestampValue:gd(e.R,n)}}if(t instanceof Vc)return n=new Vc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:gd(e.R,n)};if(t instanceof ev)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jy)return{bytesValue:md(e.R,t._byteString)};if(t instanceof Vy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+My(t))}(t,e)}function wv(t,e){var n={};return qc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(t,function(t,r){var i=bv(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function _v(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vc||t instanceof ev||t instanceof Jy||t instanceof Vy||t instanceof tv)}function Ov(t,e,n){if(!_v(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=My(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function Cv(t,e,n){if((e=Object(yo.g)(e))instanceof Xy)return e._internalPath;if("string"==typeof e)return Ev(t,e);throw Tv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Sv=new RegExp("[~\\*/\\[\\]]");function Ev(t,e,n){if(e.search(Sv)>=0)throw Tv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Xy.bind.apply(Xy,Object(wc.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Tv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Tv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Cc(Oc.INVALID_ARGUMENT,(a+=". ")+t+u)}function xv(t,e){return t.some(function(t){return t.isEqual(e)})}var Iv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Av(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(kv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Iv);function kv(t,e){return"string"==typeof e?Ev(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}var Pv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Nv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(wc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(kv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Iv),Mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Nv),jv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Pv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Mv(n._firestore,n._userDataWriter,r.key,r,new Pv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cc(Oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Mv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Pv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Mv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Pv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Dv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Dv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kc()}}function Rv(t,e){return t instanceof Nv&&e instanceof Nv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jv&&e instanceof jv&&t._firestore===e._firestore&&zy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Lv(t){if(Kl(t)&&0===t.explicitOrderBy.length)throw new Cc(Oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vv=function(){};function Fv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(wc.c)(e,t),e.prototype._apply=function(t){var e=uv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$v(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Kv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Kv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$v(s,o),a=vv(n,"where",s,"in"===o||"not-in"===o);var h=xl.create(i,o,a);return function(t,e){if(e.g()){var n=Wl(t);if(null!==n&&!n.isEqual(e.field))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=$l(t);null!==r&&Wv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cc(Oc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Fy(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vv),Bv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(wc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vl(e,n);return function(t,e){if(null===$l(t)){var n=Wl(t);null!==n&&Wv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Fy(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ql(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vv),qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(wc.c)(e,t),e.prototype._apply=function(t){return new Fy(t.firestore,t._converter,Xl(t._query,this.Gc,this.zc))},e}(Vv),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wc.c)(e,t),e.prototype._apply=function(t){var e=Gv(t,this.type,this.Hc,this.Jc);return new Fy(t.firestore,t._converter,function(t,e){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vv),zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wc.c)(e,t),e.prototype._apply=function(t){var e=Gv(t,this.type,this.Hc,this.Jc);return new Fy(t.firestore,t._converter,function(t,e){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vv);function Gv(t,e,n,r){if(n[0]=Object(yo.g)(n[0]),n[0]instanceof Iv)return function(t,e,n,r,i){if(!r)throw new Cc(Oc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Yl(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(fl(e,r.key));else{var c=r.data.field(u.field);if(Jc(c))throw new Cc(Oc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=uv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Cc(Oc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ql(t)&&-1!==c.indexOf("/"))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(zc.fromString(c));if(!ol.isDocumentKey(l))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ol(l);a.push(fl(e,h))}else{var d=vv(n,r,c);a.push(d)}}return new Rl(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Kv(t,e,n){if("string"==typeof(n=Object(yo.g)(n))){if(""===n)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ql(e)&&-1!==n.indexOf("/"))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zc.fromString(n));if(!ol.isDocumentKey(r))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fl(t,new ol(r))}if(n instanceof Vy)return fl(t,n._key);throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+My(n)+".")}function $v(t,e){if(!Array.isArray(t)||0===t.length)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wv(t,e,n){if(!n.isEqual(e))throw new Cc(Oc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Qv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),sl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw kc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Bc(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ev(Zc(t.latitude),Zc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=tl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(el(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Yc(t);return new Vc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=zc.fromString(t);Pc(zd(n));var r=new _y(n.get(1),n.get(3)),i=new ol(n.popFirst(5));return r.isEqual(e)||xc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Yv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.convertBytes=function(t){return new Jy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vy(this.firestore,null,e)},e}(Qv),Xv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=uv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Jv(t,this._firestore),i=Yv(r._converter,e,n),o=cv(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,Oh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Jv(t,this._firestore);return o="string"==typeof(e=Object(yo.g)(e))||e instanceof Xy?yv(this._dataReader,"WriteBatch.update",s._key,e,n,r):mv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Oh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Jv(t,this._firestore);return this._mutations=this._mutations.concat(new Lh(e._key,Oh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cc(Oc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Jv(t,e){if((t=Object(yo.g)(t)).firestore!==e)throw new Cc(Oc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var tb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.convertBytes=function(t){return new Jy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vy(this.firestore,null,e)},e}(Qv);function eb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jy(t,Vy);var o=jy(t.firestore,$y),s=uv(o);return rb(o,[("string"==typeof(e=Object(yo.g)(e))||e instanceof Xy?yv(s,"updateDoc",t._key,e,n,r):mv(s,"updateDoc",t._key,e)).toMutation(t._key,Oh.exists(!0))])}function nb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(yo.g)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ky(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Ky(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Vy)c=jy(t.firestore,$y),l=zl(t._key.path),u={next:function(e){i[a]&&i[a](ib(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=jy(t,Fy);c=jy(f.firestore,$y),l=f._query;var p=new tb(c);u={next:function(t){i[a]&&i[a](new jv(c,p,f,t))},error:i[a+1],complete:i[a+2]},Lv(t._query)}return function(t,e,n,r){var i=this,o=new oy(r),s=new gm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(i,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return e=lm,[4,yy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(i,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return e=hm,[4,yy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Wy(c),l,h,u)}function rb(t,e){return function(t,e){var n=this,r=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var n;return Object(wc.d)(this,function(i){switch(i.label){case 0:return n=xm,[4,my(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Wy(t),e)}function ib(t,e,n){var r=n.docs.get(e._key),i=new tb(t);return new Nv(t,i,e._key,r,new Pv(n.hasPendingWrites,n.fromCache),e._converter)}var ob=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(wc.c)(e,t),e.prototype.get=function(e){var n=this,r=Jv(e,this._firestore),i=new tb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Nv(n._firestore,i,r._key,t._document,new Pv(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=uv(t)}return t.prototype.get=function(t){var e=this,n=Jv(t,this._firestore),r=new Zv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return kc();var i=t[0];if(i.isFoundDocument())return new Iv(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Iv(e._firestore,r,n._key,null,n._converter);throw kc()})},t.prototype.set=function(t,e,n){var r=Jv(t,this._firestore),i=Yv(r._converter,e,n),o=cv(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Jv(t,this._firestore);return o="string"==typeof(e=Object(yo.g)(e))||e instanceof Xy?yv(this._dataReader,"Transaction.update",s._key,e,n,r):mv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Jv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function sb(){if("undefined"==typeof Uint8Array)throw new Cc(Oc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ab(){if("undefined"==typeof atob)throw new Cc(Oc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ub=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return ab(),new t(Jy.fromBase64String(e))},t.fromUint8Array=function(e){return sb(),new t(Jy.fromUint8Array(e))},t.prototype.toBase64=function(){return ab(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return sb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),cb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zy(t=jy(t,$y));var n=Wy(t),r=t._freezeSettings(),i=new iy;return Yy(n,i,new ny(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zy(t=jy(t,$y));var e=Wy(t),n=t._freezeSettings(),r=new iy;return Yy(e,r,new ry(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Cc(Oc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new gf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wc.b)(e,void 0,void 0,function(){var e;return Object(wc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(wc.b)(this,void 0,void 0,function(){return Object(wc.d)(this,function(e){switch(e.label){case 0:return vf.yt()?[4,vf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ap(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),lb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof _y||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=jy(t,Ly))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wc.b)(e,void 0,void 0,function(){var e,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,gy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Nc(t);return e.$r.delete(0),Ng(e)}(n))]}})})})}(Wy(jy(this._delegate,$y)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wc.b)(e,void 0,void 0,function(){var e,n;return Object(wc.d)(this,function(r){switch(r.label){case 0:return[4,fy(t)];case 1:return e=r.sent(),[4,gy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(wc.b)(this,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return(e=Nc(t)).$r.add(0),[4,Mg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Wy(jy(this._delegate,$y)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ky("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(e,void 0,void 0,function(){var e;return Object(wc.d)(this,function(r){switch(r.label){case 0:return e=Mm,[4,my(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Wy(jy(this._delegate,$y)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new oy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Nc(t).Gr.add(e),e.next()},[4,yy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var e;return Object(wc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Nc(t).Gr.delete(e)},[4,yy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Wy(t=jy(t,$y)),Ky(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Cc(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sb(this,By(this._delegate,t))}catch(t){throw mb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new gb(this,qy(this._delegate,t))}catch(t){throw mb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new _b(this,function(t,e){if(t=jy(t,Ly),Iy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Fy(t,null,function(t){return new ql(zc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw mb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var n;return Object(wc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return dy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ay(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Wy(t),function(n){return e(new ob(t,n))})}(this._delegate,function(n){return t(new db(e,n))})},t.prototype.batch=function(){var t=this;return Wy(this._delegate),new fb(new Xv(this._delegate,function(e){return rb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Cc(Oc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Cc(Oc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),hb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wc.c)(e,t),e.prototype.convertBytes=function(t){return new ub(new Jy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return gb.Zc(e,this.firestore,null)},e}(Qv),db=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new hb(t)}return t.prototype.get=function(t){var e=this,n=Eb(t);return this._delegate.get(n).then(function(t){return new bb(e._firestore,new Nv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=Eb(t);return n?(Ay("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Eb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wc.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Eb(t);return this._delegate.delete(e),this},t}(),fb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Eb(t);return n?(Ay("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Eb(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(wc.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Eb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),pb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Mv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new wb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new hb(e),n),i.set(n,o)),o},t}();pb.eu=new WeakMap;var gb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hb(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Cc(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Vy(n._delegate,r,new ol(e)))},t.Zc=function(e,n,r){return new t(n,new Vy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sb(this.firestore,By(this._delegate,t))}catch(t){throw mb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(yo.g)(t))instanceof Vy&&Hy(this._delegate,t)},t.prototype.set=function(t,e){e=Ay("DocumentReference.set",e);try{return function(t,e,n){t=jy(t,Vy);var r=jy(t.firestore,$y),i=Yv(t._converter,e,n);return rb(r,[cv(uv(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Oh.none())])}(this._delegate,t,e)}catch(t){throw mb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?eb(this._delegate,t):eb.apply(void 0,Object(wc.f)([this._delegate,t,e],n))}catch(t){throw mb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return rb(jy((t=this._delegate).firestore,$y),[new Lh(t._key,Oh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=yb(e),i=vb(e,function(e){return new bb(t.firestore,new Nv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return nb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jy(t,Vy);var e=jy(t.firestore,$y),n=Wy(e),r=new tb(e);return function(t,e){var n=this,r=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var n;return Object(wc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i;return Object(wc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Nc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Cc(Oc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=im(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,py(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Nv(e,r,t._key,n,new Pv(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jy(t,Vy);var e=jy(t.firestore,$y);return vy(Wy(e),t._key,{source:"server"}).then(function(n){return ib(e,t,n)})}(this._delegate):function(t){t=jy(t,Vy);var e=jy(t.firestore,$y);return vy(Wy(e),t._key).then(function(n){return ib(e,t,n)})}(this._delegate)).then(function(t){return new bb(e.firestore,new Nv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?pb.tu(this.firestore,e):null))},t}();function mb(t,e,n){return t.message=t.message.replace(e,n),t}function yb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ky(r))return r}return{}}function vb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ky(t[0])?t[0]:Ky(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var bb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new gb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Rv(this._delegate,t._delegate)},t}(),wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(bb),_b=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new hb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Fv(this._delegate,function(t,e,n){var r=e,i=kv("where",t);return new Uv(i,r,n)}(e,n,r)))}catch(e){throw mb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Fv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=kv("orderBy",t);return new Bv(r,n)}(e,n)))}catch(e){throw mb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Fv(this._delegate,function(t){return Dy("limit",t),new qv("limit",t,"F")}(e)))}catch(e){throw mb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Fv(this._delegate,function(t){return Dy("limitToLast",t),new qv("limitToLast",t,"L")}(e)))}catch(e){throw mb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw mb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw mb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw mb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Fv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zv("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw mb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return zy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jy(t,Fy);var e=jy(t.firestore,$y),n=Wy(e),r=new tb(e);return function(t,e){var n=this,r=new gf;return t.asyncQueue.enqueueAndForget(function(){return Object(wc.b)(n,void 0,void 0,function(){var n;return Object(wc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wc.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(wc.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,zp(t,e,!0)];case 1:return a=u.sent(),r=new wm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=im(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,py(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new jv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jy(t,Fy);var e=jy(t.firestore,$y),n=Wy(e),r=new tb(e);return by(n,t._query,{source:"server"}).then(function(n){return new jv(e,r,t,n)})}(this._delegate):function(t){t=jy(t,Fy);var e=jy(t.firestore,$y),n=Wy(e),r=new tb(e);return Lv(t._query),by(n,t._query).then(function(n){return new jv(e,r,t,n)})}(this._delegate)).then(function(t){return new Cb(e.firestore,new jv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=yb(e),i=vb(e,function(e){return new Cb(t.firestore,new jv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return nb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?pb.tu(this.firestore,e):null))},t}(),Ob=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new wb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Cb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new _b(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new wb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Ob(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new wb(n._firestore,r))})},t.prototype.isEqual=function(t){return Rv(this._delegate,t._delegate)},t}(),Sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(wc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new gb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new gb(this.firestore,void 0===t?qy(this._delegate):qy(this._delegate,t))}catch(t){throw mb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jy(t.firestore,$y),r=qy(t),i=Yv(t._converter,e);return rb(n,[cv(uv(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Oh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new gb(e.firestore,t)})},e.prototype.isEqual=function(t){return Hy(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?pb.tu(this.firestore,t):null))},e}(_b);function Eb(t){return jy(t,Vy)}var Tb,xb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Xy.bind.apply(Xy,Object(wc.f)([void 0],t)))}return t.documentId=function(){return new t(Kc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(yo.g)(t))instanceof Xy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ib=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new dv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new gv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Ab=n("/6Yf"),kb={Firestore:lb,GeoPoint:ev,Timestamp:Vc,Blob:ub,Transaction:db,WriteBatch:fb,DocumentReference:gb,DocumentSnapshot:bb,Query:_b,QueryDocumentSnapshot:wb,QuerySnapshot:Cb,CollectionReference:Sb,FieldPath:xb,FieldValue:Ib,setLogLevel:function(t){Sc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Ab.a("firestore",function(t){return function(t,e){return new lb(t,new $y(t,e),new cb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kb)))})(Tb=mo.a),Tb.registerVersion("@firebase/firestore","2.2.3");var Pb=n("VRyK"),Nb=n("qgXg"),Mb=n("Ylt2");class jb extends ne.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Db(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new re.a;if(this.isStopped||this.hasError?o=nn.a.EMPTY:(this.observers.push(t),o=new Mb.a(this,t)),r&&t.add(t=new fo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Nb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Db{constructor(t,e){this.time=t,this.value=e}}function Rb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new jb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Lb(t,e){return e?Se(()=>t,e):Se(()=>t)}var Vb=n("tf+s");const Fb=new r.q("angularfire2.auth.use-emulator"),Ub=new r.q("angularfire2.auth.settings"),Bb=new r.q("angularfire2.auth.tenant-id"),qb=new r.q("angularfire2.auth.langugage-code"),Hb=new r.q("angularfire2.auth.use-device-language"),zb=new r.q("angularfire.auth.persistence");let Gb=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new po.d(i),d=Object(po.h)(h),f=new ne.a,p=Object(ee.a)(void 0).pipe(Object(fo.b)(h.outsideAngular),Se(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Oe.a)(()=>Object(po.g)(t,i,e)),Object(Oe.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(po.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Rb({bufferSize:1,refCount:!1}));if(_t(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ee.a)(null);else{p.pipe(tn()).subscribe();const t=p.pipe(Se(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Rb({bufferSize:1,refCount:!1})),e=t=>new he.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Se(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Se(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Lb(n),Object(Vb.a)(h.outsideAngular),Object(fo.b)(h.insideAngular)),this.user=t.pipe(Lb(r),Object(Vb.a)(h.outsideAngular),Object(fo.b)(h.insideAngular)),this.idToken=this.user.pipe(Se(t=>t?Object(te.a)(t.getIdToken()):Object(ee.a)(null))),this.idTokenResult=this.user.pipe(Se(t=>t?Object(te.a)(t.getIdTokenResult()):Object(ee.a)(null))),this.credential=Object(Pb.a)(t,f,this.authState.pipe(De(t=>!t))).pipe(Object(Oe.a)(t=>(null==t?void 0:t.user)?t:null),Object(Vb.a)(h.outsideAngular),Object(fo.b)(h.insideAngular))}return Object(po.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(po.c),r.Rb(po.b,8),r.Rb(r.B),r.Rb(r.z),r.Rb(Fb,8),r.Rb(Ub,8),r.Rb(Bb,8),r.Rb(qb,8),r.Rb(Hb,8),r.Rb(zb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Rb)(po.c),Object(r.Rb)(po.b,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(Fb,8),Object(r.Rb)(Ub,8),Object(r.Rb)(Bb,8),Object(r.Rb)(qb,8),Object(r.Rb)(Hb,8),Object(r.Rb)(zb,8))},token:t,providedIn:"any"}),t})();Object(po.e)(Gb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Kb=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Gb]}),t})();function $b(t,e){return function(t,e=so.a){return new he.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Wb(t,e){return $b(t,e).pipe(Object(Oe.a)(t=>({payload:t,type:"query"})))}function Qb(t,e){return Wb(t,e).pipe(Pe(void 0),ao(),Object(Oe.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Yb(t,e,n){return Qb(t,n).pipe(Ne((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new lo(void 0,void 0)),Object(Oe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Xb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Jb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Qb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Pe(void 0),ao(),De(([t,e])=>e.length>0||!t),Object(Oe.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ne((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xb(t);return Yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(te.a)(this.query.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new tw(this.ref.doc(t),this.afs)}}class tw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=sw(n,e);return new Jb(r,i,this.afs)}snapshotChanges(){return $b(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe(void 0),ao(),Object(Oe.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Oe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(te.a)(this.ref.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}}class ew{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Qb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),De(t=>t.length>0),this.afs.keepUnstableUntilFirst):Qb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ne((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xb(t);return Yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Oe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(te.a)(this.query.get(t)).pipe(Object(fo.b)(this.afs.schedulers.insideAngular))}}const nw=new r.q("angularfire2.enableFirestorePersistence"),rw=new r.q("angularfire2.firestore.persistenceSettings"),iw=new r.q("angularfire2.firestore.settings"),ow=new r.q("angularfire2.firestore.use-emulator");function sw(t,e=(t=>t)){return{query:e(t),ref:t}}let aw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new po.d(o),this.keepUnstableUntilFirst=Object(po.h)(this.schedulers);const c=Object(po.g)(t,o,e);!go.a.auth&&u&&Object(po.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(po.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!_t(i)){const e=()=>{try{return Object(te.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Tb){return"undefined"!=typeof console&&console.warn(Tb),Object(ee.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ee.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=sw(n,e),o=this.schedulers.ngZone.run(()=>r);return new Jb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ew(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new tw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(po.c),r.Rb(po.b,8),r.Rb(nw,8),r.Rb(iw,8),r.Rb(r.B),r.Rb(r.z),r.Rb(rw,8),r.Rb(ow,8),r.Rb(Fb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Rb)(po.c),Object(r.Rb)(po.b,8),Object(r.Rb)(nw,8),Object(r.Rb)(iw,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(rw,8),Object(r.Rb)(ow,8),Object(r.Rb)(Fb,8))},token:t,providedIn:"any"}),t})(),uw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:nw,useValue:!0},{provide:rw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[aw]}),t})(),cw=(()=>{class t extends ro{constructor(t){super(oo,t,"table")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(aw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class lw extends io{}let hw=(()=>{class t extends ro{constructor(t){super(lw,t,"session")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(aw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dw=n("XoHu");function fw(t,e){return new he.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(te.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const pw=new r.q("NgValueAccessor"),gw={provide:pw,useExisting:Object(r.T)(()=>mw),multi:!0};let mw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([gw])]}),t})();const yw={provide:pw,useExisting:Object(r.T)(()=>bw),multi:!0},vw=new r.q("CompositionEventMode");let bw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(vw,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([yw])]}),t})();function ww(t){return null==t||0===t.length}function _w(t){return null!=t&&"number"==typeof t.length}const Ow=new r.q("NgValidators"),Cw=new r.q("NgAsyncValidators"),Sw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ew{static min(t){return e=>{if(ww(e.value)||ww(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(ww(e.value)||ww(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return ww(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ww(t.value)||Sw.test(t.value)?null:{email:!0}}static minLength(t){return e=>ww(e.value)||!_w(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>_w(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ew.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ww(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Tw);return 0==e.length?null:function(t){return Iw(Aw(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Tw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(se.a)(e))return fw(e,null);if(Object(dw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return fw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return fw(t=1===t.length&&Object(se.a)(t[0])?t[0]:t,null).pipe(Object(Oe.a)(t=>e(...t)))}return fw(t,null)}(Aw(t,e).map(xw)).pipe(Object(Oe.a)(Iw))}}}function Tw(t){return null!=t}function xw(t){const e=Object(r.qb)(t)?Object(te.a)(t):t;return Object(r.pb)(e),e}function Iw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Aw(t,e){return e.map(e=>e(t))}function kw(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Pw(t){return null!=t?Ew.compose(kw(t)):null}function Nw(t){return null!=t?Ew.composeAsync(kw(t)):null}function Mw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let jw=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Dw=(()=>{class t extends jw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Rw(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Rw=r.Pb(Dw);class Lw extends jw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vw{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Fw=(()=>{class t extends Vw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lw,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Uw=(()=>{class t extends Vw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Dw,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Bw={provide:pw,useExisting:Object(r.T)(()=>qw),multi:!0};let qw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Bw])]}),t})();const Hw={provide:pw,useExisting:Object(r.T)(()=>Gw),multi:!0};let zw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Gw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Lw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(zw),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Hw])]}),t})();const Kw={provide:pw,useExisting:Object(r.T)(()=>$w),multi:!0};let $w=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Kw])]}),t})();const Ww={provide:pw,useExisting:Object(r.T)(()=>Yw),multi:!0};function Qw(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Yw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Qw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Ww])]}),t})(),Zw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Qw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(Yw,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Xw={provide:pw,useExisting:Object(r.T)(()=>t_),multi:!0};function Jw(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let t_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Xw])]}),t})(),e_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Jw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Jw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(t_,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function n_(t,e){i_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&o_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&o_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function r_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function i_(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Mw(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Mw(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();r_(e._rawValidators,n),r_(e._rawAsyncValidators,n)}}function o_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const s_=[mw,$w,qw,Yw,t_,Gw];function a_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const u_="VALID",c_="INVALID",l_="PENDING",h_="DISABLED";function d_(t){return(m_(t)?t.validators:t)||null}function f_(t){return Array.isArray(t)?Pw(t):t||null}function p_(t,e){return(m_(e)?e.asyncValidators:t)||null}function g_(t){return Array.isArray(t)?Nw(t):t||null}function m_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=f_(this._rawValidators),this._composedAsyncValidatorFn=g_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===u_}get invalid(){return this.status===c_}get pending(){return this.status==l_}get disabled(){return this.status===h_}get enabled(){return this.status!==h_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=f_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=g_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=l_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=h_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=u_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==u_&&this.status!==l_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?h_:u_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=l_,this._hasOwnPendingAsyncValidator=!0;const e=xw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof b_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof w_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?h_:this.errors?c_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(l_)?l_:this._anyControlsHaveStatus(c_)?c_:u_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){m_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class v_ extends y_{constructor(t=null,e,n){super(d_(e),p_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){a_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){a_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class b_ extends y_{constructor(t,e,n){super(d_(e),p_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof v_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class w_ extends y_{constructor(t,e,n){super(d_(e),p_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof v_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const __={provide:Dw,useExisting:Object(r.T)(()=>C_)},O_=(()=>Promise.resolve(null))();let C_=(()=>{class t extends Dw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new b_({},Pw(t),Nw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){O_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),n_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){O_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),a_(this._directives,t)})}addFormGroup(t){O_.then(()=>{const e=this._findContainer(t.path),n=new b_({});(function(t,e){i_(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){O_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){O_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ow,10),r.Ib(Cw,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([__]),r.vb]}),t})();const S_={provide:Lw,useExisting:Object(r.T)(()=>T_)},E_=(()=>Promise.resolve(null))();let T_=(()=>{class t extends Lw{constructor(t,e,n,i){super(),this.control=new v_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===bw?n=t:(e=t,s_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){n_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){E_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;E_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Dw,9),r.Ib(Ow,10),r.Ib(Cw,10),r.Ib(pw,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([S_]),r.vb,r.wb]}),t})(),x_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),I_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),A_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[zw],imports:[I_]}),t})(),k_=(()=>{class t{constructor(t,e,n){this.serviceTable=t,this.service=e,this.router=n,this.table={createOn:new Date,lines:[]},this.data={createOn:new Date,inicio:new Date,final:new Date,description:"",table:"",pago:!1}}ngOnInit(){}save(){this.inicio&&(this.data.inicio=new Date(this.inicio+"T00:00:00")),this.final&&(this.data.final=new Date(this.final+"T00:00:00")),this.description&&(this.data.description=this.description),this.serviceTable.createOrUpdate(this.table).then(()=>{this.data.table=this.table.id,console.log(this.data),this.service.createOrUpdate(this.data).then(()=>{this.router.navigate(["/"])})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(cw),r.Ib(hw),r.Ib(ki))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-add-session"]],decls:22,vars:3,consts:[["id","add-session",1,"page"],["src","/myhouse/assets/logo.png","alt","MyHome"],[1,"line"],["type","date","name","inicio",3,"ngModel","ngModelChange"],["type","date","name","fina\xe7",3,"ngModel","ngModelChange"],["name","descricao",3,"ngModel","ngModelChange"],[3,"click"],[1,"fas","fa-save"]],template:function(t,e){1&t&&(r.Nb(0,"section",0),r.Nb(1,"h1"),r.Jb(2,"img",1),r.Mb(),r.Nb(3,"h2"),r.ic(4,"Novo Per\xedodo"),r.Mb(),r.Jb(5,"div",2),r.Nb(6,"form"),r.Nb(7,"label"),r.Nb(8,"p"),r.ic(9,"In\xedcio"),r.Mb(),r.Nb(10,"input",3),r.Ub("ngModelChange",function(t){return e.inicio=t}),r.Mb(),r.Mb(),r.Nb(11,"label"),r.Nb(12,"p"),r.ic(13,"Final"),r.Mb(),r.Nb(14,"input",4),r.Ub("ngModelChange",function(t){return e.final=t}),r.Mb(),r.Mb(),r.Nb(15,"label"),r.Nb(16,"p"),r.ic(17,"Descri\xe7\xe3o"),r.Mb(),r.Nb(18,"textarea",5),r.Ub("ngModelChange",function(t){return e.description=t}),r.Mb(),r.Mb(),r.Mb(),r.Nb(19,"button",6),r.Ub("click",function(){return e.save()}),r.Jb(20,"i",7),r.ic(21," Savar Per\xedodo"),r.Mb(),r.Mb()),2&t&&(r.yb(10),r.ac("ngModel",e.inicio),r.yb(4),r.ac("ngModel",e.final),r.yb(4),r.ac("ngModel",e.description))},directives:[x_,Uw,C_,bw,Fw,T_],styles:["#add-session[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:150px;width:100%;display:table;margin:0 auto 10px}#add-session[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:28px;color:#273b49;padding-bottom:30px}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;margin:0 auto;width:100%;max-width:500px}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 10px;width:50%}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;padding:15px 0 5px}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:5px;background:#fff;box-shadow:1px 1px 5px 1px rgba(0,0,0,.2)}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child{width:100%}#add-session[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:last-child   textarea[_ngcontent-%COMP%]{max-width:100%;min-width:100%;height:5em;max-height:5em;min-height:5em}#add-session[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px auto 0;display:table;background-color:#e5388e;color:#fff;padding:5px 20px;border-radius:20px;font-weight:600;text-transform:uppercase}#add-session[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em;vertical-align:middle;margin-right:10px}"]}),t})();var P_=n("PSD3"),N_=n.n(P_),M_=function(t){return t[t.FINANCIAL=0]="FINANCIAL",t[t.NATURAL=1]="NATURAL",t}({});let j_=new r.q("currency.mask.config");class D_{constructor(t){this.htmlInputElement=t}setCursorAt(t){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(t,t);else if(this.htmlInputElement.createTextRange){let e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}updateValueAndCursor(t,e,n){this.rawValue=t,this.setCursorAt(n-=e-t.length)}get canInputMoreNumbers(){let t=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd,r=!(e==n||!this.htmlInputElement.value.substring(e,n).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),i="0"==this.htmlInputElement.value.substring(0,1);return t||r||i}get inputSelection(){let t=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)t=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{let n=document.selection.createRange();if(n&&n.parentElement()==this.htmlInputElement){let r=this.htmlInputElement.value.length,i=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange();o.moveToBookmark(n.getBookmark());let s=this.htmlInputElement.createTextRange();s.collapse(!1),o.compareEndPoints("StartToEnd",s)>-1?t=e=r:(t=-o.moveStart("character",-r),t+=i.slice(0,t).split("\n").length-1,o.compareEndPoints("EndToEnd",s)>-1?e=r:(e=-o.moveEnd("character",-r),e+=i.slice(0,e).split("\n").length-1))}}return{selectionStart:t,selectionEnd:e}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(t){this._storedRawValue=t,this.htmlInputElement&&(this.htmlInputElement.value=t)}get storedRawValue(){return this._storedRawValue||""}}class R_{constructor(t,e){this.htmlInputElement=t,this.options=e,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new D_(t),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(t){const{decimal:e,precision:n,inputMode:r}=this.options;let i=String.fromCharCode(t);const o=i===this.options.decimal;if(this.rawValue){let t=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd;const s=this.rawValue.substring(0,t);let a=this.rawValue.substring(n,this.rawValue.length);const u=-1!==s.indexOf(e);r===M_.NATURAL&&u&&t===n&&(a=a.substring(1));const c=s+i+a;let l=t+1;if(!o&&i!==this.options.thousands||i!==a[0]){if(!this.SINGLE_DIGIT_REGEX.test(i))return}else l++;this.rawValue=c,this.updateFieldValue(l)}else{this.rawValue=this.applyMask(!1,i);let t=void 0;r===M_.NATURAL&&n>0&&(t=this.rawValue.indexOf(e),o&&t++),this.updateFieldValue(t)}}applyMask(t,e,n=!1){let{allowNegative:r,decimal:i,precision:o,prefix:s,suffix:a,thousands:u,min:c,max:l,inputMode:h}=this.options,d=(e=t?new Number(e).toFixed(o):e).replace(this.ONLY_NUMBERS_REGEX,"");if(!d&&e!==i)return"";h!==M_.NATURAL||t||n||(d=(e=this.padOrTrimPrecision(e)).replace(this.ONLY_NUMBERS_REGEX,""));let f=d.slice(0,d.length-o).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==f&&(f="0");let p=parseInt(f);f=f.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,u),u&&f.startsWith(u)&&(f=f.substring(1));let g=f,m=d.slice(d.length-o),y=parseInt(m)||0,v=e.indexOf("-")>-1;l=this.isNullOrUndefined(l)||this.isNullOrUndefined(c)?l:Math.max(l,c);let b=p+y/100;return b=v?-b:b,!this.isNullOrUndefined(l)&&b>l?this.applyMask(!0,l+""):!this.isNullOrUndefined(c)&&b<c?this.applyMask(!0,c+""):(o>0&&(g+="0"==g&&m.length<o?i+"0".repeat(o-1)+m:i+m),(v&&r&&0!=b?"-":"")+s+g+a)}padOrTrimPrecision(t){let{decimal:e,precision:n}=this.options,r=t.lastIndexOf(e);-1===r&&(r=t.length,t+=e);let i=t.substring(r).replace(this.ONLY_NUMBERS_REGEX,"");const o=i.length;if(o<n)for(let s=o;s<n;s++)i+="0";else o>n&&(i=i.substring(0,i.length+n-o));return t.substring(0,r)+e+i}clearMask(t){if(this.isNullable()&&""===t)return null;let e=(t||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((t,n)=>{const r=new RegExp(n,"g");e=e.replace(r,t)}),parseFloat(e)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(t){let{decimal:e,thousands:n,prefix:r,suffix:i,inputMode:o}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let s=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;const u=this.rawValue.length-i.length;if(s=Math.min(u,Math.max(s,r.length)),a=Math.min(u,Math.max(a,r.length)),a===s&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(a);let c=this.rawValue.indexOf(e);-1===c&&(c=this.rawValue.length);let l=0,h="";const d=c<s,f=c+1===s;if(s===a)if(8==t){if(a<=r.length)return;a--,this.rawValue.substr(a,1).match(/\d/)||a--,o===M_.NATURAL&&d&&(l=-1,f&&this.value<10&&this.value>-10&&(h+="0"))}else if(46==t||63272==t){if(a===u)return;s++,this.rawValue.substr(a,1).match(/\d/)||(a++,s++)}if(o===M_.NATURAL&&a>c){const t=s-a;for(let e=0;e<t;e++)h+="0"}let p=this.rawValue.length-s;this.rawValue=this.rawValue.substring(0,a)+h+this.rawValue.substring(s),this.rawValue.substr(r.length,1)===n&&(this.rawValue=this.rawValue.substring(0,r.length)+this.rawValue.substring(r.length+1),p=Math.min(p,this.rawValue.length-r.length)),this.updateFieldValue(this.rawValue.length-p+l,!0)}updateFieldValue(t,e=!1){let n=this.applyMask(!1,this.rawValue||"",e);t=null==t?this.rawValue.length:t,t=Math.max(this.options.prefix.length,Math.min(t,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(n,this.rawValue.length,t)}updateOptions(t){let e=this.value;this.options=t,this.value=e}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(t){this.inputManager.rawValue=t}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(t){this.rawValue=this.applyMask(!0,""+t)}isNullOrUndefined(t){return null==t}}class L_{constructor(t,e){this.inputService=new R_(t,e)}handleCut(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(t){let e=this.inputService.inputSelection.selectionStart,n=this.inputService.rawValue.charCodeAt(e-1),r=this.inputService.rawValue.length,i=this.inputService.storedRawValue.length;if(1!=Math.abs(r-i))return this.inputService.updateFieldValue(e),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,r<i&&this.timer(()=>{this.inputService.updateFieldValue(e+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),r>i&&(this.inputService.updateFieldValue(e-1),this.handleKeypressImpl(n))}handleKeydown(t){let e=t.which||t.charCode||t.keyCode;8!=e&&46!=e&&63272!=e||(t.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(t){let e=t.which||t.charCode||t.keyCode;t.preventDefault(),97===e&&t.ctrlKey||this.handleKeypressImpl(e)}handleKeypressImpl(t){switch(t){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(t))}this.onModelChange(this.inputService.value)}handlePaste(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(t){this.inputService.updateOptions(t)}getOnModelChange(){return this.onModelChange}setOnModelChange(t){this.onModelChange=t}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(t){this.onModelTouched=t}setValue(t){this.inputService.value=t}timer(t,e){setTimeout(t,e)}}const V_={provide:pw,useExisting:Object(r.T)(()=>F_),multi:!0};let F_=(()=>{class t{constructor(t,e,n){this.currencyMaskConfig=t,this.elementRef=e,this.keyValueDiffers=n,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:M_.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=n.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new L_(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleCut(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(t)}handlePaste(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(t)}handleDrop(t){this.isChromeAndroid()||t.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}writeValue(t){this.inputHandler.setValue(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(j_,8),r.Ib(r.l),r.Ib(r.t))},t.\u0275dir=r.Db({type:t,selectors:[["","currencyMask",""]],hostBindings:function(t,e){1&t&&r.Ub("blur",function(t){return e.handleBlur(t)})("cut",function(t){return e.handleCut(t)})("input",function(t){return e.handleInput(t)})("keydown",function(t){return e.handleKeydown(t)})("keypress",function(t){return e.handleKeypress(t)})("paste",function(t){return e.handlePaste(t)})("drop",function(t){return e.handleDrop(t)})},inputs:{options:"options"},features:[r.xb([V_])]}),t})(),U_=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:j_,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[wt,A_]]}),t})();const B_=function(){return{prefix:"R$ ",thousands:".",decimal:",",align:"left"}};function q_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"tbody"),r.Nb(1,"tr"),r.Nb(2,"td"),r.Nb(3,"input",14),r.Ub("ngModelChange",function(t){return e.$implicit.nome=t}),r.Mb(),r.Mb(),r.Nb(4,"td"),r.Nb(5,"select",15),r.Ub("ngModelChange",function(t){return e.$implicit.pagante=t}),r.Nb(6,"option",16),r.ic(7,"Fernando"),r.Mb(),r.Nb(8,"option",17),r.ic(9,"Vitor"),r.Mb(),r.Mb(),r.Mb(),r.Nb(10,"td"),r.Nb(11,"input",18),r.Ub("ngModelChange",function(t){return e.$implicit.valor=t}),r.Mb(),r.Mb(),r.Nb(12,"td"),r.Nb(13,"input",19),r.Ub("ngModelChange",function(t){return e.$implicit.data=t}),r.Mb(),r.Mb(),r.Nb(14,"td"),r.Nb(15,"span",10),r.Ub("click",function(){r.ec(t);const n=e.index;return r.Wb(2).removeLine(n)}),r.Jb(16,"i",20),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.yb(3),r.ac("ngModel",t.nome),r.yb(2),r.ac("ngModel",t.pagante),r.yb(6),r.ac("ngModel",t.valor)("options",r.cc(5,B_)),r.yb(2),r.ac("ngModel",t.data)}}function H_(t,e){if(1&t){const t=r.Ob();r.Lb(0),r.Nb(1,"header"),r.Nb(2,"span"),r.Nb(3,"button",2),r.Jb(4,"i",3),r.ic(5," Voltar"),r.Mb(),r.Mb(),r.Nb(6,"span"),r.Nb(7,"h1"),r.Jb(8,"img",4),r.ic(9),r.Xb(10,"date"),r.Xb(11,"date"),r.Mb(),r.Mb(),r.Nb(12,"span"),r.Nb(13,"button",5),r.Ub("click",function(){return r.ec(t),r.Wb().save()}),r.Jb(14,"i",6),r.ic(15," Salver"),r.Mb(),r.Mb(),r.Mb(),r.Jb(16,"div",7),r.Nb(17,"main"),r.Nb(18,"div",8),r.Nb(19,"table"),r.Nb(20,"thead"),r.Nb(21,"tr"),r.Nb(22,"td"),r.ic(23,"Nome"),r.Mb(),r.Nb(24,"td"),r.ic(25,"Pagante"),r.Mb(),r.Nb(26,"td"),r.ic(27,"Valor"),r.Mb(),r.Nb(28,"td"),r.ic(29,"Data"),r.Mb(),r.Jb(30,"td"),r.Mb(),r.Mb(),r.hc(31,q_,17,6,"tbody",9),r.Mb(),r.Mb(),r.Nb(32,"button",10),r.Ub("click",function(){return r.ec(t),r.Wb().addLine()}),r.Jb(33,"i",11),r.ic(34," Adicionar Linha"),r.Mb(),r.Nb(35,"div",12),r.Nb(36,"div"),r.ic(37,"Casa: "),r.Nb(38,"strong"),r.ic(39),r.Xb(40,"currency"),r.Mb(),r.Mb(),r.Nb(41,"div"),r.ic(42,"Fernando: "),r.Nb(43,"strong"),r.ic(44),r.Xb(45,"currency"),r.Mb(),r.Mb(),r.Nb(46,"div"),r.ic(47,"Vitor: "),r.Nb(48,"strong"),r.ic(49),r.Xb(50,"currency"),r.Mb(),r.Mb(),r.Mb(),r.Nb(51,"div",13),r.Nb(52,"strong"),r.ic(53),r.Xb(54,"currency"),r.Mb(),r.Mb(),r.Mb(),r.Kb()}if(2&t){const t=r.Wb();r.yb(9),r.lc(" ",r.Zb(10,8,t.seesion.inicio.toDate(),"dd/LL")," - ",r.Zb(11,11,t.seesion.final.toDate(),"dd/LL"),""),r.yb(22),r.ac("ngForOf",t.lines),r.yb(8),r.kc("R$",r.Yb(40,14,t.valorCasa),""),r.yb(5),r.kc("R$",r.Yb(45,16,t.valorFernando),""),r.yb(5),r.kc("R$",r.Yb(50,18,t.valorVitor),""),r.yb(4),r.lc("",t.divida.nome," deve R$:",r.Yb(54,20,t.divida.valor),"")}}let z_=(()=>{class t{constructor(t,e,n,r){this.serviceSession=t,this.service=e,this.route=n,this.router=r}ngOnInit(){this.route.paramMap.subscribe(t=>{this.id=t.params.id,this.serviceSession.get(this.id).subscribe(t=>{this.seesion=t,this.service.get(this.seesion.table).subscribe(t=>{this.tables=t,t.hasOwnProperty("createOn")?this.lines=t.lines:this.router.navigate(["/"])})})})}addLine(){this.lines.push({nome:"",pagante:"Fernando",valor:void 0,data:new Date})}removeLine(t){this.lines.splice(t,1)}save(){this.tables.lines=this.lines,this.service.createOrUpdate(this.tables).then(()=>{N_.a.fire("Salvo!","Tabela salva com sucesso","success")})}get valorVitor(){let t=0;return this.lines&&this.lines.forEach(e=>{"Vitor"==e.pagante&&(t+=e.valor)}),t}get valorFernando(){let t=0;return this.lines&&this.lines.forEach(e=>{"Fernando"==e.pagante&&(t+=e.valor)}),t}get valorCasa(){let t=0;return this.lines&&this.lines.forEach(e=>{t+=e.valor}),t}get divida(){return this.valorFernando<=this.valorCasa/2?{nome:"Fernando",valor:this.valorCasa/2-this.valorFernando}:{nome:"Vitor",valor:this.valorCasa/2-this.valorVitor}}toogleTab(t){const e=document.querySelectorAll("#abas>button"),n=document.querySelectorAll(".box-aba");e.forEach(t=>{t.classList.remove("select")}),n.forEach(t=>{t.classList.remove("select")}),e[t].classList.add("select"),n[t].classList.add("select")}test(){console.log(this.lines)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(hw),r.Ib(cw),r.Ib(hr),r.Ib(ki))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-detail"]],decls:2,vars:1,consts:[["id","detail",1,"page"],[4,"ngIf"],["routerLink","/"],[1,"far","fa-arrow-to-left"],["src","/myhouse/assets/icon.png","alt","MyHome"],["id","save",3,"click"],[1,"fas","fa-save"],[1,"line"],[1,"table-wrapper"],[4,"ngFor","ngForOf"],[3,"click"],[1,"fas","fa-plus-circle"],["id","totais"],["id","total"],["type","text","name","nome","placeholder","Nome",3,"ngModel","ngModelChange"],["name","pagante",3,"ngModel","ngModelChange"],["value","Fernando"],["value","Vitor"],["currencyMask","","name","valor","placeholder","Valor",3,"ngModel","options","ngModelChange"],["type","date","name","data","placeholder","Data",3,"ngModel","ngModelChange"],[1,"fas","fa-times-square"]],template:function(t,e){1&t&&(r.Nb(0,"section",0),r.hc(1,H_,55,22,"ng-container",1),r.Mb()),2&t&&(r.yb(1),r.ac("ngIf",e.tables&&e.seesion))},directives:[pt,Pi,dt,bw,Fw,T_,Yw,Zw,e_,F_],pipes:[vt,bt],styles:["#detail[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;width:100%;max-width:900px;margin:0 auto;padding:10px 0;text-align:left}#detail[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e5388e;color:#fff;font-weight:700;padding:10px 30px;border-radius:10px;display:table}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:28px;color:#273b49;line-height:1em}#detail[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5em;border-right:10px;vertical-align:middle}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{max-width:900px;margin:10px auto}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{overflow:auto;width:100%}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:calc(100% - 1px);min-width:-webkit-max-content;min-width:max-content;border-collapse:collapse;border-spacing:0;background-color:#fff}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:120px}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), #detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:150px}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#e5388e;color:#fff;font-weight:700;padding:5px 10px}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border:1px solid #aaa;border-top:none;border-bottom:none}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;color:#e5388e;vertical-align:middle}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{text-align:left;padding:10px;background:#fff;width:100%;border:1px solid #aaa;color:#e5388e;font-weight:700;cursor:pointer}#detail[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]:hover{background:#e5388e;color:#fff}#detail[_ngcontent-%COMP%]   #totais[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:5px 0 0}#detail[_ngcontent-%COMP%]   #totais[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:295px;margin:5px 0}#detail[_ngcontent-%COMP%]   #totais[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #detail[_ngcontent-%COMP%]   #total[_ngcontent-%COMP%]{background-color:#bababa;width:100%;padding:20px;font-size:1.2em;color:#000;text-align:center}#detail[_ngcontent-%COMP%]   #total[_ngcontent-%COMP%]{margin:0 0 5px}@media only screen and (max-width:600px){#detail[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child, #detail[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-child(3){order:3}#detail[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-child(2){display:table;width:100%;order:1;padding-bottom:20px}#detail[_ngcontent-%COMP%]   #totais[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:100%;margin-top:0}}"]}),t})();function G_(t,e){if(1&t&&(r.Nb(0,"p"),r.ic(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.yb(1),r.jc(t.description)}}function K_(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div"),r.Nb(1,"span"),r.Nb(2,"h2"),r.ic(3),r.Xb(4,"date"),r.Xb(5,"date"),r.Mb(),r.hc(6,G_,2,1,"p",4),r.Mb(),r.Nb(7,"div"),r.Nb(8,"span"),r.Nb(9,"button",8),r.ic(10,"Detalhe"),r.Mb(),r.Nb(11,"button",9),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb(2).delete(n)}),r.ic(12,"Remover"),r.Mb(),r.Mb(),r.Nb(13,"span"),r.Nb(14,"label"),r.Nb(15,"input",10),r.Ub("ngModelChange",function(t){return e.$implicit.pago=t})("click",function(){r.ec(t);const n=e.$implicit;return r.Wb(2).tooglePago(n)}),r.Mb(),r.Nb(16,"div"),r.Jb(17,"div"),r.Mb(),r.ic(18," Pago "),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.yb(3),r.lc("",r.Zb(4,5,t.inicio.toDate(),"dd/LL")," - ",r.Zb(5,8,t.final.toDate(),"dd/LL"),""),r.yb(3),r.ac("ngIf",t.description),r.yb(3),r.bc("routerLink","/table/",t.id,""),r.yb(6),r.ac("ngModel",t.pago)}}function $_(t,e){if(1&t&&(r.Lb(0),r.hc(1,K_,19,11,"div",7),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.ac("ngForOf",t.list)}}function W_(t,e){1&t&&(r.Lb(0),r.Nb(1,"h2",11),r.ic(2,"Nenhum Per\xedodo Cadastrado"),r.Mb(),r.Kb())}const Q_=[{path:"",component:(()=>{class t{constructor(t,e){this.seviceTable=t,this.service=e,this.list=[]}ngOnInit(){this.service.list().subscribe(t=>{this.list=t.sort((t,e)=>t.inicio>e.inicio?-1:t.inicio<e.inicio?1:0)})}tooglePago(t){t.pago=!t.pago,this.service.createOrUpdate(t)}delete(t){N_.a.fire({title:"Remover",text:"Tem certeza que deseja remover esse per\xedodo?",icon:"question",showDenyButton:!0,confirmButtonText:"Sim",denyButtonText:"N\xe3o"}).then(e=>{e.isConfirmed&&this.seviceTable.delete(t.table).then(()=>{this.service.delete(t.id).then(()=>{N_.a.fire("Removido!","Item removido com sucesso","success")})})})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(cw),r.Ib(hw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-sessions"]],decls:11,vars:2,consts:[["id","sessions",1,"page"],["src","/myhouse/assets/logo.png","alt","MyHome"],[1,"line"],["id","list-session"],[4,"ngIf"],["routerLink","/add"],[1,"fas","fa-plus-circle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"click"],["name","page","type","checkbox",3,"ngModel","ngModelChange","click"],[1,"no-list"]],template:function(t,e){1&t&&(r.Nb(0,"section",0),r.Nb(1,"h1"),r.Jb(2,"img",1),r.Mb(),r.Jb(3,"div",2),r.Nb(4,"div",3),r.hc(5,$_,2,1,"ng-container",4),r.hc(6,W_,3,0,"ng-container",4),r.Mb(),r.Nb(7,"footer"),r.Nb(8,"button",5),r.Jb(9,"i",6),r.ic(10," Adicionar Per\xedodo"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(5),r.ac("ngIf",e.list[0]),r.yb(1),r.ac("ngIf",!e.list[0]))},directives:[pt,Pi,dt,mw,Fw,T_],pipes:[vt],styles:['#sessions[_ngcontent-%COMP%]{position:relative}#sessions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:250px;width:100%;display:table;margin:0 auto 20px}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-wrap:wrap;justify-content:center}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;display:flex;flex-direction:column;justify-content:space-between;background:#fff;box-shadow:1px 1px 5px 1px rgba(0,0,0,.2);width:350px}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:15px 15px 10px;font-weight:700;font-size:28px;color:#273b49}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:table;width:50px;height:5px;background-color:#f2b8da;margin-top:12px}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7c7c7c;padding:0 15px 15px}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-top:1px solid #bdbdbd;padding:10px 15px;justify-content:space-between}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#7c7c7c;text-transform:uppercase;cursor:pointer}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#e5388e}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:10px}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{width:40px;height:20px;display:table;position:relative;margin-right:10px;border-radius:20px;vertical-align:middle;border:1px solid #e5388e;transition:.5s}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{top:2px;left:2px;width:14px;height:14px;display:table;transition:.5s;border-radius:50%;position:absolute;background-color:#e5388e}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]{background:#e5388e}#sessions[_ngcontent-%COMP%]   #list-session[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff;left:calc(100% - 17px)}#sessions[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;box-shadow:-2px 0 5px 1px rgba(0,0,0,.2);background-color:#fff;text-align:center;padding:10px 2px}#sessions[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e5388e;color:#fff;padding:5px 20px;border-radius:20px;font-weight:600}#sessions[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em;vertical-align:middle;margin-right:10px}']}),t})()},{path:"add",component:k_},{path:"table/:id",component:z_},{path:"**",redirectTo:""}];let Y_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Hi.forRoot(Q_)],Hi]}),t})(),Z_=(()=>{class t{constructor(){this.title="controleDeEstoque"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:[Mi],styles:[""]}),t})(),X_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[Z_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[Jt,Y_,A_,po.a.initializeApp(i),uw,Kb,U_]]}),t})();Zt().bootstrapModule(X_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);